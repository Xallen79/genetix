function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,a,r,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(a=0;a<i;a++)r=e[n][a],l.push(String.fromCharCode(r[2])+String.fromCharCode(r[1])+String.fromCharCode(r[0]));l.push(s)}return l.join("")}function n(e,t){var n,a,r,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),c=[];for(r=0;r<i;r++)for(c.push(n=[]),a=0;a<l;a++)n.push(e[parseInt(r/t)][parseInt(a/t)]);return c}window.generateBitmapDataURL=function(a,r){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;r=r||1,1!=r&&(a=n(a,r));var o,i=a.length,s=i?a[0].length:0,l=(4-3*s%4)%4,c=(3*s+l)*i,d=54+c;return i=e(i,4),s=e(s,4),c=e(c,4),d=e(d,4),o="BM"+d+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+c+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(a,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function a(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,a=[];if(3==n)for(;t<n;t++)a.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)a.push(parseInt("0x"+e.substring(t,t+2)));return a}:alert("Unparseable color: "+e)}function r(e){var r=t.getElementById(e).style.backgroundColor;return""===r?[255,255,255]:(o===n&&a(r),o(r))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var a,o,i,s,l,c=50,d=49,u=[];d>=0;d--)for(u.push(o=[]),a=0;a<c;a++)o.push(r(a+"_"+d));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router","lz-string"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var a=[];a.push({name:"home",url:"/",component:"bloqhead.components.home"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.achievements",url:"achievements",component:"bloqhead.components.achievementsUI"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)})}]).run(["gameService",function(e){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.achievementsUI",{templateUrl:"components/achievements/achievements.html",controller:"bloqhead.controllers.achievementsUI",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.achievementsUI",function(){var e=this;e.$onInit=function(){}});var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],a=0;a<e.length;a++)e[a].hasTrait(t)&&n.push(e[a]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t,n){for(var a=Math.random(),r=angular.copy(a<=c.crossoverrate?e:t),o=r[2]/255,i="",s="",l=0;l<n;l++)i+=Math.random()<o?"1":"0",s+=Math.random()<o?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(s,2),r}function a(e,t){return generateBitmapDataURL(s(o(e,t),e.length),20)}function r(e){return generateBitmapDataURL(s(i(e),e.length),20)}function o(e,t){for(var n=[],a=50,r=255/(Math.pow(2,t)-1),o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],l=Math.abs(i-s)/255;l*=r,i>s?s=0:i=0,i*=l,s*=l,i>0&&(i+=a),s>0&&(s+=a),i>255&&(i=255),s>255&&(s=255),n.push([i,s,0])}return n}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],a=0;a<e.length/t;a++){for(var r=[],o=0;o<t;o++)r.push(e[o+a*t]);n.push(r)}return n}var l=function(e){this.traitInspector=new t,this.update(e)};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.genes=e.genes||this.genes||[],this.mutationBits=e.mutationBits||this.mutationBits||4,this.redGreenImage=a(this.genes,this.mutationBits),this.blueImage=r(this.genes),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes),this.name=this.name&&"Unknown Gender"!==this.name?this.name:e.name||this.getRandomName()},l.prototype.breed=function(e,t){for(var a=this,r=e,o=this.hasTrait("Male")?"Male":"Female",i=new l({id:t,generation:a.generation+1,genes:[],mother:"Female"==o?a:r,father:"Male"==o?a:r}),s=0;s<a.genes.length;s++){var c=a.genes[s],d=r.genes[s];i.genes.push(n(c,d,this.mutationBits))}return i.update(),i},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?d[randomIntFromInterval(0,d.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+m[randomIntFromInterval(0,m.length-1)]+g[randomIntFromInterval(0,g.length-1)];return e+t};var c={crossoverrate:.5},d=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],g=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){if(e=e||{},this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.breeders=e.breeders||this.breeders||[],this.maxSize=e.maxSize||this.maxSize||10,this.breederMutationBits=e.breederMutationBits||this.breederMutationBits||4,this.breederMutationChance=e.breederMutationChance||this.breederMutationChance||5,this.breederGenesUnlocked=e.breederGenesUnlocked||this.breederGenesUnlocked||[42],this.initialSize=e.initialSize||this.initialSize||2,e.members){this.members=[];for(var a=0;a<e.members.length;a++){var r=e.members[a],o=new t({id:r.id,mother:r.mother||null,father:r.father||null,generation:r.generation,genes:r.genes,mutationBits:r.mutationBits,name:r.name});o.update(),this.members.push(o)}}else this.members=this.members||this.createInitialPopulation(this.initialSize)},a.prototype.getState=function(){for(var e={currentGeneration:this.currentGeneration,breeders:this.breeders,maxSize:this.maxSize,breederMutationBits:this.breederMutationBits,breederMutationChance:this.breederMutationChance,breederGenesUnlocked:this.breederGenesUnlocked,initialSize:this.initialSize,members:[]},t=0;t<this.members.length;t++){var n=this.members[t];e.members.push({id:n.id,generation:n.generation,genes:n.genes,mutationBits:n.mutationBits,name:n.name})}return e},a.prototype.createInitialPopulation=function(e){for(var n=this,a=[],r=0;r<e;r++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),n.breederGenesUnlocked.indexOf(i)!==-1&&(o[i][2]=n.breederMutationChance);var s=r%2===0?255:0,l=r%2===0?0:255;o[42][0]=s,o[42][1]=l,o[42][2]=0;var c=new t({id:r,generation:0,genes:angular.copy(o),mutationBits:n.breederMutationBits});c.update(),a.push(c)}return a},a.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var a=this.getById(this.breeders[n]);if(a.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},a.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},a.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},a.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),a=t.breed(n,e.members.length);return e.members.push(a),a},a}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},a=function(e){if(angular.isDefined(e.requiredTraits))for(var r=0;r<e.requiredTraits.length;r++){var o=e.requiredTraits[r],i=n(o);t.indexOf(i.name)===-1&&a(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},r=function(){for(var t=0;t<e.length;t++){var n=e[t];a(n)}return e};return r()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={})},a.prototype.getTraits=function(e){var t=[];if(e.length)for(var a=0;a<n.length;a++){for(var r=n[a],o=!0,i=0;i<r.genes.length&&o===!0;i++){var s=r.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(r)}return t},a.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,a=0,r=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?a+=e[s][1]-e[s][0]:s<30?r+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt((Math.abs(n)+20)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt((Math.abs(a)+20)/25))*(a<0?-1:1),t.END=Math.floor(Math.sqrt((Math.abs(r)+20)/25))*(r<0?-1:1),t.CHR=Math.floor(Math.sqrt((Math.abs(o)+20)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt((Math.abs(i)+20)/25))*(i<0?-1:1)}return t},a}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2,ACHIEVEMENT:3}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var a=this;a.$onInit=function(){a.messages=[],t.SubscribeNewMessageEvent(e,a.receiveMessages)},a.getLogClass=function(e){var t="list-group-item-",a="";switch(e){case n.GENERAL:a="color-general";break;case n.ACHIEVEMENT:a="color-achievement";break;case n.BREED:a="color-breed";break;default:a=t+"none"}return a},a.receiveMessages=function(e,t){a.messages=t,$(".log-component")[0].scrollTop=$(".log-component")[0].scrollHeight}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(e){e&&(n.messages=[],n.logGeneralMessage("Welcome to Genetix!"))},n.logGeneralMessage=function(a){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(a){n.messages.push({type:t.BREED,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logAchievementMessage=function(a){n.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,a){var r=e.$on("newMessageEvent",a.bind(this));t.$on("$destroy",r),e.$emit("newMessageEvent",n.messages)}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div><button title="Hard Reset" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.resetSave();"><i class="fa fa-recycle"></i></button><button title="Play/Pause" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["$scope","gameService","gameLoopService","gameStates",function(e,t,n,a){var r=this;r.$onInit=function(){r.currentState=n.getState().currentState},r.toggleState=function(){r.currentState=r.currentState===a.RUNNING?a.PAUSED:a.RUNNING,n.setState(r.currentState)},r.getIcon=function(){return r.currentState===a.RUNNING?"fa-pause":"fa-play"},r.resetSave=function(){t.hardReset()}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.home",{templateUrl:"components/home.html",controller:"bloqhead.controllers.home"}),game.controller("bloqhead.controllers.home",function(){this.$onInit=function(){}}),game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService","achievementService","resourceService",function(e,t,n,a){var r=this;r.$onInit=function(){r.breeders=[],r.population=[],r.maxPopulation=0,t.SubscribePopulationUpdateEvent(e,r.updatePopulation),t.SubscribeBreederUpdateEvent(e,r.updateBreeders),n.SubscribeNewRewardEvent(e,r.rewardEarned)},r.rewardEarned=function(e,t){console.log(t)},r.updateGene=function(e,n,a){t.updateMember(e,n,a)},r.addBreeder=function(e){t.addBreeder(e)},r.removeBreeder=function(e){t.removeBreeder(e)},r.updateBreeders=function(e,t){r.breeders=t},r.updatePopulation=function(e,t){r.population=t.population,r.maxPopulation=t.maxSize}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<",assign:"&"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){},e.assignMe=function(){e.assign({$id:e.unit.id})}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.home"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadResourceList",{templateUrl:"components/resourceList/resourceList.html",controller:"bloqhead.controllers.resourceList"}),game.controller("bloqhead.controllers.resourceList",["$scope","resourceService","resourceTypes",function(e,t,n){var a=this;a.resourceTypes=n,a.resources={},a.$onInit=function(){t.SubscribeResourceChangedEvent(e,a.resourceChanged),t.SubscribeResourceLimitChangedEvent(e,a.resourceLimitChanged),a.resources=t.getResourcesSnapshot()},a.resourceChanged=function(e,t,n){a.resources[t]||(a.resources[t]=[]),a.resources[t][0]=n},a.resourceLimitChanged=function(e,t,n){a.resources[t]||(a.resources[t]=[]),a.resources[t][1]=n}}]);var game=angular.module("bloqhead.genetixApp");game.constant("achievementSetup",{achievements:{A_BIRTHS:{aid:"A_BIRTHS",name:"The Chosen One",desc:"Create a new unit",ranks:[[1,[["P_R_BONUS","GOLD",50],["P_R_BONUS","WOOD",100]]],[20,[["P_R_BONUS","GOLD",50],["P_M_HAPPINESS"],["P_G_ENHANCED",14,10]]]]},A_DIRT:{aid:"A_DIRT",name:"Its Dirt....",desc:"Earn dirt.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_DIRT_C:{aid:"A_DIRT_C",name:"Dirt Hoarder",desc:"Aquire dirt... lots and lots of dirt!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_BRICKS:{aid:"A_BRICKS",name:"bricks",desc:"Earn bricks.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_BRICKS_C:{aid:"A_BRICKS_C",name:"Brick Hoarder",desc:"Aquire bricks... lots and lots of bricks!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WATER:{aid:"A_WATER",name:"omnomnom",desc:"Earn water.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WATER_C:{aid:"A_WATER_C",name:"Water Hoarder",desc:"Aquire water... lots and lots of water!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WOOD:{aid:"A_WOOD",name:"tree guts",desc:"Earn wood.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WOOD_C:{aid:"A_WOOD_C",name:"Wood Hoarder",desc:"Aquire wood... lots and lots of wood!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_GOLD:{aid:"A_GOLD",name:"Oooohhh Shiiiiiny",desc:"Earn gold.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_GOLD_C:{aid:"A_GOLD_C",name:"Gold Hoarder",desc:"Aquire gold... lots and lots of gold!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_HAPPINESS:{aid:"A_HAPPINESS",name:"be happy mon",desc:"Earn happiness.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_HAPPINESS_C:{aid:"A_HAPPINESS_C",name:"Happyness",desc:"Aquire happiness... lots and lots of happiness!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]}},perks:{P_M_HAPPINESS:{pid:"P_M_HAPPINESS",name:"New Mechanic: Happiness",desc:"Happiness is a representation of how content your population is.",once:!0},P_R_MULTIPLIER:{pid:"P_R_MULTIPLIER",name:"Resource Muliplier",desc:"The rate that you aquire [%1] has been increased by [%2]x."},P_R_BONUS:{pid:"P_R_BONUS",name:"Bonus Resources",desc:"[%2] [%1] has been added to your coffers."},P_G_ENHANCED:{pid:"P_G_ENHANCED",name:"Gene Enhancement",desc:"The boundary has been increased by [%amt] for one of your [%attr] genes. ([%dom]/[%rec])"}}}),game.service("achievementService",["$rootScope","$filter","logService","achievementSetup","geneDefinitions","resourceTypes",function(e,t,n,a,r,o){var i=this;i.init=function(e){e?i.progress={achievements:e.achievements,perks:e.perks}:i.progress={achievements:[],perks:[]}},i.getState=function(){return{achievements:i.progress.achievements,perks:i.progress.perks}},i.updateProgress=function(t,r){var o=i.progress.achievements[t];o||(o={aid:t,amount:0},i.progress.achievements[t]=o);var s=o.amount,l=o.amount+r;o.amount=l;for(var c=a.achievements[t],d=0;d<c.ranks.length;d++){var u=c.ranks[d][0];if(u>s&&u<=l){var p={achievement:c,amountRequired:u,perks:[]};n.logAchievementMessage("Achievement Earned - "+c.name+" ("+u+")");for(var m=0;m<c.ranks[d][1].length;m++){var g=i.applyPerk(c.ranks[d][1][m]);null!==g&&p.perks.push(g)}e.$emit("newRewardEvent",p)}}},i.applyPerk=function(e){var s=e[0],l=a.perks[s];if(l.once){var c=t("filter")(i.progress.perks,{pid:s});if(0!==c.length)return null}var d=l.name+" - "+l.desc;switch(l.pid){case"P_G_ENHANCED":var u=r[e[1]];d=d.replace("[%dom]",u.dom),d=d.replace("[%rec]",u.rec),d=d.replace("[%attr]",u.attr[0]),d=d.replace("[%amt]",e[2]);break;case"P_R_BONUS":case"P_R_MULTIPLIER":d=d.replace("[%1]",o[e[1]]),d=d.replace("[%2]",e[2]);break;default:for(var p=1;p<e.length;p++)d=d.replace("[%"+p+"]",e[p])}n.logAchievementMessage(d);var m={pid:s,msg:d,arr:e,dt:(new Date).toUTCString()};return i.progress.perks.push(m),m},i.SubscribeNewRewardEvent=function(t,n){var a=e.$on("newRewardEvent",n.bind(this));t.$on("$destroy",a)}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameSaveKey","GENETIX_SAVE"),game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.constant("defaultState",{clearLog:!0,autoSaveSteps:30,gameLoopServiceState:{stepTimeMs:1e3},populationServiceState:{breedSteps:6,populationState:{initialSize:2,maxSize:22,breederMutationBits:5,breederGenesUnlocked:[0,1,2,3,4,5,6,7,8,9,42],breederMuatationChance:10}},achievementServiceState:{achievements:[],perks:[]},resourceServiceState:{resources:{DIRT:[0,25e3],BRICKS:[0,25e3],WATER:[0,1e3],WOOD:[0,1e3],GOLD:[0,1e3],HAPPINESS:[0,10]}}}),game.service("gameLoopService",["$window","$rootScope","gameStates","logService",function(e,t,n,a){var r=this;r.initialized=!1,r.init=function(e){e=e||{},r.stepTimeMs=e.stepTimeMs||r.stepTimeMs||1e3,r.lastTime=0,r.currentState=n.PAUSED,r.initialized||(r.initialized=!0,r.gameLoop(0)),r.currentState=e.currentState||r.currentState||n.RUNNING},r.getState=function(){return{stepTimeMs:r.stepTimeMs,currentState:r.currentState}},r.setState=function(e){r.currentState=e,e===n.PAUSED?a.logGeneralMessage("Game paused."):a.logGeneralMessage("Game resumed.")},r.gameLoop=function(a){for(var r=this,o=0;r.lastTime+a>r.stepTimeMs*(o+1);)o++;r.lastTime=r.lastTime-r.stepTimeMs*o,r.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},r.SubscribeGameLoopEvent=function(e,n){var a=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",a)}}]),game.service("gameService",["$rootScope","gameSaveKey","defaultState","logService","gameLoopService","populationService","achievementService","resourceService","LZString",function(e,t,n,a,r,o,i,s,l){var c=this;c.init=function(e){var a=l.decompressFromBase64(localStorage.getItem(t)),r=a?angular.fromJson(a):void 0;c.gameState=e||r||n,c.autoSaveSteps=c.gameState.autoSaveSteps||c.autoSaveSteps||10,c.startGame(),c.stepsSinceSave=0},c.startGame=function(){a.init(c.gameState.clearLog),o.init(c.gameState.populationServiceState||n.populationServiceState),s.init(c.gameState.resourceServiceState||n.resourceServiceState),i.init(c.gameState.achievementServiceState||n.achievementServiceState),r.init(c.gameState.gameLoopServiceState||n.gameLoopServiceState)},c.hardReset=function(){localStorage.removeItem(t),c.init()},r.SubscribeGameLoopEvent(e,function(e,n){if(c.stepsSinceSave+=n,c.stepsSinceSave>c.autoSaveSteps){var d=angular.copy(c.gameState);d.populationServiceState=angular.copy(o.getState()),d.resourceServiceState=angular.copy(s.getState()),d.achievementServiceState=angular.copy(i.getState()),d.gameLoopServiceState=angular.copy(r.getState());var u=l.compressToBase64(angular.toJson(angular.copy(d)));localStorage.setItem(t,u),a.logGeneralMessage("Game autosaved."),c.stepsSinceSave=0}})}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameLoopService","Population","logService","achievementService",function(e,t,n,a,r){var o=this;o.init=function(t){t=t||{},o.breedSteps=t.breedSteps||t.breedSteps||6,o.stepsSinceBreed=t.stepsSinceBreed||o.stepsSinceBreed||0,o.populationState=t.populationState||o.populationState,o.population=o.populationState?new n(o.populationState):o.population||new n,o.logService=a,e.$emit("breederUpdateEvent",o.population.breeders),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},o.getState=function(){var e={breedSteps:o.breedSteps,stepsSinceBreed:o.stepsSinceBreed};return e.populationState=o.population.getState(),e},o.handleGameLoop=function(t,n){var i=!1;if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(o.population.isBreeding()){for(o.stepsSinceBreed+=n;o.stepsSinceBreed>=o.breedSteps;){o.stepsSinceBreed-=o.breedSteps;var s=o.population.breed();null!==s&&(a.logBreedMessage("New offspring! "+s.name),r.updateProgress("A_BIRTHS",1),i=!0)}i&&e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})}},o.addBreeder=function(t){o.population.breeders.indexOf(t)===-1&&(o.population.breeders.push(t),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder added: "+o.population.getById(t).name))},o.removeBreeder=function(t){var n=o.population.breeders.indexOf(t);n!==-1&&(o.population.breeders.splice(n,1),o.population.isBreeding()||(o.stepsSinceBreed=0),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder removed: "+o.population.getById(t).name))},o.updateMember=function(t,n,a){var r=o.population.getById(t);r.genes[n]=a,r.update(),e.$emit("populationUpdateEvent",o.population.members)},o.SubscribeBreederUpdateEvent=function(t,n){var a=e.$on("breederUpdateEvent",n);t.$on("$destroy",a),e.$emit("breederUpdateEvent",o.population.breeders)},o.SubscribePopulationUpdateEvent=function(t,n){var a=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",a),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},t.SubscribeGameLoopEvent(e,o.handleGameLoop)}]);var game=angular.module("bloqhead.genetixApp");game.constant("resourceTypes",{DIRT:"Dirt",WATER:"Water",WOOD:"Wood",GOLD:"Gold",BRICKS:"Bricks",HAPPINESS:"Happiness"}),game.service("resourceService",["$rootScope","$filter","defaultState","logService","geneDefinitions","resourceTypes","achievementService",function(e,t,n,a,r,o,i){var s=this,l=!1;s.init=function(t){t?s.state=t:s.state=n.resourceServiceState,l||i.SubscribeNewRewardEvent(e,s.rewardEarned),l=!0;for(var a in o)if(o.hasOwnProperty(a)){var r=s.state.resources[a];e.$emit("resourceChangedEvent",a,r[0]),e.$emit("resourceLimitChangedEvent",a,r[1])}},s.getState=function(){return s.state},s.rewardEarned=function(e,t){for(var n=0;n<t.perks.length;n++){var a=t.perks[n];"P_R_BONUS"===a.pid&&s.addResource(a.arr[1],a.arr[2])}},s.getResourcesSnapshot=function(){return angular.copy(s.state.resources)},s.addResource=function(t,n){var a=s.state.resources[t];a[0]+=n,a[0]>a[1]&&(a[0]=a[1]),a[0]<0&&(a[0]=0),i.updateProgress("A_"+t,n),i.updateProgress("A_"+t+"_C",a[0]),e.$emit("resourceChangedEvent",t,a[0])},s.increaseResourceLimit=function(t,n){var a=s.state.resources[t];a[1]+=n,e.$emit("resourceLimitChangedEvent",t,a[1])},s.SubscribeResourceChangedEvent=function(t,n){var a=e.$on("resourceChangedEvent",n.bind(this));t&&t.$on("$destroy",a)},s.SubscribeResourceLimitChangedEvent=function(t,n){var a=e.$on("resourceLimitChangedEvent",n.bind(this));t&&t.$on("$destroy",a)}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var a=this;a.lastBreederID=0,a.newBreederGender="Male",a.killBreeder=function(e){a.units.splice(a.units.indexOf(e),1)},a.addNewBreeder=function(){for(var n=[],r=0;r<t.length;r++)n.push([0,0,0]);var o="Male"==a.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:a.lastBreederID++,generation:0,scale:6,genes:n});i.update(),a.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,a,r,o){var i=this;i.$onInit=function(){i.geneDefinitions=r,i.traitDefinitions=o,i.units=[]}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<div class="row"><div class="col-xs-12 col-md-6 col-lg-4"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"><bloqhead-resource-list></bloqhead-resource-list></bloqhead-player-box></div></div></div><div class="col-xs-12 col-md-6 col-lg-8"><div ui-view=""></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/achievements/achievements.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Achievements"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd HH:mm:ss\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[]);
}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h5>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h5><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><table class="genomeEditor"><thead><tr><th style="width: 20%">STR</th><th style="width: 20%">INT</th><th style="width: 20%">END</th><th style="width: 20%">CHR</th><th style="width: 20%">LCK</th></tr></thead><tbody><tr><td><span ng-bind="$ctrl.unit.attributes.STR"></span></td><td><span ng-bind="$ctrl.unit.attributes.INT"></span></td><td><span ng-bind="$ctrl.unit.attributes.END"></span></td><td><span ng-bind="$ctrl.unit.attributes.CHR"></span></td><td><span ng-bind="$ctrl.unit.attributes.LCK"></span></td></tr></tbody></table><button class="btn btn-sm btn-primary" ng-click="$ctrl.assignMe() ">Breed Me</button><div class="btn-group"><button class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Work <span class="caret"></span></button><ul class="dropdown-menu"><li><a>Mine</a></li><li><a>Farm</a></li></ul></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Population [{{$ctrl.population.length}} / {{$ctrl.maxPopulation}}] ---FILTERS HERE???----"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Breeders [# / #]"><div class="row breeder-container"><div ng-repeat="breederid in $ctrl.breeders" class="col-xs-12 col-lg-12"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]"></bloqhead-breeder></div></div></bloqhead-player-box></div><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Tasks"><ul class="list-group"><li>Miners: 0</li><li>Farmers: 0</li></ul></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div ng-if="angular.isDefined($ctrl.footer)" class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/resourceList/resourceList.html",'<table class="table table-condensed"><tbody><tr ng-repeat="(key, value) in $ctrl.resources"><td ng-bind="$ctrl.resourceTypes[key]"></td><td ng-bind="(value[0] + \' / \' + value[1])"></td></tr></tbody></table>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div class="col-xs-12"><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvYnJlZWRlci5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9wb3B1bGF0aW9uLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3RyYWl0LmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvZ2FtZUNvbnRyb2wvZ2FtZUNvbnRyb2wuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9yZXNvdXJjZUxpc3QvcmVzb3VyY2VMaXN0LmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvYWNoaWV2ZW1lbnRTZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9wb3B1bGF0aW9uU2VydmljZS5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvcmVzb3VyY2VTZXJ2aWNlLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5qcyIsImNvbXBvbmVudHMvcmVzb3VyY2VMaXN0L3Jlc291cmNlTGlzdC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCIkIiwidG9vbHRpcCIsInNlbGVjdG9yIiwialF1ZXJ5IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwiY29tcG9uZW50IiwiZm9yRWFjaCIsInN0YXRlIiwicnVuIiwiZ2FtZVNlcnZpY2UiLCJpbml0IiwiZ2FtZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImJpbmRpbmdzIiwiZm9vdGVyIiwic2VsZiIsIiRvbkluaXQiLCJmaWx0ZXIiLCJ1bml0cyIsInRyYWl0TmFtZSIsInJldCIsImhhc1RyYWl0IiwiZmFjdG9yeSIsIiRmaWx0ZXIiLCJUcmFpdEluc3BlY3RvciIsImNyb3Nzb3ZlciIsImcxIiwiZzIiLCJtYXhCaXRzIiwiZyIsImNvcHkiLCJnZW5ldGljT3B0aW9ucyIsImNyb3Nzb3ZlcnJhdGUiLCJtdXRhdGlvblJhdGUiLCJiaXRTdHJpbmdSIiwiYml0U3RyaW5nRyIsImdldFJlZEdyZWVuSW1hZ2UiLCJnZW5lcyIsIm11dGF0aW9uQml0cyIsImFkZFJvd3MiLCJjb252ZXJ0UmVkR3JlZW5NYXAiLCJnZXRCbHVlSW1hZ2UiLCJjb252ZXJ0Qmx1ZU1hcCIsIm1pbkNvbG9yIiwiZmFjdG9yIiwicG93IiwiciIsImJyaWdodCIsImFicyIsImNvbHMiLCJCcmVlZGVyIiwidHJhaXRJbnNwZWN0b3IiLCJ1cGRhdGUiLCJwcm90b3R5cGUiLCJtb3RoZXIiLCJmYXRoZXIiLCJnZW5lcmF0aW9uIiwicmVkR3JlZW5JbWFnZSIsImJsdWVJbWFnZSIsInRyYWl0cyIsImdldFRyYWl0cyIsImF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVzIiwiZ2V0UmFuZG9tTmFtZSIsImJyZWVkIiwicGFydG5lciIsIm5ld0lkIiwicDEiLCJwMiIsIm15R2VuZGVyIiwiY2hpbGQiLCJwMWciLCJwMmciLCJ0cmFpdCIsIm15VHJhaXQiLCJmaXJzdE5hbWUiLCJuYW1lTGlzdDEiLCJuYW1lTGlzdDIiLCJsYXN0TmFtZSIsIm5hbWVMaXN0MyIsIm5hbWVMaXN0NCIsIm5hbWVMaXN0NSIsImdlbmVEZWZpbml0aW9ucyIsIlBvcHVsYXRpb24iLCJjdXJyZW50R2VuZXJhdGlvbiIsImJyZWVkZXJzIiwibWF4U2l6ZSIsImJyZWVkZXJNdXRhdGlvbkJpdHMiLCJicmVlZGVyTXV0YXRpb25DaGFuY2UiLCJicmVlZGVyR2VuZXNVbmxvY2tlZCIsImluaXRpYWxTaXplIiwibWVtYmVycyIsIm0iLCJtZW1iZXIiLCJ1bml0IiwiY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24iLCJnZXRTdGF0ZSIsImNvdW50IiwicG9wdWxhdGlvbiIsImduIiwiaW5kZXhPZiIsImlzQnJlZWRpbmciLCJoYXNNYWxlIiwiaGFzRmVtYWxlIiwiZ2V0QnlJZCIsImdldEJ5R2VuZXJhdGlvbiIsImNvbnN0YW50IiwiZG9tIiwicmVjIiwiYXR0ciIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJpc0RlZmluZWQiLCJyZXF1aXJlZFRyYWl0IiwicmVxIiwiYnVpbGRUcmFpdHMiLCJ0cmFpdERlZmluaXRpb25zIiwidGQiLCJtZXQiLCJoIiwidGRnIiwidiIsIlNUUiIsIklOVCIsIkVORCIsIkNIUiIsIkxDSyIsInN0ckJhc2UiLCJpbnRCYXNlIiwiZW5kQmFzZSIsImNockJhc2UiLCJsY2tCYXNlIiwic3FydCIsIkdFTkVSQUwiLCJCUkVFRCIsIkFDSElFVkVNRU5UIiwiJHNjb3BlIiwibG9nU2VydmljZSIsImxvZ1R5cGVzIiwibWVzc2FnZXMiLCJTdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQiLCJyZWNlaXZlTWVzc2FnZXMiLCJnZXRMb2dDbGFzcyIsInR5cGUiLCJwcmVmaXgiLCJhIiwiZXZlbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzZXJ2aWNlIiwiJHJvb3RTY29wZSIsImNsZWFyTG9nIiwibG9nR2VuZXJhbE1lc3NhZ2UiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNwbGljZSIsIiRlbWl0IiwibG9nQnJlZWRNZXNzYWdlIiwibG9nQWNoaWV2ZW1lbnRNZXNzYWdlIiwic2NvcGUiLCJjYWxsYmFjayIsImhhbmRsZXIiLCIkb24iLCJiaW5kIiwiYXBwIiwidGVtcGxhdGUiLCJnYW1lTG9vcFNlcnZpY2UiLCJnYW1lU3RhdGVzIiwiY3VycmVudFN0YXRlIiwidG9nZ2xlU3RhdGUiLCJSVU5OSU5HIiwiUEFVU0VEIiwic2V0U3RhdGUiLCJnZXRJY29uIiwicmVzZXRTYXZlIiwiaGFyZFJlc2V0IiwicG9wdWxhdGlvblNlcnZpY2UiLCJhY2hpZXZlbWVudFNlcnZpY2UiLCJyZXNvdXJjZVNlcnZpY2UiLCJtYXhQb3B1bGF0aW9uIiwiU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50IiwidXBkYXRlUG9wdWxhdGlvbiIsIlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCIsInVwZGF0ZUJyZWVkZXJzIiwiU3Vic2NyaWJlTmV3UmV3YXJkRXZlbnQiLCJyZXdhcmRFYXJuZWQiLCJyZXdhcmQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlR2VuZSIsImdlbmVJbmRleCIsImdlbmVWYWx1ZXMiLCJ1cGRhdGVNZW1iZXIiLCJhZGRCcmVlZGVyIiwidW5pdGlkIiwicmVtb3ZlQnJlZWRlciIsImRhdGEiLCJhc3NpZ24iLCJhc3NpZ25NZSIsIiRpZCIsInRyYW5zY2x1ZGUiLCJyZXF1aXJlIiwibWFpbkN0cmwiLCJyZXNvdXJjZVR5cGVzIiwicmVzb3VyY2VzIiwiU3Vic2NyaWJlUmVzb3VyY2VDaGFuZ2VkRXZlbnQiLCJyZXNvdXJjZUNoYW5nZWQiLCJTdWJzY3JpYmVSZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50IiwicmVzb3VyY2VMaW1pdENoYW5nZWQiLCJnZXRSZXNvdXJjZXNTbmFwc2hvdCIsInJlc291cmNlVHlwZSIsImFtb3VudCIsImFjaGlldmVtZW50cyIsIkFfQklSVEhTIiwiYWlkIiwiZGVzYyIsInJhbmtzIiwiQV9ESVJUIiwiQV9ESVJUX0MiLCJBX0JSSUNLUyIsIkFfQlJJQ0tTX0MiLCJBX1dBVEVSIiwiQV9XQVRFUl9DIiwiQV9XT09EIiwiQV9XT09EX0MiLCJBX0dPTEQiLCJBX0dPTERfQyIsIkFfSEFQUElORVNTIiwiQV9IQVBQSU5FU1NfQyIsInBlcmtzIiwiUF9NX0hBUFBJTkVTUyIsInBpZCIsIm9uY2UiLCJQX1JfTVVMVElQTElFUiIsIlBfUl9CT05VUyIsIlBfR19FTkhBTkNFRCIsImFjaGlldmVtZW50U2V0dXAiLCJwcm9ncmVzcyIsInVwZGF0ZVByb2dyZXNzIiwiYWNoUHJvZ3Jlc3MiLCJvbGR2YWwiLCJuZXd2YWwiLCJhY2hTZXR1cCIsInJjIiwiYW1vdW50UmVxdWlyZWQiLCJhY2hpZXZlbWVudCIsInBjIiwicCIsImFwcGx5UGVyayIsImFyciIsInBlcmtTZXR1cCIsInBlcmtTZWFyY2giLCJtc2ciLCJnZW5lIiwicmVwbGFjZSIsImR0IiwidG9VVENTdHJpbmciLCJhdXRvU2F2ZVN0ZXBzIiwiZ2FtZUxvb3BTZXJ2aWNlU3RhdGUiLCJzdGVwVGltZU1zIiwicG9wdWxhdGlvblNlcnZpY2VTdGF0ZSIsImJyZWVkU3RlcHMiLCJwb3B1bGF0aW9uU3RhdGUiLCJicmVlZGVyTXVhdGF0aW9uQ2hhbmNlIiwiYWNoaWV2ZW1lbnRTZXJ2aWNlU3RhdGUiLCJyZXNvdXJjZVNlcnZpY2VTdGF0ZSIsIkRJUlQiLCJCUklDS1MiLCJXQVRFUiIsIldPT0QiLCJHT0xEIiwiSEFQUElORVNTIiwiJHdpbmRvdyIsImluaXRpYWxpemVkIiwibGFzdFRpbWUiLCJnYW1lTG9vcCIsIm5ld1N0YXRlIiwic3RlcCIsInN0ZXBzIiwiJGFwcGx5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiU3Vic2NyaWJlR2FtZUxvb3BFdmVudCIsImdhbWVTYXZlS2V5IiwiZGVmYXVsdFN0YXRlIiwiTFpTdHJpbmciLCJqc29uIiwiZGVjb21wcmVzc0Zyb21CYXNlNjQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2F2ZWRTdGF0ZSIsImZyb21Kc29uIiwiZ2FtZVN0YXRlIiwic3RhcnRHYW1lIiwic3RlcHNTaW5jZVNhdmUiLCJyZW1vdmVJdGVtIiwic2F2ZVN0YXRlIiwic2F2ZSIsImNvbXByZXNzVG9CYXNlNjQiLCJ0b0pzb24iLCJzZXRJdGVtIiwic3RlcHNTaW5jZUJyZWVkIiwiaGFuZGxlR2FtZUxvb3AiLCJwb3BVcGRhdGVkIiwib2Zmc3ByaW5nIiwiaW5kZXgiLCJoYXNPd25Qcm9wZXJ0eSIsInBlcmsiLCJhZGRSZXNvdXJjZSIsImluY3JlYXNlUmVzb3VyY2VMaW1pdCIsImxhc3RCcmVlZGVySUQiLCJuZXdCcmVlZGVyR2VuZGVyIiwia2lsbEJyZWVkZXIiLCJhZGROZXdCcmVlZGVyIiwiZ2VuZGVyIiwidW5zaGlmdCIsImV4cGFuZG8iLCJyYW5kb21pemVOYW1lIiwicmFuZG9taXplIiwicmFuZG9taXplQWxsIiwiJHRpbWVvdXQiLCJlIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUM0QkEsV0FFQSxRQUFBSyxHQUFBQyxFQUFBQyxHQVdBLElBRkEsR0FBQUMsTUFFQUQsRUFBQSxFQUFBQSxJQUNBQyxFQUFBQyxLQUFBQyxPQUFBQyxhQUFBLElBQUFMLElBQ0FBLElBQUEsQ0FHQSxPQUFBRSxHQUFBSSxLQUFBLElBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FVQSxJQVJBLEdBQUFDLEdBRUFDLEVBRUFDLEVBSEFDLEVBQUFMLEVBQUFNLE9BRUFDLEVBQUFGLEVB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QUF5QixJQUFBLHVCQUFBQyxJQUFBLFdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsa0JBQUFDLElBQUEsZ0JBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsZ0JBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTNCLEVBQUEsS0FBQXlCLElBQUEsV0FBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLGlCQUFBQyxJQUFBLGNBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLFNBQUFDLElBQUEsT0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTNCLE1BR0F4RSxLQUFBZ0csU0FBQSxtQkFBQSxXQUNBLEdBQUEvQyxLQUNBekQsS0FBQSxXQUNBbUMsUUFDQSxHQUFBLElBQUEsTUFDQSxFQUFBLEdBQUEsTUFFQXlFLGdCQUFBLFVBR0E1RyxLQUFBLFNBQ0FtQyxRQUNBLEdBQUEsS0FBQSxNQUNBLEVBQUEsR0FB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UUFBQUMsT0FBQSwwQkFFQUEsRUFBQVksS0FBQSxpQkFBQSxTQUFBK1QsR0FDQUEsRUFBQUMsSUFBQSw0Q0FDQSwwTkNSQSxTQUFBNVUsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUEwVSxHQUNBMVUsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQVksS0FBQSxpQkFBQSxTQUFBK1QsR0FDQUEsRUFBQUMsSUFBQSwyQ0FDQSxzMEJDUkEsU0FBQTVVLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBMFUsR0FDQTFVLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFZLEtBQUEsaUJBQUEsU0FBQStULEdBQ0FBLEVBQUFDLElBQUEsNkNBQ0EseStDQ1JBLFNBQUE1VSxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQTBVLEdBQ0ExVSxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBWSxLQUFBLGlCQUFBLFNBQUErVCxHQUNBQSxFQUFBQyxJQUFBLDBDQUNBLG02QkNSQSxTQUFBNVUsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUEwVSxHQUNBMVUsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQVksS0FBQSxpQkFBQSxTQUFBK1QsR0FDQUEsRUFBQUMsSUFBQSw4Q0FDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tSW50RnJvbUludGVydmFsKG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxufVxyXG5nYW1lLmNvbnN0YW50KCdnYW1lU2F2ZUtleScsIFwiR0VORVRJWF9TQVZFXCIpO1xyXG5nYW1lLmNvbnN0YW50KCdnYW1lU3RhdGVzJywge1xyXG4gICAgUEFVU0VEOiAwLFxyXG4gICAgUlVOTklORzogMVxyXG59KTtcclxuXHJcbmdhbWUuY29uc3RhbnQoXCJkZWZhdWx0U3RhdGVcIiwge1xyXG5cclxuICAgIGNsZWFyTG9nOiB0cnVlLFxyXG4gICAgYXV0b1NhdmVTdGVwczogMzAsXHJcbiAgICBnYW1lTG9vcFNlcnZpY2VTdGF0ZToge1xyXG4gICAgICAgIHN0ZXBUaW1lTXM6IDEwMDBcclxuICAgIH0sXHJcbiAgICBwb3B1bGF0aW9uU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgYnJlZWRTdGVwczogNixcclxuICAgICAgICBwb3B1bGF0aW9uU3RhdGU6IHtcclxuICAgICAgICAgICAgaW5pdGlhbFNpemU6IDIsXHJcbiAgICAgICAgICAgIG1heFNpemU6IDIyLFxyXG4gICAgICAgICAgICBicmVlZGVyTXV0YXRpb25CaXRzOiA1LFxyXG4gICAgICAgICAgICBicmVlZGVyR2VuZXNVbmxvY2tlZDogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDQyXSxcclxuICAgICAgICAgICAgYnJlZWRlck11YXRhdGlvbkNoYW5jZTogMTBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWNoaWV2ZW1lbnRTZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICBhY2hpZXZlbWVudHM6IFtdLFxyXG4gICAgICAgIHBlcmtzOiBbXVxyXG4gICAgfSxcclxuICAgIHJlc291cmNlU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiB7XHJcbiAgICAgICAgICAgIERJUlQ6IFswLCAyNTAwMF0sXHJcbiAgICAgICAgICAgIEJSSUNLUzogWzAsIDI1MDAwXSxcclxuICAgICAgICAgICAgV0FURVI6IFswLCAxMDAwXSxcclxuICAgICAgICAgICAgV09PRDogWzAsIDEwMDBdLFxyXG4gICAgICAgICAgICBHT0xEOiBbMCwgMTAwMF0sXHJcbiAgICAgICAgICAgIEhBUFBJTkVTUzogWzAsIDEwXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdnYW1lTG9vcFNlcnZpY2UnLCBbJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICdnYW1lU3RhdGVzJywgJ2xvZ1NlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHdpbmRvdywgJHJvb3RTY29wZSwgZ2FtZVN0YXRlcywgbG9nU2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB7fTtcclxuICAgICAgICAgICAgc2VsZi5zdGVwVGltZU1zID0gc3RhdGUuc3RlcFRpbWVNcyB8fCBzZWxmLnN0ZXBUaW1lTXMgfHwgMTAwMDtcclxuICAgICAgICAgICAgc2VsZi5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVN0YXRlcy5QQVVTRUQ7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmdhbWVMb29wKDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IHN0YXRlLmN1cnJlbnRTdGF0ZSB8fCBzZWxmLmN1cnJlbnRTdGF0ZSB8fCBnYW1lU3RhdGVzLlJVTk5JTkc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RlcFRpbWVNczogc2VsZi5zdGVwVGltZU1zLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBzZWxmLmN1cnJlbnRTdGF0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5QQVVTRUQpIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoXCJHYW1lIHBhdXNlZC5cIik7XHJcbiAgICAgICAgICAgIGVsc2UgbG9nU2VydmljZS5sb2dHZW5lcmFsTWVzc2FnZShcIkdhbWUgcmVzdW1lZC5cIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nYW1lTG9vcCA9IGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5sYXN0VGltZSArIHN0ZXAgPiAoc2VsZi5zdGVwVGltZU1zICogKHN0ZXBzICsgMSkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAoc2VsZi5sYXN0VGltZSAtIChzZWxmLnN0ZXBUaW1lTXMgKiBzdGVwcykpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW50U3RhdGUgPT0gZ2FtZVN0YXRlcy5SVU5OSU5HICYmIHN0ZXBzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoJHJvb3RTY29wZS4kZW1pdCgnZ2FtZUxvb3BFdmVudCcsIHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZUdhbWVMb29wRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignZ2FtZUxvb3BFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdnYW1lU2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJ2dhbWVTYXZlS2V5JywgJ2RlZmF1bHRTdGF0ZScsICdsb2dTZXJ2aWNlJywgJ2dhbWVMb29wU2VydmljZScsICdwb3B1bGF0aW9uU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLCAncmVzb3VyY2VTZXJ2aWNlJywgJ0xaU3RyaW5nJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsIGdhbWVTYXZlS2V5LCBkZWZhdWx0U3RhdGUsIGxvZ1NlcnZpY2UsIGdhbWVMb29wU2VydmljZSwgcG9wdWxhdGlvblNlcnZpY2UsIGFjaGlldmVtZW50U2VydmljZSwgcmVzb3VyY2VTZXJ2aWNlLCBMWlN0cmluZykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdhbWVTYXZlS2V5KSk7XHJcbiAgICAgICAgICAgIHZhciBzYXZlZFN0YXRlID0gKGpzb24pID8gYW5ndWxhci5mcm9tSnNvbihqc29uKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgc2VsZi5nYW1lU3RhdGUgPSBzdGF0ZSB8fCBzYXZlZFN0YXRlIHx8IGRlZmF1bHRTdGF0ZTtcclxuICAgICAgICAgICAgc2VsZi5hdXRvU2F2ZVN0ZXBzID0gc2VsZi5nYW1lU3RhdGUuYXV0b1NhdmVTdGVwcyB8fCBzZWxmLmF1dG9TYXZlU3RlcHMgfHwgMTA7XHJcbiAgICAgICAgICAgIHNlbGYuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgPSAwO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc3RhcnRHYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxvZ1NlcnZpY2UuaW5pdChzZWxmLmdhbWVTdGF0ZS5jbGVhckxvZyk7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLmluaXQoc2VsZi5nYW1lU3RhdGUucG9wdWxhdGlvblNlcnZpY2VTdGF0ZSB8fCBkZWZhdWx0U3RhdGUucG9wdWxhdGlvblNlcnZpY2VTdGF0ZSk7XHJcbiAgICAgICAgICAgIHJlc291cmNlU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLnJlc291cmNlU2VydmljZVN0YXRlIHx8IGRlZmF1bHRTdGF0ZS5yZXNvdXJjZVNlcnZpY2VTdGF0ZSk7XHJcbiAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmFjaGlldmVtZW50U2VydmljZVN0YXRlIHx8IGRlZmF1bHRTdGF0ZS5hY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSk7XHJcbiAgICAgICAgICAgIGdhbWVMb29wU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmdhbWVMb29wU2VydmljZVN0YXRlIHx8IGRlZmF1bHRTdGF0ZS5nYW1lTG9vcFNlcnZpY2VTdGF0ZSk7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5oYXJkUmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZ2FtZVNhdmVLZXkpO1xyXG4gICAgICAgICAgICBzZWxmLmluaXQoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBnYW1lTG9vcFNlcnZpY2UuU3Vic2NyaWJlR2FtZUxvb3BFdmVudCgkcm9vdFNjb3BlLCBmdW5jdGlvbihldmVudCwgc3RlcHMpIHtcclxuICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlU2F2ZSArPSBzdGVwcztcclxuICAgICAgICAgICAgaWYgKHNlbGYuc3RlcHNTaW5jZVNhdmUgPiBzZWxmLmF1dG9TYXZlU3RlcHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzYXZlU3RhdGUgPSBhbmd1bGFyLmNvcHkoc2VsZi5nYW1lU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlLnBvcHVsYXRpb25TZXJ2aWNlU3RhdGUgPSBhbmd1bGFyLmNvcHkocG9wdWxhdGlvblNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBzYXZlU3RhdGUucmVzb3VyY2VTZXJ2aWNlU3RhdGUgPSBhbmd1bGFyLmNvcHkocmVzb3VyY2VTZXJ2aWNlLmdldFN0YXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlLmFjaGlldmVtZW50U2VydmljZVN0YXRlID0gYW5ndWxhci5jb3B5KGFjaGlldmVtZW50U2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5nYW1lTG9vcFNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShnYW1lTG9vcFNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoYW5ndWxhci50b0pzb24oYW5ndWxhci5jb3B5KHNhdmVTdGF0ZSkpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdhbWVTYXZlS2V5LCBzYXZlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKCdHYW1lIGF1dG9zYXZlZC4nKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5dKTsiLCIvKiFcclxuICogR2VuZXJhdGUgQml0bWFwIERhdGEgVVJMXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzLXBhaW50L1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMCwgUGV0ZXIgQ29sZXNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlcy5cclxuICogaHR0cDovL21yY29sZXMuY29tL21lZGlhL21pdC1saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBEYXRlOiBUdWUgT2N0IDI2IDAwOjAwOjAwIDIwMTAgLTA1MDBcclxuICovXHJcblxyXG4vKlxyXG4gKiBDb2RlIHRvIGdlbmVyYXRlIEJpdG1hcCBpbWFnZXMgKHVzaW5nIGRhdGEgdXJscykgZnJvbSByb3dzIG9mIFJHQiBhcnJheXMuXHJcbiAqIFNwZWNpZmljYWxseSBmb3IgdXNlIHdpdGggaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXN0LXBhaW50L1xyXG4gKlxyXG4gKiBSZXNlYXJjaDpcclxuICpcclxuICogUkZDIDIzOTcgZGF0YSBVUkxcclxuICogaHR0cDovL3d3dy54czRhbGwubmwvfndyYi9BcnRpY2xlcy9BcnRpY2xlX0lNR19SRkMyMzk3X1AxXzAxLmh0bVxyXG4gKlxyXG4gKiBCTVAgZmlsZSBGb3JtYXRcclxuICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CTVBfZmlsZV9mb3JtYXQjRXhhbXBsZV9vZl9hXzIuQzMuOTcyX1BpeGVsLjJDXzI0LUJpdF9CaXRtYXBfLjI4V2luZG93c19WM19ESUIuMjlcclxuICpcclxuICogQk1QIE5vdGVzXHJcbiAqXHJcbiAqIC0gSW50ZWdlciB2YWx1ZXMgYXJlIGxpdHRsZS1lbmRpYW4sIGluY2x1ZGluZyBSR0IgcGl4ZWxzLCBlLmcuLCAoMjU1LCAwLCAwKSAtPiBcXHgwMFxceDAwXFx4RkZcclxuICogLSBCaXRtYXAgZGF0YSBzdGFydHMgYXQgbG93ZXIgbGVmdCAoYW5kIHJlYWRzIGFjcm9zcyByb3dzKVxyXG4gKiAtIEluIHRoZSBCTVAgZGF0YSwgcGFkZGluZyBieXRlcyBhcmUgaW5zZXJ0ZWQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgbGluZXMgb2YgZGF0YSBpbiBtdWx0aXBsZXMgb2YgZm91cixcclxuICogICBlLmcuLCBhIDI0LWJpdCBiaXRtYXAgd2l0aCB3aWR0aCAxIHdvdWxkIGhhdmUgMyBieXRlcyBvZiBkYXRhIHBlciByb3cgKFIsIEcsIEIpICsgMSBieXRlIG9mIHBhZGRpbmdcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FzTGl0dGxlRW5kaWFuSGV4KHZhbHVlLCBieXRlcykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgdmFsdWUgaW50byBsaXR0bGUgZW5kaWFuIGhleCBieXRlc1xyXG4gICAgICAgIC8vIHZhbHVlIC0gdGhlIG51bWJlciBhcyBhIGRlY2ltYWwgaW50ZWdlciAocmVwcmVzZW50aW5nIGJ5dGVzKVxyXG4gICAgICAgIC8vIGJ5dGVzIC0gdGhlIG51bWJlciBvZiBieXRlcyB0aGF0IHRoaXMgdmFsdWUgdGFrZXMgdXAgaW4gYSBzdHJpbmdcclxuXHJcbiAgICAgICAgLy8gRXhhbXBsZTpcclxuICAgICAgICAvLyBfYXNMaXR0bGVFbmRpYW5IZXgoMjgzNSwgNClcclxuICAgICAgICAvLyA+ICdcXHgxM1xceDBiXFx4MDBcXHgwMCdcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgYnl0ZXMgPiAwOyBieXRlcy0tKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUgJiAyNTUpKTtcclxuICAgICAgICAgICAgdmFsdWUgPj49IDg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3Mgb2YgUkdCIGFycmF5cyBpbnRvIEJNUCBkYXRhXHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgIHJvd3NfbGVuID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGosXHJcbiAgICAgICAgICAgIHBpeGVsc19sZW4gPSByb3dzX2xlbiA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgcGl4ZWwsXHJcbiAgICAgICAgICAgIHBhZGRpbmcgPSAnJyxcclxuICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyByb3dfcGFkZGluZyA+IDA7IHJvd19wYWRkaW5nLS0pIHtcclxuICAgICAgICAgICAgcGFkZGluZyArPSAnXFx4MDAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3NfbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBpeGVsc19sZW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWwgPSByb3dzW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsyXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMV0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9zY2FsZVJvd3Mocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBTaW1wbGVzdCBzY2FsaW5nIHBvc3NpYmxlXHJcbiAgICAgICAgdmFyIHJlYWxfaCA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBzY2FsZWRfaCA9IHBhcnNlSW50KHJlYWxfaCAqIHNjYWxlKSxcclxuICAgICAgICAgICAgcmVhbF93ID0gcmVhbF9oID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBzY2FsZWRfdyA9IHBhcnNlSW50KHJlYWxfdyAqIHNjYWxlKSxcclxuICAgICAgICAgICAgbmV3X3Jvd3MgPSBbXSxcclxuICAgICAgICAgICAgbmV3X3JvdywgeCwgeTtcclxuXHJcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IHNjYWxlZF9oOyB5KyspIHtcclxuICAgICAgICAgICAgbmV3X3Jvd3MucHVzaChuZXdfcm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgc2NhbGVkX3c7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgbmV3X3Jvdy5wdXNoKHJvd3NbcGFyc2VJbnQoeSAvIHNjYWxlKV1bcGFyc2VJbnQoeCAvIHNjYWxlKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdfcm93cztcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMID0gZnVuY3Rpb24ocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBFeHBlY3RzIHJvd3Mgc3RhcnRpbmcgaW4gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBmb3JtYXR0ZWQgbGlrZSB0aGlzOiBbW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDBdLCAuLi5dLCAuLi5dXHJcbiAgICAgICAgLy8gd2hpY2ggcmVwcmVzZW50czogW1tyZWQsIHllbGxvdywgLi4uXSwgLi4uXVxyXG5cclxuICAgICAgICBpZiAoIXdpbmRvdy5idG9hKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdPaCBubywgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYmFzZTY0IGVuY29kaW5nIC0gd2luZG93LmJ0b2EoKSEhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcclxuICAgICAgICBpZiAoc2NhbGUgIT0gMSkge1xyXG4gICAgICAgICAgICByb3dzID0gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGVpZ2h0ID0gcm93cy5sZW5ndGgsIC8vIHRoZSBudW1iZXIgb2Ygcm93c1xyXG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCA/IHJvd3NbMF0ubGVuZ3RoIDogMCwgLy8gdGhlIG51bWJlciBvZiBjb2x1bW5zIHBlciByb3dcclxuICAgICAgICAgICAgcm93X3BhZGRpbmcgPSAoNCAtICh3aWR0aCAqIDMpICUgNCkgJSA0LCAvLyBwYWQgZWFjaCByb3cgdG8gYSBtdWx0aXBsZSBvZiA0IGJ5dGVzXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzID0gKHdpZHRoICogMyArIHJvd19wYWRkaW5nKSAqIGhlaWdodCwgLy8gc2l6ZSBpbiBieXRlcyBvZiBCTVAgZGF0YVxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyA9IDU0ICsgbnVtX2RhdGFfYnl0ZXMsIC8vIGZ1bGwgaGVhZGVyIHNpemUgKG9mZnNldCkgKyBzaXplIG9mIGRhdGFcclxuICAgICAgICAgICAgZmlsZTtcclxuXHJcbiAgICAgICAgaGVpZ2h0ID0gX2FzTGl0dGxlRW5kaWFuSGV4KGhlaWdodCwgNCk7XHJcbiAgICAgICAgd2lkdGggPSBfYXNMaXR0bGVFbmRpYW5IZXgod2lkdGgsIDQpO1xyXG4gICAgICAgIG51bV9kYXRhX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9kYXRhX2J5dGVzLCA0KTtcclxuICAgICAgICBudW1fZmlsZV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZmlsZV9ieXRlcywgNCk7XHJcblxyXG4gICAgICAgIC8vIHRoZXNlIGFyZSB0aGUgYWN0dWFsIGJ5dGVzIG9mIHRoZSBmaWxlLi4uXHJcblxyXG4gICAgICAgIGZpbGUgPSAoJ0JNJyArIC8vIFwiTWFnaWMgTnVtYmVyXCJcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBmaWxlIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgzNlxceDAwXFx4MDBcXHgwMCcgKyAvLyBvZmZzZXQgb2Ygd2hlcmUgQk1QIGRhdGEgbGl2ZXMgKDU0IGJ5dGVzKVxyXG4gICAgICAgICAgICAnXFx4MjhcXHgwMFxceDAwXFx4MDAnICsgLy8gbnVtYmVyIG9mIHJlbWFpbmluZyBieXRlcyBpbiBoZWFkZXIgZnJvbSBoZXJlICg0MCBieXRlcylcclxuICAgICAgICAgICAgd2lkdGggKyAvLyB0aGUgd2lkdGggb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgIGhlaWdodCArIC8vIHRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgICdcXHgwMVxceDAwJyArIC8vIHRoZSBudW1iZXIgb2YgY29sb3IgcGxhbmVzICgxKVxyXG4gICAgICAgICAgICAnXFx4MThcXHgwMCcgKyAvLyAyNCBiaXRzIC8gcGl4ZWxcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE5vIGNvbXByZXNzaW9uICgwKVxyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIEJNUCBkYXRhIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIGhvcml6b250YWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSB0aGUgdmVydGljYWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTnVtYmVyIG9mIGNvbG9ycyBpbiB0aGUgcGFsZXR0ZSAoa2VlcCAwIGZvciAyNC1iaXQpXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyAwIGltcG9ydGFudCBjb2xvcnMgKG1lYW5zIGFsbCBjb2xvcnMgYXJlIGltcG9ydGFudClcclxuICAgICAgICAgICAgX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZylcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvYm1wO2Jhc2U2NCwnICsgYnRvYShmaWxlKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG4vL1xyXG4vLyBDb2RlIHNwZWNpZmljIHRvIGxvdyByZXMgcGFpbnRcclxuLy9cclxuXHJcbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICB2YXIgJGJnX3RyYW5zZm9ybTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNzaWduX2JnX3RyYW5zZm9ybShiZykge1xyXG4gICAgICAgIC8vIGRpZmZlcmVudCBicm93c2VycyByZXR1cm4gdGhlIGNvbG9yIGRpZmZlcmVudGx5XHJcbiAgICAgICAgLy8gbGV0J3Mgc3VwcG9ydCBcInJnYigxMjMsIDAsIDUpXCIsIFwiI2ZmZlwiLCBhbmQgXCIjZmYwMDk5XCJcclxuICAgICAgICBpZiAoL15yZ2JcXChcXGQrLCBcXGQrLCBcXGQrXFwpJC8udGVzdChiZykpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB4WzBdID0geFswXS5zdWJzdHIoNCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgdDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSBwYXJzZUludCh4W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmcuc3Vic3RyaW5nKDAsIDEpID09ICcjJykge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IHgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdVbnBhcnNlYWJsZSBjb2xvcjogJyArIGJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJGJnQXNSR0IoaWQpIHtcclxuICAgICAgICB2YXIgYmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIGlmIChiZyA9PT0gJycpIHJldHVybiBbMjU1LCAyNTUsIDI1NV07XHJcbiAgICAgICAgaWYgKCRiZ190cmFuc2Zvcm0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfYXNzaWduX2JnX3RyYW5zZm9ybShiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAgPSBmdW5jdGlvbihzY2FsZSkge1xyXG4gICAgICAgIC8vIHBpeGVscyBhcmUgeF95IHN0YXJ0aW5nIGluIHRvcCBsZWZ0LCB3ZSBuZWVkIHRvIGl0ZXJhdGUgZnJvbSBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGRpbWVuc2lvbnMgYXJlIGEgNTB4NTAgc3F1YXJlICgwLCAwLCA0OSwgNDkpXHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTA7XHJcblxyXG4gICAgICAgIHZhciB4LFxyXG4gICAgICAgICAgICB4X2xlbiA9IDUwLFxyXG4gICAgICAgICAgICB5ID0gNDksXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICBpbWdfcGFyZW50LFxyXG4gICAgICAgICAgICBpbWcsXHJcbiAgICAgICAgICAgIHNyYztcclxuXHJcbiAgICAgICAgZm9yICg7IHkgPj0gMDsgeS0tKSB7XHJcbiAgICAgICAgICAgIHJvd3MucHVzaChyb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB4X2xlbjsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaCgkYmdBc1JHQih4ICsgJ18nICsgeSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0ZXN0IGltYWdlICogL1xyXG4gICAgICAgIHJvd3MgPSBbXHJcbiAgICAgICAgICAgIFtbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAyNTVdXSxcclxuICAgICAgICAgICAgW1swLCAwLCAyNTVdLCBbMCwgMjU1LDBdXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLyogKi9cclxuXHJcbiAgICAgICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgc3JjID0gd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTChyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICBpbWcuYWx0ID0gJ0lmIHlvdSBjYW4gcmVhZCB0aGlzLCB5b3VyIGJyb3dzZXIgcHJvYmFibHkgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGRhdGEgVVJMIHNjaGVtZSBmb3JtYXQhIE9oIG5vISc7XHJcbiAgICAgICAgaW1nLnRpdGxlID0gJ1lvdSBnZW5lcmF0ZWQgYW4gaW1hZ2UsIGdyZWF0IGpvYiEgVG8gc2F2ZSBpdCwgZHJhZyBpdCB0byB5b3VyIERlc2t0b3Agb3IgcmlnaHQgY2xpY2sgYW5kIHNlbGVjdCBzYXZlIGFzLic7XHJcbiAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICBpZiAoaW1nX3BhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQuaWQgPSAnaW1nJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXAnKS5hcHBlbmRDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nX3BhcmVudC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImltZy1oZWFkZXJcIj5HZW5lcmF0ZWQgSW1hZ2UgJm5ic3A7PGEgdGl0bGU9XCJoaWRlIGltYWdlXCIgaHJlZj1cIiNcIj54PC9hPjwvZGl2Pic7XHJcbiAgICAgICAgaW1nX3BhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nX3BhcmVudC5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwLmFza1RvU2NhbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSBwcm9tcHQoJ1BpY2sgYSBzY2FsaW5nIGZhY3Rvci4uLlxcbjEgPSBhY3R1YWwgc2l6ZSwgLjUgPSBoYWxmLCAyID0gZG91YmxlXFxuKG5vdGU6IGxhcmdlIG51bWJlcnMgbWlnaHQgY3Jhc2ggeW91ciBicm93c2VyKScpO1xyXG4gICAgICAgIGlmIChzY2FsZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBOYU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1RoYXQgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAqIDEwOyAvLyBzaW5jZSBhY3R1YWwgc2l6ZSBpcyBhY3R1YWxseSAxMHghXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAoc2NhbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbn0pKHRoaXMsIHRoaXMuZG9jdW1lbnQpOyIsIihmdW5jdGlvbigkKSB7XHJcbiAgICAkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ2JvZHknKS50b29sdGlwKHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6ICdbcmVsPXRvb2x0aXBdJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbJ3VpLnJvdXRlcicsICdsei1zdHJpbmcnXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5tYWluJyxcclxuICAgICAgICAgICAgICAgIHVybDogJ21haW4nLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5hY2hpZXZlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWNoaWV2ZW1lbnRzJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuYWNoaWV2ZW1lbnRzVUknXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICBdKS5ydW4oWydnYW1lU2VydmljZScsIGZ1bmN0aW9uKGdhbWVTZXJ2aWNlKSB7XHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuaW5pdCgpO1xyXG4gICAgfV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZC5jb21wb25lbnRzLmFjaGlldmVtZW50c1VJJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2FjaGlldmVtZW50cy9hY2hpZXZlbWVudHMuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMuYWNoaWV2ZW1lbnRzVUknLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB0aXRsZTogJ0AnLFxyXG4gICAgICAgIGZvb3RlcjogJ0AnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMuYWNoaWV2ZW1lbnRzVUknLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIH07XHJcbn0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuZmlsdGVyKCdoYXNUcmFpdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHVuaXRzLCB0cmFpdE5hbWUpIHtcclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgaWYgKHVuaXRzW2ldLmhhc1RyYWl0KHRyYWl0TmFtZSkpXHJcbiAgICAgICAgICAgICAgICByZXQucHVzaCh1bml0c1tpXSk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnQnJlZWRlcicsIFsnJGZpbHRlcicsICdUcmFpdEluc3BlY3RvcicsIGZ1bmN0aW9uKCRmaWx0ZXIsIFRyYWl0SW5zcGVjdG9yKSB7XHJcblxyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIEJyZWVkZXIgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRyYWl0SW5zcGVjdG9yID0gbmV3IFRyYWl0SW5zcGVjdG9yKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTsgICAgICAgIFxyXG4gICAgfTtcclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIEJyZWVkZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoY29uZmlnKSA9PSAndW5kZWZpbmVkJykgY29uZmlnID0ge307XHJcbiAgICAgICAgdGhpcy5pZCA9IGNvbmZpZy5pZCB8fCB0aGlzLmlkIHx8IDA7XHJcbiAgICAgICAgdGhpcy5tb3RoZXIgPSBjb25maWcubW90aGVyIHx8IHRoaXMubW90aGVyIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5mYXRoZXIgPSBjb25maWcuZmF0aGVyIHx8IHRoaXMuZmF0aGVyIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uID0gY29uZmlnLmdlbmVyYXRpb24gfHwgdGhpcy5nZW5lcmF0aW9uIHx8IDA7XHJcbiAgICAgICAgdGhpcy5nZW5lcyA9IGNvbmZpZy5nZW5lcyB8fCB0aGlzLmdlbmVzIHx8IFtdO1xyXG4gICAgICAgIC8vKG1heCBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBtdXRhdGUsIGxpbWl0cyB0aGUgbWF4L21pbiB2YWx1ZXMgZm9yIGVhY2ggZ2VuZSlcclxuICAgICAgICAvLyA0ID0gbWF4IDE1LCA1ID0gbWF4IDMxLi4uIDggPSBtYXggMjU1XHJcbiAgICAgICAgdGhpcy5tdXRhdGlvbkJpdHMgPSBjb25maWcubXV0YXRpb25CaXRzIHx8IHRoaXMubXV0YXRpb25CaXRzIHx8IDQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVkR3JlZW5JbWFnZSA9IGdldFJlZEdyZWVuSW1hZ2UodGhpcy5nZW5lcywgdGhpcy5tdXRhdGlvbkJpdHMpO1xyXG4gICAgICAgIHRoaXMuYmx1ZUltYWdlID0gZ2V0Qmx1ZUltYWdlKHRoaXMuZ2VuZXMpO1xyXG5cclxuICAgICAgICB0aGlzLnRyYWl0cyA9IHRoaXMudHJhaXRJbnNwZWN0b3IuZ2V0VHJhaXRzKHRoaXMuZ2VuZXMpO1xyXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHRoaXMudHJhaXRJbnNwZWN0b3IuZ2V0QXR0cmlidXRlcyh0aGlzLmdlbmVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lID0gKHRoaXMubmFtZSAmJiB0aGlzLm5hbWUgIT09ICdVbmtub3duIEdlbmRlcicpID8gdGhpcy5uYW1lIDogY29uZmlnLm5hbWUgfHwgdGhpcy5nZXRSYW5kb21OYW1lKCk7XHJcblxyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmJyZWVkID0gZnVuY3Rpb24ocGFydG5lciwgbmV3SWQpIHtcclxuICAgICAgICB2YXIgcDEgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwMiA9IHBhcnRuZXI7XHJcblxyXG4gICAgICAgIHZhciBteUdlbmRlciA9IHRoaXMuaGFzVHJhaXQoJ01hbGUnKSA/ICdNYWxlJyA6ICdGZW1hbGUnO1xyXG5cclxuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgIGlkOiBuZXdJZCxcclxuICAgICAgICAgICAgZ2VuZXJhdGlvbjogcDEuZ2VuZXJhdGlvbiArIDEsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXSxcclxuICAgICAgICAgICAgbW90aGVyOiBteUdlbmRlciA9PSAnRmVtYWxlJyA/IHAxIDogcDIsXHJcbiAgICAgICAgICAgIGZhdGhlcjogbXlHZW5kZXIgPT0gJ01hbGUnID8gcDEgOiBwMlxyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHAxLmdlbmVzLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgIHZhciBwMWcgPSBwMS5nZW5lc1tnXTtcclxuICAgICAgICAgICAgdmFyIHAyZyA9IHAyLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICBjaGlsZC5nZW5lcy5wdXNoKGNyb3Nzb3ZlcihwMWcsIHAyZywgdGhpcy5tdXRhdGlvbkJpdHMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGQudXBkYXRlKCk7ICAgICBcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0VHJhaXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhaXRzO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmhhc1RyYWl0ID0gZnVuY3Rpb24odHJhaXQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy50cmFpdHMuZmlsdGVyKGZ1bmN0aW9uKG15VHJhaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG15VHJhaXQubmFtZSA9PT0gdHJhaXQ7XHJcbiAgICAgICAgfSkubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQgPiAwO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFJhbmRvbU5hbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2VuZXMgfHwgdGhpcy5nZW5lcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIEdlbmRlcic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZmlyc3ROYW1lID0gKHRoaXMuaGFzVHJhaXQoJ01hbGUnKSkgPyBuYW1lTGlzdDFbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0MS5sZW5ndGggLSAxKV0gOiBuYW1lTGlzdDJbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0Mi5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIGxhc3ROYW1lID0gbmFtZUxpc3QzW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDMubGVuZ3RoIC0gMSldICsgbmFtZUxpc3Q0W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDQubGVuZ3RoIC0gMSldICsgbmFtZUxpc3Q1W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDUubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHJldHVybiBmaXJzdE5hbWUgKyBsYXN0TmFtZTtcclxuICAgIH07XHJcbiAgICAvLyB3ZSBuZWVkIHRvIHJldHVybiBhbGwgcmVsYXRpb25zIHRvIGFjY291bnQgZm9yIGluYnJlZWRpbmcgKGFrYSB1bmNsZSBicm90aGVyKVxyXG4gICAgLyogdGhpcyBpcyB3YXkgd3JvbmcuLi4uXHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRSZWxhdGlvbnMgPSBmdW5jdGlvbih0aGV5KSB7XHJcbiAgICAgICAgdmFyIG15cGF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgbXltYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciBteUdlbmRlciA9IHRoaXMuaGFzVHJhaXQoJ01hbGUnKSA/ICdNYWxlJyA6ICdGZW1hbGUnO1xyXG4gICAgICAgIHZhciB0aGV5cGF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgdGhleW1hdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIHRoZXlHZW5kZXIgPSB0aGV5Lmhhc1RyYWl0KCdNYWxlJykgPyAnTWFsZScgOiAnRmVtYWxlJztcclxuXHJcbiAgICAgICAgdmFyIHU7XHJcbiAgICAgICAgLy8gYnVpbGQgJ215JyBsaXN0IG9mIG1vdGhlcnMgYW5kIGZhdGhlcnNcclxuICAgICAgICB1ID0gdGhpcztcclxuICAgICAgICB3aGlsZSAodS5tb3RoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG15bWF0ZXJuYWwucHVzaCh1Lm1vdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1Lm1vdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKHUuZmF0aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBteXBhdGVybmFsLnB1c2godS5mYXRoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5mYXRoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJ1aWxkICd0aGV5JyBsaXN0IG9mIG1vdGhlcnMgYW5kIGZhdGhlcnNcclxuICAgICAgICB1ID0gdGhleTtcclxuICAgICAgICB3aGlsZSAodS5tb3RoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoZXltYXRlcm5hbC5wdXNoKHUubW90aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUubW90aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gdGhleTtcclxuICAgICAgICB3aGlsZSAodS5mYXRoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoZXlwYXRlcm5hbC5wdXNoKHUuZmF0aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUuZmF0aGVyO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgZm9yIG1hdGVybmFsIHJlbGF0aW9uc2hpcHNcclxuICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IG15bWF0ZXJuYWwubGVuZ3RoOyBoKyspXHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhleW1hdGVybmFsLmxlbmd0aDsgaysrKVxyXG4gICAgICAgICAgICAgICAgaWYgKG15bWF0ZXJuYWxbaF0uaWQgPT0gdGhleW1hdGVybmFsLmlkKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHNhbWUgbW90aGVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGggPT0gMCAmJiBrayA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCgoKHRoaXMuZmF0aGVyLmlkICE9IHRoZXkuZmF0aGVyLmlkKSA/ICdIYWxmICcgOiAnJykgKyAoKHRoZXlHZW5kZXIgPT0gJ0ZlbWFsZScpID8gJ1Npc3RlcicgOiAnQnJvdGhlcicpKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGggPiBrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCgnR3JhbmQgJy5yZXBlYXQoKGgtaykgLSAxKSArICAoKHRoZXlHZW5kZXIgPT0gJ0ZlbWFsZScpID8gJ05laWNlJyA6ICdOZXBoZXcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGggPiBrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCgnR3JhbmQgJy5yZXBlYXQoKGgtaykgLSAxKSArICAoKHRoZXlHZW5kZXIgPT0gJ0ZlbWFsZScpID8gJ05laWNlJyA6ICdOZXBoZXcnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIFxyXG5cclxuXHJcblxyXG5cclxuICAgIH07XHJcbiAgICAqL1xyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuICAgIHZhciBnZW5ldGljT3B0aW9ucyA9IHtcclxuICAgICAgICBjcm9zc292ZXJyYXRlOiAwLjVcclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG4gICAgLy8gbWFsZSBmaXJzdCBuYW1lc1xyXG4gICAgdmFyIG5hbWVMaXN0MSA9IFsnRGlnZ3kgJywgJ0RlYW4gJywgJ0R1a2UgJywgJ0RveWxlICcsICdEaXJrICcsICdEYWcgJywgJ0RpbWl0cmkgJywgJ0RydSAnXTtcclxuICAgIC8vIGZlbWFsZSBmaXJzdCBuYW1lc1xyXG4gICAgdmFyIG5hbWVMaXN0MiA9IFsnRGFnZ3kgJywgJ0RhaXN5ICcsICdEaW5haCAnLCAnRGhhcm1hICcsICdEZWUgJywgJ0RhcGhuZSAnLCAnRGl4aWUgJywgJ0RhcmN5ICddO1xyXG4gICAgLy8gbGFzdCBuYW1lIHByZWZpeGVzIChlbXB0eSBzdHJpbmdzIGFuZCBkdXBlcyBhcmUgZm9yIGNvbnRyb2xsaW5nIHRoZSBvZGRzKVxyXG4gICAgdmFyIG5hbWVMaXN0MyA9IFsnJywgJycsICcnLCAnJywgJycsICdWYW4gJywgJ1ZvbiAnLCAnT1xcJycsICdNYycsICdNYyddO1xyXG4gICAgLy8gbGFzdCBuYW1lc1xyXG4gICAgdmFyIG5hbWVMaXN0NCA9IFsnRG9vZycsICdEaWJiJywgJ0RhYmInLCAnRGlnJywgJ0RhbmcnLCAnRHVnZyddO1xyXG4gICAgLy8gbGFzdCBuYW1lIHN1ZmZpeGVzIChlbXB0eSBzdHJpbmdzIGFuZCBkdXBlcyBhcmUgZm9yIGNvbnRyb2xsaW5nIHRoZSBvZGRzKVxyXG4gICAgdmFyIG5hbWVMaXN0NSA9IFsnJywgJycsICcnLCAnbGVyJywgJ2xlcicsICdlcicsICdlcicsICdlcicsICd3dWVyc3QnLCAnZXJ3dWVyc3QnLCAnZXJ0b24nLCAnZXJ0b24nLCAnc2tpJ107XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBmdW5jdGlvbnMgKi9cclxuICAgIGZ1bmN0aW9uIGNyb3Nzb3ZlcihnMSwgZzIsIG1heEJpdHMpIHtcclxuICAgICAgICB2YXIgY3Jvc3NvdmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICB2YXIgZyA9IGFuZ3VsYXIuY29weShjcm9zc292ZXIgPD0gZ2VuZXRpY09wdGlvbnMuY3Jvc3NvdmVycmF0ZSA/IGcxIDogZzIpO1xyXG4gICAgICAgIHZhciBtdXRhdGlvblJhdGUgPSBnWzJdIC8gMjU1LjA7XHJcbiAgICAgICAgdmFyIGJpdFN0cmluZ1IgPSAnJztcclxuICAgICAgICB2YXIgYml0U3RyaW5nRyA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4Qml0czsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdHICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvbGRSID0gZ1swXTtcclxuICAgICAgICB2YXIgb2xkRyA9IGdbMV07XHJcbiAgICAgICAgZ1swXSBePSBwYXJzZUludChiaXRTdHJpbmdSLCAyKTtcclxuICAgICAgICBnWzFdIF49IHBhcnNlSW50KGJpdFN0cmluZ0csIDIpO1xyXG4gICAgICAgIHJldHVybiBnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJlZEdyZWVuSW1hZ2UoZ2VuZXMsIG11dGF0aW9uQml0cykge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMsIG11dGF0aW9uQml0cyksIGdlbmVzLmxlbmd0aCksIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRCbHVlSW1hZ2UoZ2VuZXMpIHtcclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVCaXRtYXBEYXRhVVJMKGFkZFJvd3MoY29udmVydEJsdWVNYXAoZ2VuZXMpLCBnZW5lcy5sZW5ndGgpLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydFJlZEdyZWVuTWFwKGdlbmVzLCBtdXRhdGlvbkJpdHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdmFyIG1pbkNvbG9yID0gNTA7XHJcbiAgICAgICAgdmFyIGZhY3RvciA9IDI1NSAvIChNYXRoLnBvdygyLCBtdXRhdGlvbkJpdHMpIC0gMSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGdlbmVzW2ldWzBdO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGdlbmVzW2ldWzFdO1xyXG4gICAgICAgICAgICB2YXIgYnJpZ2h0ID0gTWF0aC5hYnMociAtIGcpIC8gMjU1O1xyXG4gICAgICAgICAgICBicmlnaHQgKj0gZmFjdG9yO1xyXG4gICAgICAgICAgICBpZiAociA+IGcpIHtcclxuICAgICAgICAgICAgICAgIGcgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgciA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgciAqPSBicmlnaHQ7XHJcbiAgICAgICAgICAgIGcgKj0gYnJpZ2h0O1xyXG5cclxuICAgICAgICAgICAgaWYgKHIgPiAwKSByICs9IG1pbkNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoZyA+IDApIGcgKz0gbWluQ29sb3I7XHJcbiAgICAgICAgICAgIGlmIChyID4gMjU1KSByID0gMjU1O1xyXG4gICAgICAgICAgICBpZiAoZyA+IDI1NSkgZyA9IDI1NTtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFtyLCBnLCAwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydEJsdWVNYXAoZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbMCwgMCwgZ2VuZXNbaV1bMl1dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRSb3dzKGdlbmVzLCBjb2xzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgKGdlbmVzLmxlbmd0aCAvIGNvbHMpOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcm93LnB1c2goZ2VuZXNbaSArIChqICogY29scyldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChyb3cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBCcmVlZGVyO1xyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5mYWN0b3J5KCdQb3B1bGF0aW9uJywgWyckZmlsdGVyJywgJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgZnVuY3Rpb24oJGZpbHRlciwgQnJlZWRlciwgZ2VuZURlZmluaXRpb25zKSB7XHJcblxyXG5cclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoc3RhdGUpO1xyXG4gICAgfTtcclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB7fTtcclxuICAgICAgICB0aGlzLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uID0gc3RhdGUuY3VycmVudEdlbmVyYXRpb24gfHwgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMuYnJlZWRlcnMgPSBzdGF0ZS5icmVlZGVycyB8fCB0aGlzLmJyZWVkZXJzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IHN0YXRlLm1heFNpemUgfHwgdGhpcy5tYXhTaXplIHx8IDEwO1xyXG4gICAgICAgIHRoaXMuYnJlZWRlck11dGF0aW9uQml0cyA9IHN0YXRlLmJyZWVkZXJNdXRhdGlvbkJpdHMgfHwgdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzIHx8IDQ7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UgPSBzdGF0ZS5icmVlZGVyTXV0YXRpb25DaGFuY2UgfHwgdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UgfHwgNTtcclxuICAgICAgICB0aGlzLmJyZWVkZXJHZW5lc1VubG9ja2VkID0gc3RhdGUuYnJlZWRlckdlbmVzVW5sb2NrZWQgfHwgdGhpcy5icmVlZGVyR2VuZXNVbmxvY2tlZCB8fCBbNDJdO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNpemUgPSBzdGF0ZS5pbml0aWFsU2l6ZSB8fCB0aGlzLmluaXRpYWxTaXplIHx8IDI7XHJcbiAgICAgICAgaWYgKHN0YXRlLm1lbWJlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgc3RhdGUubWVtYmVycy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlciA9IHN0YXRlLm1lbWJlcnNbbV07XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogbWVtYmVyLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdGhlcjogbWVtYmVyLm1vdGhlciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhdGhlcjogbWVtYmVyLmZhdGhlciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IG1lbWJlci5nZW5lcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVzOiBtZW1iZXIuZ2VuZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBtZW1iZXIubXV0YXRpb25CaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJzLnB1c2godW5pdCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHRoaXMubWVtYmVycyA9IHRoaXMubWVtYmVycyB8fCB0aGlzLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uKHRoaXMuaW5pdGlhbFNpemUpO1xyXG4gICAgfTtcclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50R2VuZXJhdGlvbjogdGhpcy5jdXJyZW50R2VuZXJhdGlvbixcclxuICAgICAgICAgICAgYnJlZWRlcnM6IHRoaXMuYnJlZWRlcnMsXHJcbiAgICAgICAgICAgIG1heFNpemU6IHRoaXMubWF4U2l6ZSxcclxuICAgICAgICAgICAgYnJlZWRlck11dGF0aW9uQml0czogdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzLFxyXG4gICAgICAgICAgICBicmVlZGVyTXV0YXRpb25DaGFuY2U6IHRoaXMuYnJlZWRlck11dGF0aW9uQ2hhbmNlLFxyXG4gICAgICAgICAgICBicmVlZGVyR2VuZXNVbmxvY2tlZDogdGhpcy5icmVlZGVyR2VuZXNVbmxvY2tlZCxcclxuICAgICAgICAgICAgaW5pdGlhbFNpemU6IHRoaXMuaW5pdGlhbFNpemUsXHJcbiAgICAgICAgICAgIG1lbWJlcnM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gdGhpcy5tZW1iZXJzW21dO1xyXG4gICAgICAgICAgICBzdGF0ZS5tZW1iZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaWQ6IG1lbWJlci5pZCxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IG1lbWJlci5nZW5lcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IG1lbWJlci5nZW5lcyxcclxuICAgICAgICAgICAgICAgIG11dGF0aW9uQml0czogbWVtYmVyLm11dGF0aW9uQml0cyxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uID0gZnVuY3Rpb24oY291bnQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGduID0gMDsgZ24gPCBzZWxmLmdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGduKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmJyZWVkZXJHZW5lc1VubG9ja2VkLmluZGV4T2YoZ24pICE9PSAtMSkgZ2VuZXNbZ25dWzJdID0gc2VsZi5icmVlZGVyTXV0YXRpb25DaGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByID0gaSAlIDIgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGkgJSAyID09PSAwID8gMCA6IDI1NTtcclxuXHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVswXSA9IHI7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsxXSA9IGc7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsyXSA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBhbmd1bGFyLmNvcHkoZ2VuZXMpLFxyXG4gICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBzZWxmLmJyZWVkZXJNdXRhdGlvbkJpdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb24ucHVzaCh1bml0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHVsYXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmlzQnJlZWRpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5tZW1iZXJzLmxlbmd0aCA+PSB0aGlzLm1heFNpemUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgYXJlIGF0IGxlYXN0IDEgbWFsZSBhbmQgMSBmZW1hbGUgaW4gdGhlIGJyZWVkZXJzXHJcbiAgICAgICAgdmFyIGhhc01hbGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgaGFzRmVtYWxlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJyZWVkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gdGhpcy5nZXRCeUlkKHRoaXMuYnJlZWRlcnNbaV0pO1xyXG4gICAgICAgICAgICBpZiAodW5pdC5oYXNUcmFpdCgnTWFsZScpKSBoYXNNYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZSBoYXNGZW1hbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzTWFsZSAmJiBoYXNGZW1hbGUpIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTWFsZSAmJiBoYXNGZW1hbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldEJ5SWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXQuaWQgPT09IGlkO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRCeUdlbmVyYXRpb24gPSBmdW5jdGlvbihnZW5lcmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdC5nZW5lcmF0aW9uID09PSBnZW5lcmF0aW9uO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5icmVlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoIXNlbGYuaXNCcmVlZGluZygpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICB2YXIgcDEgPSBzZWxmLmdldEJ5SWQoc2VsZi5icmVlZGVyc1swXSk7XHJcbiAgICAgICAgdmFyIHAyID0gc2VsZi5nZXRCeUlkKHNlbGYuYnJlZWRlcnNbMV0pO1xyXG4gICAgICAgIHZhciBjaGlsZCA9IHAxLmJyZWVkKHAyLCBzZWxmLm1lbWJlcnMubGVuZ3RoKTtcclxuICAgICAgICBzZWxmLm1lbWJlcnMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gUG9wdWxhdGlvbjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcblxyXG5nYW1lLmNvbnN0YW50KCdnZW5lRGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZ2VuZURlZmluaXRpb25zID0gW107XHJcbiAgICAvL2dlbmUgOnIsZyxiIHI6cmVjZXNzaXZlLCBnOmRvbWluYW50LCBiOm11dGF0aW9ucmF0ZVxyXG4gICAgZ2VuZURlZmluaXRpb25zWzBdID0geyBkb206ICdCcm9hZCBTaG91bGRlcnMnLCByZWM6ICdTbGVuZGVyIFNob3VsZGVycycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxXSA9IHsgZG9tOiAnVGhpY2sgU2t1bGwnLCByZWM6ICdTb2Z0IFNrdWxsJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzJdID0geyBkb206ICdMYXJnZSBBcm1zJywgcmVjOiAnU21hbGwgQXJtcycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szXSA9IHsgZG9tOiAnTGFyZ2UgTGVncycsIHJlYzogJ1NtYWxsIExlZ3MnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNF0gPSB7IGRvbTogJ0JpZyBDaGVzdCcsIHJlYzogJ1dlYWsgQ2hlc3QnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNV0gPSB7IGRvbTogJ1RvdWdoIEphdycsIHJlYzogJ1dlYWsgSmF3JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzZdID0geyBkb206ICdPYWZpc2gnLCByZWM6ICdNb3VzZXknLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzEwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzExXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE0XSA9IHsgZG9tOiAnQ2FsY3VsYXRlZCBEZWNpc2lvbnMnLCByZWM6ICdSZWNrbGVzcycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNV0gPSB7IGRvbTogJ0xhdGVyYWwgVGhpbmtlcicsIHJlYzogJ1NpbmdsZSBNaW5kZWQnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTZdID0geyBkb206ICdRdWljayBMZWFybmVyJywgcmVjOiAnRm9yZ2V0ZnVsJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1syMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzBdID0geyBkb206ICdFbG9xdWVudCcsIHJlYzogJ0NhdGF0b25pYycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMV0gPSB7IGRvbTogJ1Bvd2VyZnVsIFZvaWNlJywgcmVjOiAnUXVpZXQgVm9pY2UnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzJdID0geyBkb206ICdGdWxsIExpcHMnLCByZWM6ICdUaGluIExpcHMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzNdID0geyBkb206ICdEYXJrIFNraW4nLCByZWM6ICdGYWlyIFNraW4nLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzQwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQxXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQyXSA9IHsgZG9tOiAnRmVtYWxlJywgcmVjOiAnTWFsZScsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0M10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Nl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0N10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuXHJcbiAgICByZXR1cm4gZ2VuZURlZmluaXRpb25zO1xyXG59KSgpKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ3RyYWl0RGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdHJhaXRzID0gW3tcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAyMDBdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDUwLCAyNTVdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ01hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnUHJldHR5JyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAtMTAwXSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMCwgMjQwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydGZW1hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQWdncmVzc2l2ZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzIsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNSwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzE0LCAtMjU1LCAtMTUwXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdGZW1hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAwLCAyNTVdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ01hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAtMjU1LCAtMV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUgQWdncmVzc2l2ZSBhbmQgc29tZXRoaW5nJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFszMCwgMCwgMF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnSGFuZHNvbWUnLCAnQWdncmVzc2l2ZSddXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuXHJcbiAgICB2YXIgY2hlY2tlZCA9IFtdO1xyXG4gICAgdmFyIGdldFRyYWl0QnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0cmFpdHMuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IHQubmFtZTtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRyYWl0LnJlcXVpcmVkVHJhaXRzKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyYWl0LnJlcXVpcmVkVHJhaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRUcmFpdCA9IHRyYWl0LnJlcXVpcmVkVHJhaXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGdldFRyYWl0QnlOYW1lKHJlcXVpcmVkVHJhaXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQuaW5kZXhPZihyZXEubmFtZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUocmVxKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcmVxLmdlbmVzLmxlbmd0aDsgZysrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0LmdlbmVzLnB1c2gocmVxLmdlbmVzW2ddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja2VkLnB1c2godHJhaXQubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBidWlsZFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFpdCA9IHRyYWl0c1tpXTtcclxuICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSh0cmFpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2codHJhaXRzKTtcclxuICAgICAgICByZXR1cm4gdHJhaXRzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBidWlsZFRyYWl0cygpO1xyXG59KSgpKTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ1RyYWl0SW5zcGVjdG9yJywgWyckZmlsdGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJGZpbHRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFRyYWl0SW5zcGVjdG9yID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICAvL3RoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwOyAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXREZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gdHJhaXREZWZpbml0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCB0ZC5nZW5lcy5sZW5ndGggJiYgbWV0ID09PSB0cnVlOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGRnID0gdGQuZ2VuZXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBnZW5lc1t0ZGdbMF1dWzFdIC0gZ2VuZXNbdGRnWzBdXVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IHRkZ1sxXSB8fCB2ID4gdGRnWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSB7XHJcbiAgICAgICAgICAgIFwiU1RSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiSU5UXCI6IDAsXHJcbiAgICAgICAgICAgIFwiRU5EXCI6IDAsXHJcbiAgICAgICAgICAgIFwiQ0hSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiTENLXCI6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHN0ckJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgaW50QmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmRCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGNockJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgbGNrQmFzZSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChnIDwgMTApXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDIwKVxyXG4gICAgICAgICAgICAgICAgICAgIGludEJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAzMClcclxuICAgICAgICAgICAgICAgICAgICBlbmRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgNDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2hyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGxja0Jhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXQuU1RSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKHN0ckJhc2UpICsgMjApIC8gMjUpKSAqIChzdHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5JTlQgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoaW50QmFzZSkgKyAyMCkgLyAyNSkpICogKGludEJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkVORCA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhlbmRCYXNlKSArIDIwKSAvIDI1KSkgKiAoZW5kQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuQ0hSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGNockJhc2UpICsgMjApIC8gMjUpKSAqIChjaHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5MQ0sgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMobGNrQmFzZSkgKyAyMCkgLyAyNSkpICogKGxja0Jhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG5cclxuICAgIHJldHVybiBUcmFpdEluc3BlY3RvcjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZExvZycsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sb2cvbG9nLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmxvZydcclxufSk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCdsb2dUeXBlcycsIHtcclxuICAgIEdFTkVSQUw6IDEsXHJcbiAgICBCUkVFRDogMixcclxuICAgIEFDSElFVkVNRU5UOiAzXHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmxvZycsIFtcclxuICAgICckc2NvcGUnLCAnbG9nU2VydmljZScsICdsb2dUeXBlcycsXHJcbiAgICBmdW5jdGlvbigkc2NvcGUsIGxvZ1NlcnZpY2UsIGxvZ1R5cGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgICAgIGxvZ1NlcnZpY2UuU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50KCRzY29wZSwgc2VsZi5yZWNlaXZlTWVzc2FnZXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2V0TG9nQ2xhc3MgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmVmaXggPSAnbGlzdC1ncm91cC1pdGVtLSc7XHJcbiAgICAgICAgICAgIHZhciBhID0gJyc7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5HRU5FUkFMOlxyXG4gICAgICAgICAgICAgICAgICAgIGEgPSAnY29sb3ItZ2VuZXJhbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkFDSElFVkVNRU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIGEgPSAnY29sb3ItYWNoaWV2ZW1lbnQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5CUkVFRDpcclxuICAgICAgICAgICAgICAgICAgICBhID0gJ2NvbG9yLWJyZWVkJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYSA9IHByZWZpeCArICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnJlY2VpdmVNZXNzYWdlcyA9IGZ1bmN0aW9uKGV2ZW50LCBtZXNzYWdlcykge1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzID0gbWVzc2FnZXM7XHJcbiAgICAgICAgICAgICQoJy5sb2ctY29tcG9uZW50JylbMF0uc2Nyb2xsVG9wID0gJCgnLmxvZy1jb21wb25lbnQnKVswXS5zY3JvbGxIZWlnaHQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2xvZ1NlcnZpY2UnLCBbJyRyb290U2NvcGUnLCAnbG9nVHlwZXMnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBsb2dUeXBlcykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oY2xlYXJMb2cpIHtcclxuICAgICAgICBpZiAoY2xlYXJMb2cpIHtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlKFwiV2VsY29tZSB0byBHZW5ldGl4IVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2VsZi5sb2dHZW5lcmFsTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goeyB0eXBlOiBsb2dUeXBlcy5HRU5FUkFMLCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0JyZWVkTWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goeyB0eXBlOiBsb2dUeXBlcy5CUkVFRCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5sb2dBY2hpZXZlbWVudE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHsgdHlwZTogbG9nVHlwZXMuQUNISUVWRU1FTlQsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ25ld01lc3NhZ2VFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcblxyXG59XSk7IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5hcHAuY29tcG9uZW50KCdibG9xaGVhZEdhbWVDb250cm9sJywge1xyXG4gICAgdGVtcGxhdGU6ICc8ZGl2PicgK1xyXG4gICAgICAgICc8YnV0dG9uIHRpdGxlPVwiSGFyZCBSZXNldFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLnJlc2V0U2F2ZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtcmVjeWNsZVwiPjwvaT48L2J1dHRvbj4nICtcclxuICAgICAgICAnPGJ1dHRvbiB0aXRsZT1cIlBsYXkvUGF1c2VcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY3RybC50b2dnbGVTdGF0ZSgpO1wiPjxpIGNsYXNzPVwiZmFcIiBuZy1jbGFzcz1cIiRjdHJsLmdldEljb24oKVwiPjwvaT48L2J1dHRvbj4nICtcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ2dhbWVTZXJ2aWNlJywgJ2dhbWVMb29wU2VydmljZScsICdnYW1lU3RhdGVzJywgZnVuY3Rpb24oJHNjb3BlLCBnYW1lU2VydmljZSwgZ2FtZUxvb3BTZXJ2aWNlLCBnYW1lU3RhdGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVMb29wU2VydmljZS5nZXRTdGF0ZSgpLmN1cnJlbnRTdGF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudG9nZ2xlU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSAoc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/IGdhbWVTdGF0ZXMuUEFVU0VEIDogZ2FtZVN0YXRlcy5SVU5OSU5HKTtcclxuICAgICAgICAgICAgZ2FtZUxvb3BTZXJ2aWNlLnNldFN0YXRlKHNlbGYuY3VycmVudFN0YXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0SWNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/ICdmYS1wYXVzZScgOiAnZmEtcGxheSc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlc2V0U2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBnYW1lU2VydmljZS5oYXJkUmVzZXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgfV1cclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnXHJcbn0pO1xyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnLCBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIH07XHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZSdcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnLCBbXHJcbiAgICAnJHNjb3BlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgJ2FjaGlldmVtZW50U2VydmljZScsICdyZXNvdXJjZVNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBwb3B1bGF0aW9uU2VydmljZSwgYWNoaWV2ZW1lbnRTZXJ2aWNlLCByZXNvdXJjZVNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRlcnMgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gW107XHJcbiAgICAgICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlUG9wdWxhdGlvbik7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlQnJlZWRlcnMpO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UuU3Vic2NyaWJlTmV3UmV3YXJkRXZlbnQoJHNjb3BlLCBzZWxmLnJld2FyZEVhcm5lZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZXdhcmRFYXJuZWQgPSBmdW5jdGlvbihldmVudCwgcmV3YXJkKSB7XHJcbiAgICAgICAgICAgIC8vIGV2ZW50dWFsbHkgdGhpcyB3aWxsIHNob3cgYSBwb3B1cFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXdhcmQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UudXBkYXRlTWVtYmVyKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5hZGRCcmVlZGVyKHVuaXRpZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZW1vdmVCcmVlZGVyID0gZnVuY3Rpb24odW5pdGlkKSB7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnJlbW92ZUJyZWVkZXIodW5pdGlkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZUJyZWVkZXJzID0gZnVuY3Rpb24oZXZlbnQsIGJyZWVkZXJzKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRlcnMgPSBicmVlZGVycztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudXBkYXRlUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IGRhdGEucG9wdWxhdGlvbjtcclxuICAgICAgICAgICAgc2VsZi5tYXhQb3B1bGF0aW9uID0gZGF0YS5tYXhTaXplO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pO1xyXG5cclxuXHJcbmdhbWUuY29tcG9uZW50KFwiYmxvcWhlYWRCcmVlZGVyXCIsIHtcclxuICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudHMvbWFpbkdhbWUvYnJlZWRlci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImJsb3FoZWFkZXIuY29udHJvbGxlcnMuYnJlZWRlclwiLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPCcsXHJcbiAgICAgICAgYXNzaWduOiAnJidcclxuICAgIH1cclxufSk7XHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9O1xyXG4gICAgc2VsZi5hc3NpZ25NZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuYXNzaWduKHsgJGlkOiBzZWxmLnVuaXQuaWQgfSk7XHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRQbGF5ZXJCb3gnLCB7XHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgcmVxdWlyZToge1xyXG4gICAgICAgIG1haW5DdHJsOiBcIl5ibG9xaGVhZC5jb21wb25lbnRzLmhvbWVcIlxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94Lmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnBsYXllckJveCcsXHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHRpdGxlOiAnQCcsXHJcbiAgICAgICAgZm9vdGVyOiAnQCdcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5wbGF5ZXJCb3gnLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYudW5pdCA9IHNlbGYubWFpbkN0cmwudW5pdDtcclxuICAgIH07XHJcbn0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZFJlc291cmNlTGlzdCcsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9yZXNvdXJjZUxpc3QvcmVzb3VyY2VMaXN0Lmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnJlc291cmNlTGlzdCdcclxufSk7XHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnJlc291cmNlTGlzdCcsIFtcclxuICAgICckc2NvcGUnLCAncmVzb3VyY2VTZXJ2aWNlJywgJ3Jlc291cmNlVHlwZXMnLFxyXG4gICAgZnVuY3Rpb24oJHNjb3BlLCByZXNvdXJjZVNlcnZpY2UsIHJlc291cmNlVHlwZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5yZXNvdXJjZVR5cGVzID0gcmVzb3VyY2VUeXBlcztcclxuICAgICAgICBzZWxmLnJlc291cmNlcyA9IHt9O1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UuU3Vic2NyaWJlUmVzb3VyY2VDaGFuZ2VkRXZlbnQoJHNjb3BlLCBzZWxmLnJlc291cmNlQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIHJlc291cmNlU2VydmljZS5TdWJzY3JpYmVSZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50KCRzY29wZSwgc2VsZi5yZXNvdXJjZUxpbWl0Q2hhbmdlZCk7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzID0gcmVzb3VyY2VTZXJ2aWNlLmdldFJlc291cmNlc1NuYXBzaG90KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZXNvdXJjZUNoYW5nZWQgPSBmdW5jdGlvbihldmVudCwgcmVzb3VyY2VUeXBlLCBhbW91bnQpIHtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXSA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdWzBdID0gYW1vdW50O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yZXNvdXJjZUxpbWl0Q2hhbmdlZCA9IGZ1bmN0aW9uKGV2ZW50LCByZXNvdXJjZVR5cGUsIGFtb3VudCkge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV0pXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdID0gW107XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV1bMV0gPSBhbW91bnQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb25zdGFudCgnYWNoaWV2ZW1lbnRTZXR1cCcsIHtcclxuICAgIGFjaGlldmVtZW50czoge1xyXG4gICAgICAgIEFfQklSVEhTOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfQklSVEhTJyxcclxuICAgICAgICAgICAgbmFtZTogJ1RoZSBDaG9zZW4gT25lJyxcclxuICAgICAgICAgICAgZGVzYzogJ0NyZWF0ZSBhIG5ldyB1bml0JyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfQk9OVVMnLCAnR09MRCcsIDUwXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9CT05VUycsICdXT09EJywgMTAwXVxyXG4gICAgICAgICAgICAgICAgXV0sXHJcbiAgICAgICAgICAgICAgICBbMjAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9CT05VUycsICdHT0xEJywgNTBdLFxyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9NX0hBUFBJTkVTUyddLFxyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9HX0VOSEFOQ0VEJywgMTQsIDEwXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9ESVJUOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfRElSVCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdJdHMgRGlydC4uLi4nLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiBkaXJ0LicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfRElSVF9DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfRElSVF9DJyxcclxuICAgICAgICAgICAgbmFtZTogJ0RpcnQgSG9hcmRlcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgZGlydC4uLiBsb3RzIGFuZCBsb3RzIG9mIGRpcnQhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfQlJJQ0tTOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfQlJJQ0tTJyxcclxuICAgICAgICAgICAgbmFtZTogJ2JyaWNrcycsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIGJyaWNrcy4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0JSSUNLU19DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfQlJJQ0tTX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnQnJpY2sgSG9hcmRlcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgYnJpY2tzLi4uIGxvdHMgYW5kIGxvdHMgb2YgYnJpY2tzIScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX1dBVEVSOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfV0FURVInLFxyXG4gICAgICAgICAgICBuYW1lOiAnb21ub21ub20nLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiB3YXRlci4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX1dBVEVSX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9XQVRFUl9DJyxcclxuICAgICAgICAgICAgbmFtZTogJ1dhdGVyIEhvYXJkZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIHdhdGVyLi4uIGxvdHMgYW5kIGxvdHMgb2Ygd2F0ZXIhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfV09PRDoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX1dPT0QnLFxyXG4gICAgICAgICAgICBuYW1lOiAndHJlZSBndXRzJyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gd29vZC4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX1dPT0RfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX1dPT0RfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdXb29kIEhvYXJkZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIHdvb2QuLi4gbG90cyBhbmQgbG90cyBvZiB3b29kIScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0dPTEQ6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9HT0xEJyxcclxuICAgICAgICAgICAgbmFtZTogJ09vb29oaGggU2hpaWlpaW55JyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gZ29sZC4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0dPTERfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0dPTERfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdHb2xkIEhvYXJkZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIGdvbGQuLi4gbG90cyBhbmQgbG90cyBvZiBnb2xkIScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0hBUFBJTkVTUzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0hBUFBJTkVTUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdiZSBoYXBweSBtb24nLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiBoYXBwaW5lc3MuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9IQVBQSU5FU1NfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0hBUFBJTkVTU19DJyxcclxuICAgICAgICAgICAgbmFtZTogJ0hhcHB5bmVzcycsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgaGFwcGluZXNzLi4uIGxvdHMgYW5kIGxvdHMgb2YgaGFwcGluZXNzIScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHBlcmtzOiB7XHJcbiAgICAgICAgLy8gbWVjaGFuaWNzXHJcbiAgICAgICAgUF9NX0hBUFBJTkVTUzoge1xyXG4gICAgICAgICAgICBwaWQ6ICdQX01fSEFQUElORVNTJyxcclxuICAgICAgICAgICAgbmFtZTogJ05ldyBNZWNoYW5pYzogSGFwcGluZXNzJyxcclxuICAgICAgICAgICAgZGVzYzogJ0hhcHBpbmVzcyBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGhvdyBjb250ZW50IHlvdXIgcG9wdWxhdGlvbiBpcy4nLFxyXG4gICAgICAgICAgICBvbmNlOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQX1JfTVVMVElQTElFUjoge1xyXG4gICAgICAgICAgICBwaWQ6ICdQX1JfTVVMVElQTElFUicsXHJcbiAgICAgICAgICAgIG5hbWU6ICdSZXNvdXJjZSBNdWxpcGxpZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnVGhlIHJhdGUgdGhhdCB5b3UgYXF1aXJlIFslMV0gaGFzIGJlZW4gaW5jcmVhc2VkIGJ5IFslMl14LidcclxuICAgICAgICB9LFxyXG4gICAgICAgIFBfUl9CT05VUzoge1xyXG4gICAgICAgICAgICBwaWQ6ICdQX1JfQk9OVVMnLFxyXG4gICAgICAgICAgICBuYW1lOiAnQm9udXMgUmVzb3VyY2VzJyxcclxuICAgICAgICAgICAgZGVzYzogJ1slMl0gWyUxXSBoYXMgYmVlbiBhZGRlZCB0byB5b3VyIGNvZmZlcnMuJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUF9HX0VOSEFOQ0VEOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfR19FTkhBTkNFRCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdHZW5lIEVuaGFuY2VtZW50JyxcclxuICAgICAgICAgICAgZGVzYzogJ1RoZSBib3VuZGFyeSBoYXMgYmVlbiBpbmNyZWFzZWQgYnkgWyVhbXRdIGZvciBvbmUgb2YgeW91ciBbJWF0dHJdIGdlbmVzLiAoWyVkb21dL1slcmVjXSknXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuc2VydmljZSgnYWNoaWV2ZW1lbnRTZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnJGZpbHRlcicsICdsb2dTZXJ2aWNlJywgJ2FjaGlldmVtZW50U2V0dXAnLCAnZ2VuZURlZmluaXRpb25zJywgJ3Jlc291cmNlVHlwZXMnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGZpbHRlciwgbG9nU2VydmljZSwgYWNoaWV2ZW1lbnRTZXR1cCwgZ2VuZURlZmluaXRpb25zLCByZXNvdXJjZVR5cGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgaWYgKHN0YXRlKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHsgYWNoaWV2ZW1lbnRzOiBzdGF0ZS5hY2hpZXZlbWVudHMsIHBlcmtzOiBzdGF0ZS5wZXJrcyB9O1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzID0geyBhY2hpZXZlbWVudHM6IFtdLCBwZXJrczogW10gfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGFjaGlldmVtZW50czogc2VsZi5wcm9ncmVzcy5hY2hpZXZlbWVudHMsXHJcbiAgICAgICAgICAgICAgICBwZXJrczogc2VsZi5wcm9ncmVzcy5wZXJrc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZVByb2dyZXNzID0gZnVuY3Rpb24oYWlkLCBhbW91bnQpIHtcclxuICAgICAgICAgICAgdmFyIGFjaFByb2dyZXNzID0gc2VsZi5wcm9ncmVzcy5hY2hpZXZlbWVudHNbYWlkXTtcclxuICAgICAgICAgICAgaWYgKCFhY2hQcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgYWNoUHJvZ3Jlc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWlkOiBhaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcy5hY2hpZXZlbWVudHNbYWlkXSA9IGFjaFByb2dyZXNzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgb2xkdmFsID0gYWNoUHJvZ3Jlc3MuYW1vdW50O1xyXG4gICAgICAgICAgICB2YXIgbmV3dmFsID0gYWNoUHJvZ3Jlc3MuYW1vdW50ICsgYW1vdW50O1xyXG5cclxuICAgICAgICAgICAgYWNoUHJvZ3Jlc3MuYW1vdW50ID0gbmV3dmFsO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFjaFNldHVwID0gYWNoaWV2ZW1lbnRTZXR1cC5hY2hpZXZlbWVudHNbYWlkXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IGFjaFNldHVwLnJhbmtzLmxlbmd0aDsgcmMrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFtb3VudFJlcXVpcmVkID0gYWNoU2V0dXAucmFua3NbcmNdWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudFJlcXVpcmVkID4gb2xkdmFsICYmIGFtb3VudFJlcXVpcmVkIDw9IG5ld3ZhbCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV3YXJkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2hpZXZlbWVudDogYWNoU2V0dXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudFJlcXVpcmVkOiBhbW91bnRSZXF1aXJlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVya3M6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgbG9nU2VydmljZS5sb2dBY2hpZXZlbWVudE1lc3NhZ2UoJ0FjaGlldmVtZW50IEVhcm5lZCAtICcgKyBhY2hTZXR1cC5uYW1lICsgJyAoJyArIGFtb3VudFJlcXVpcmVkICsgJyknKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvY2VzcyB0aGUgcGVya3NcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwYyA9IDA7IHBjIDwgYWNoU2V0dXAucmFua3NbcmNdWzFdLmxlbmd0aDsgcGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IHNlbGYuYXBwbHlQZXJrKGFjaFNldHVwLnJhbmtzW3JjXVsxXVtwY10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV3YXJkLnBlcmtzLnB1c2gocCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld1Jld2FyZEV2ZW50JywgcmV3YXJkKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFwcGx5UGVyayA9IGZ1bmN0aW9uKGFycikge1xyXG4gICAgICAgICAgICB2YXIgcGlkID0gYXJyWzBdO1xyXG4gICAgICAgICAgICB2YXIgcGVya1NldHVwID0gYWNoaWV2ZW1lbnRTZXR1cC5wZXJrc1twaWRdO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgdGhpcyBwZXJrIGNhbiBvbmx5IGJlIGVhcm5lZCBvbmNlIGFuZCB0aGUgcGxheWVyIGhhcyBlYXJuZWQgaXQgYWxyZWFkeSxcclxuICAgICAgICAgICAgLy8gd2UgZG8gbm90IGhhdmUgdG8gZG8gYW55dGhpbmdcclxuICAgICAgICAgICAgaWYgKHBlcmtTZXR1cC5vbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGVya1NlYXJjaCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHNlbGYucHJvZ3Jlc3MucGVya3MsIHsgcGlkOiBwaWQgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGVya1NlYXJjaC5sZW5ndGggIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGxvZyB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICB2YXIgbXNnID0gcGVya1NldHVwLm5hbWUgKyAnIC0gJyArIHBlcmtTZXR1cC5kZXNjO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBlcmtTZXR1cC5waWQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BfR19FTkhBTkNFRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmUgPSBnZW5lRGVmaW5pdGlvbnNbYXJyWzFdXTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVkb21dJywgZ2VuZS5kb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJXJlY10nLCBnZW5lLnJlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slYXR0cl0nLCBnZW5lLmF0dHJbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJWFtdF0nLCBhcnJbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUF9SX0JPTlVTJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BfUl9NVUxUSVBMSUVSJzpcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyUxXScsIHJlc291cmNlVHlwZXNbYXJyWzFdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slMl0nLCBhcnJbMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyci5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slJyArIGkgKyAnXScsIGFycltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQWNoaWV2ZW1lbnRNZXNzYWdlKG1zZyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmV0ID0ge1xyXG4gICAgICAgICAgICAgICAgcGlkOiBwaWQsXHJcbiAgICAgICAgICAgICAgICBtc2c6IG1zZyxcclxuICAgICAgICAgICAgICAgIGFycjogYXJyLFxyXG4gICAgICAgICAgICAgICAgZHQ6IChuZXcgRGF0ZSgpKS50b1VUQ1N0cmluZygpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MucGVya3MucHVzaChyZXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZU5ld1Jld2FyZEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ25ld1Jld2FyZEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5nYW1lLnNlcnZpY2UoJ3BvcHVsYXRpb25TZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnZ2FtZUxvb3BTZXJ2aWNlJywgJ1BvcHVsYXRpb24nLCAnbG9nU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZ2FtZUxvb3BTZXJ2aWNlLCBQb3B1bGF0aW9uLCBsb2dTZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRTdGVwcyA9IHN0YXRlLmJyZWVkU3RlcHMgfHwgc3RhdGUuYnJlZWRTdGVwcyB8fCA2O1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IHN0YXRlLnN0ZXBzU2luY2VCcmVlZCB8fCBzZWxmLnN0ZXBzU2luY2VCcmVlZCB8fCAwO1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb25TdGF0ZSA9IHN0YXRlLnBvcHVsYXRpb25TdGF0ZSB8fCBzZWxmLnBvcHVsYXRpb25TdGF0ZTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gKHNlbGYucG9wdWxhdGlvblN0YXRlKSA/IG5ldyBQb3B1bGF0aW9uKHNlbGYucG9wdWxhdGlvblN0YXRlKSA6IHNlbGYucG9wdWxhdGlvbiB8fCBuZXcgUG9wdWxhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlID0gbG9nU2VydmljZTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnYnJlZWRlclVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBicmVlZFN0ZXBzOiBzZWxmLmJyZWVkU3RlcHMsXHJcbiAgICAgICAgICAgICAgICBzdGVwc1NpbmNlQnJlZWQ6IHNlbGYuc3RlcHNTaW5jZUJyZWVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN0YXRlLnBvcHVsYXRpb25TdGF0ZSA9IHNlbGYucG9wdWxhdGlvbi5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5oYW5kbGVHYW1lTG9vcCA9IGZ1bmN0aW9uKGV2ZW50LCBzdGVwcykge1xyXG4gICAgICAgICAgICB2YXIgcG9wVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQubmFtZSAhPT0gJ2dhbWVMb29wRXZlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9wdWxhdGVTZXJ2aWNlLmhhbmRsZUdhbWVMb29wIC0gSW52YWxpZCBldmVudDogJyArIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5wb3B1bGF0aW9uLmlzQnJlZWRpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgKz0gc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VsZi5zdGVwc1NpbmNlQnJlZWQgPj0gc2VsZi5icmVlZFN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgLT0gc2VsZi5icmVlZFN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzcHJpbmcgPSBzZWxmLnBvcHVsYXRpb24uYnJlZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc3ByaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiTmV3IG9mZnNwcmluZyEgXCIgKyBvZmZzcHJpbmcubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV9CSVJUSFMnLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcFVwZGF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRCcmVlZGVyID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5wdXNoKGlkKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciBhZGRlZDogXCIgKyBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCkubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHNlbGYuc3RlcHNTaW5jZUJyZWVkID0gMDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciByZW1vdmVkOiBcIiArIHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi51cGRhdGVNZW1iZXIgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCk7XHJcbiAgICAgICAgICAgIG1lbWJlci5nZW5lc1tnZW5lSW5kZXhdID0gZ2VuZVZhbHVlcztcclxuICAgICAgICAgICAgbWVtYmVyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdwb3B1bGF0aW9uVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24ubWVtYmVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnJlZWRlclVwZGF0ZUV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZ2FtZUxvb3BTZXJ2aWNlLlN1YnNjcmliZUdhbWVMb29wRXZlbnQoJHJvb3RTY29wZSwgc2VsZi5oYW5kbGVHYW1lTG9vcCk7XHJcbiAgICB9XHJcbl0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ3Jlc291cmNlVHlwZXMnLCB7XHJcbiAgICBESVJUOiAnRGlydCcsXHJcbiAgICBXQVRFUjogJ1dhdGVyJyxcclxuICAgIFdPT0Q6ICdXb29kJyxcclxuICAgIEdPTEQ6ICdHb2xkJyxcclxuICAgIEJSSUNLUzogJ0JyaWNrcycsXHJcbiAgICBIQVBQSU5FU1M6ICdIYXBwaW5lc3MnLFxyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5zZXJ2aWNlKCdyZXNvdXJjZVNlcnZpY2UnLCBbXHJcbiAgICAnJHJvb3RTY29wZScsICckZmlsdGVyJywgJ2RlZmF1bHRTdGF0ZScsICdsb2dTZXJ2aWNlJywgJ2dlbmVEZWZpbml0aW9ucycsICdyZXNvdXJjZVR5cGVzJywgJ2FjaGlldmVtZW50U2VydmljZScsXHJcbiAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZmlsdGVyLCBkZWZhdWx0U3RhdGUsIGxvZ1NlcnZpY2UsIGdlbmVEZWZpbml0aW9ucywgcmVzb3VyY2VUeXBlcywgYWNoaWV2ZW1lbnRTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBkZWZhdWx0U3RhdGUucmVzb3VyY2VTZXJ2aWNlU3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS5TdWJzY3JpYmVOZXdSZXdhcmRFdmVudCgkcm9vdFNjb3BlLCBzZWxmLnJld2FyZEVhcm5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgcmVzb3VyY2VUeXBlIGluIHJlc291cmNlVHlwZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZVR5cGVzLmhhc093blByb3BlcnR5KHJlc291cmNlVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgciA9IHNlbGYuc3RhdGUucmVzb3VyY2VzW3Jlc291cmNlVHlwZV07XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncmVzb3VyY2VDaGFuZ2VkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHJbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHJbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0YXRlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmV3YXJkRWFybmVkID0gZnVuY3Rpb24oZXZlbnQsIHJld2FyZCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHJld2FyZC5wZXJrcy5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmsgPSByZXdhcmQucGVya3NbcF07XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyay5waWQgPT09ICdQX1JfQk9OVVMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGRSZXNvdXJjZShwZXJrLmFyclsxXSwgcGVyay5hcnJbMl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRSZXNvdXJjZXNTbmFwc2hvdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KHNlbGYuc3RhdGUucmVzb3VyY2VzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFkZFJlc291cmNlID0gZnVuY3Rpb24ocmVzb3VyY2VUeXBlLCBhbW91bnQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBzZWxmLnN0YXRlLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdO1xyXG4gICAgICAgICAgICByWzBdICs9IGFtb3VudDtcclxuICAgICAgICAgICAgaWYgKHJbMF0gPiByWzFdKSByWzBdID0gclsxXTtcclxuICAgICAgICAgICAgaWYgKHJbMF0gPCAwKSByWzBdID0gMDtcclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLnVwZGF0ZVByb2dyZXNzKCdBXycgKyByZXNvdXJjZVR5cGUsIGFtb3VudCk7XHJcbiAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV8nICsgcmVzb3VyY2VUeXBlICsgJ19DJywgclswXSk7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdyZXNvdXJjZUNoYW5nZWRFdmVudCcsIHJlc291cmNlVHlwZSwgclswXSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmluY3JlYXNlUmVzb3VyY2VMaW1pdCA9IGZ1bmN0aW9uKHJlc291cmNlVHlwZSwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gc2VsZi5zdGF0ZS5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXTtcclxuICAgICAgICAgICAgclsxXSArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHJbMV0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUmVzb3VyY2VDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncmVzb3VyY2VDaGFuZ2VkRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgaWYgKHNjb3BlKSBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLlN1YnNjcmliZVJlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncmVzb3VyY2VMaW1pdENoYW5nZWRFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBpZiAoc2NvcGUpIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbi8vIHRhYiBjb21wb25lbnRzXHJcbmFwcC5jb21wb25lbnQoJ2JyZWVkZXJUYWInLCB7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXRzOiAnPScsXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmxhc3RCcmVlZGVySUQgPSAwO1xyXG4gICAgICAgIHNlbGYubmV3QnJlZWRlckdlbmRlciA9ICdNYWxlJztcclxuICAgICAgICBcclxuICAgICAgICBzZWxmLmtpbGxCcmVlZGVyID0gZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXRzLnNwbGljZShzZWxmLnVuaXRzLmluZGV4T2YodW5pdCksIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxmLmFkZE5ld0JyZWVkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZURlZmluaXRpb25zLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcy5wdXNoKFswLDAsMF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHNlbGYubGFzdEJyZWVkZXJJRCsrLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiA2LFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IGdlbmVzXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgc2VsZi51bml0cy51bnNoaWZ0KHVuaXQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJ1xyXG59KTtcclxuYXBwLmNvbXBvbmVudCgnbWF0aW5nVGFiJywge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0czogJz0nLFxyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL21hdGluZ1RhYi5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbXBvbmVudCgnZ2Vub21lRWRpdG9yJyx7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXQ6ICc9J1xyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2VuZURlZmluaXRpb25zJywgZnVuY3Rpb24oZ2VuZURlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICAgICAgc2VsZi5leHBhbmRvID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZU5hbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0Lm5hbWUgPSBzZWxmLnVuaXQuZ2V0UmFuZG9tTmFtZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbaW5kZXhdID0gW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkscmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSxyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi51bml0LmdlbmVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5yYW5kb21pemUoaSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsMSkgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuICAgICAgICAgICAgc2VsZi51bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIHNlbGYudHJhaXREZWZpbml0aW9ucyA9IHRyYWl0RGVmaW5pdGlvbnM7XHJcbiAgICAgICAgLy9zZWxmLmRpZ2dlcnMgPSBnYW1lU2VydmljZS5kaWdnZXJzO1xyXG4gICAgICAgIHNlbGYudW5pdHMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZUJyZWVkRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgb2Zmc3ByaW5nKSB7XHJcbiAgICAgICAgLy8gICAgLy8kc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgeyBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IG9mZnNwcmluZzsgfSk7XHJcbiAgICAgICAgLy99KTtcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZU5ld0dlbmVyYXRpb25FdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgLy8gICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgc2VsZi5kaWdnZXJzID0gZGF0YS5EaWdnZXJzO1xyXG4gICAgICAgIC8vICAgICAgICAvL3NlbGYuZGlnZ2VyQW5jZXN0b3JzID0gZGF0YS5BbmNlc3RvcnM7XHJcbiAgICAgICAgLy8gICAgfSk7XHJcbiAgICAgICAgLy99KTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihkaWdnZXJJbmRleCwgZ2VuZUluZGV4LCB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBzZWxmLnVuaXRzW2RpZ2dlckluZGV4XTtcclxuICAgICAgICAgICAgZGlnZ2VyLmdlbmVzW2dlbmVJbmRleF0gPSB2YWx1ZXM7XHJcbiAgICAgICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICovXHJcblxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9ob21lLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtbWQtNiBjb2wtbGctNFwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJMb2dcIj48YmxvcWhlYWQtbG9nPjwvYmxvcWhlYWQtbG9nPjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiR29hbHNcIj48YmxvcWhlYWQtZ29hbC1saXN0PjwvYmxvcWhlYWQtZ29hbC1saXN0PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUmVzb3VyY2VzXCI+PGJsb3FoZWFkLXJlc291cmNlLWxpc3Q+PC9ibG9xaGVhZC1yZXNvdXJjZS1saXN0PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1tZC02IGNvbC1sZy04XCI+PGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJBY2hpZXZlbWVudHNcIj48ZGl2IGNsYXNzPVwicm93IGJyZWVkZXItY29udGFpbmVyXCI+PGRpdiBuZy1yZXBlYXQ9XCJjaGlsZCBpbiAkY3RybC5wb3B1bGF0aW9uXCIgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTYgY29sLWxnLTRcIj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiY2hpbGRcIiBhc3NpZ249XCIkY3RybC5hZGRCcmVlZGVyKCRpZClcIj48L2Jsb3FoZWFkLWJyZWVkZXI+PC9kaXY+PC9kaXY+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2xvZy9sb2cuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJsb2ctY29tcG9uZW50XCI+PHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluICRjdHJsLm1lc3NhZ2VzIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwiJGN0cmwuZ2V0TG9nQ2xhc3MoaXRlbS50eXBlKVwiPls8c3BhbiBuZy1iaW5kPVwiaXRlbS50aW1lc3RhbXB8ZGF0ZTpcXCdNTS9kZCBISDptbTpzc1xcJ1wiPjwvc3Bhbj5dJm5ic3A7IDxzcGFuIG5nLWJpbmQ9XCJpdGVtLm1lc3NhZ2VcIj48L3NwYW4+PC9saT48L3VsPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJibG9xaGVhZC1jb21wb25lbnRcIj48aDU+e3skY3RybC51bml0Lm5hbWV9fSA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBuZy1yZXBlYXQ9XCJ0cmFpdCBpbiAkY3RybC51bml0LnRyYWl0c1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cInt7dHJhaXQubmFtZX19XCI+PC9pPjwvaDU+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3skY3RybC51bml0LnJlZEdyZWVuSW1hZ2V9fVwiPjx0YWJsZSBjbGFzcz1cImdlbm9tZUVkaXRvclwiPjx0aGVhZD48dHI+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPlNUUjwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPklOVDwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkVORDwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkNIUjwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkxDSzwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48dHI+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuU1RSXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuSU5UXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuRU5EXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuQ0hSXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuTENLXCI+PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLmFzc2lnbk1lKCkgXCI+QnJlZWQgTWU8L2J1dHRvbj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnkgZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1leHBhbmRlZD1cImZhbHNlXCI+V29yayA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvYnV0dG9uPjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGE+TWluZTwvYT48L2xpPjxsaT48YT5GYXJtPC9hPjwvbGk+PC91bD48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJQb3B1bGF0aW9uIFt7eyRjdHJsLnBvcHVsYXRpb24ubGVuZ3RofX0gLyB7eyRjdHJsLm1heFBvcHVsYXRpb259fV0gLS0tRklMVEVSUyBIRVJFPz8/LS0tLVwiPjxkaXYgY2xhc3M9XCJyb3cgYnJlZWRlci1jb250YWluZXJcIj48ZGl2IG5nLXJlcGVhdD1cImNoaWxkIGluICRjdHJsLnBvcHVsYXRpb25cIiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1icmVlZGVyIHVuaXQ9XCJjaGlsZFwiIGFzc2lnbj1cIiRjdHJsLmFkZEJyZWVkZXIoJGlkKVwiPjwvYmxvcWhlYWQtYnJlZWRlcj48L2Rpdj48L2Rpdj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTEwIGNvbC1tZC02IGNvbC1sZy00XCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJCcmVlZGVycyBbIyAvICNdXCI+PGRpdiBjbGFzcz1cInJvdyBicmVlZGVyLWNvbnRhaW5lclwiPjxkaXYgbmctcmVwZWF0PVwiYnJlZWRlcmlkIGluICRjdHJsLmJyZWVkZXJzXCIgY2xhc3M9XCJjb2wteHMtMTIgY29sLWxnLTEyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwucmVtb3ZlQnJlZWRlcihicmVlZGVyaWQpXCI+PHNwYW4+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiJGN0cmwucG9wdWxhdGlvblticmVlZGVyaWRdXCI+PC9ibG9xaGVhZC1icmVlZGVyPjwvZGl2PjwvZGl2PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0xMCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiVGFza3NcIj48dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+PGxpPk1pbmVyczogMDwvbGk+PGxpPkZhcm1lcnM6IDA8L2xpPjwvdWw+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj48aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiIG5nLWJpbmQ9XCIkY3RybC50aXRsZVwiPjwvaDM+PC9kaXY+PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj48bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+PC9kaXY+PGRpdiBuZy1pZj1cImFuZ3VsYXIuaXNEZWZpbmVkKCRjdHJsLmZvb3RlcilcIiBjbGFzcz1cInBhbmVsLWZvb3RlclwiPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC5mb290ZXJcIj48L3NwYW4+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvcmVzb3VyY2VMaXN0L3Jlc291cmNlTGlzdC5odG1sJyxcbiAgICAnPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtY29uZGVuc2VkXCI+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gJGN0cmwucmVzb3VyY2VzXCI+PHRkIG5nLWJpbmQ9XCIkY3RybC5yZXNvdXJjZVR5cGVzW2tleV1cIj48L3RkPjx0ZCBuZy1iaW5kPVwiKHZhbHVlWzBdICsgXFwnIC8gXFwnICsgdmFsdWVbMV0pXCI+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2JyZWVkZXJUYWIuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCIgcm9sZT1cImdyb3VwXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5hZGROZXdCcmVlZGVyKClcIj5BZGQgbmV3IEJyZWVkZXI8L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkdlbmRlcjoge3skY3RybC5uZXdCcmVlZGVyR2VuZGVyfX0gPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PGxpPjxhIGRhdGEtdGFyZ2V0PVwiXCIgbmctY2xpY2s9XCIkY3RybC5uZXdCcmVlZGVyR2VuZGVyID0gXFwnTWFsZVxcJ1wiPk1hbGU8L2E+PC9saT48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdGZW1hbGVcXCdcIj5GZW1hbGU8L2E+PC9saT48L3VsPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS02IGNvbC1tZC00XCIgbmctcmVwZWF0PVwidW5pdCBpbiAkY3RybC51bml0c1wiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIiRjdHJsLmtpbGxCcmVlZGVyKHVuaXQpXCI+PHNwYW4+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj48Z2Vub21lLWVkaXRvciB1bml0PVwidW5pdFwiPjwvZ2Vub21lLWVkaXRvcj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImJsb3FoZWFkLWNvbXBvbmVudFwiPjxoND48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiBuZy1jbGljaz1cIiRjdHJsLnJhbmRvbWl6ZU5hbWUoKTtcIj48aSBjbGFzcz1cImZhIGZhLWFzdGVyaXNrXCI+PC9pPjwvYnV0dG9uPiB7eyRjdHJsLnVuaXQubmFtZX19IDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIG5nLXJlcGVhdD1cInRyYWl0IGluICRjdHJsLnVuaXQudHJhaXRzXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgcmVsPVwidG9vbHRpcFwiIHRpdGxlPVwie3t0cmFpdC5uYW1lfX1cIj48L2k+PC9oND48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7eyRjdHJsLnVuaXQucmVkR3JlZW5JbWFnZX19XCIgbmctY2xpY2s9XCIkY3RybC5leHBhbmRvID0gISRjdHJsLmV4cGFuZG9cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJDbGljayB0byBleHBhbmQvY29sbGFwc2VcIj48ZGl2IG5nLXNob3c9XCIkY3RybC5leHBhbmRvXCIgc3R5bGU9XCJoZWlnaHQ6IDQwMHB4OyBvdmVyZmxvdy15OiBzY3JvbGw7IG1hcmdpbi10b3A6NXB4XCI+PHRhYmxlIGNsYXNzPVwiZ2Vub21lRWRpdG9yIHRhYmxlIHRhYmxlLWNvbmRlbnNlZFwiPjx0aGVhZD48dHI+PHRoPiZuYnNwOzwvdGg+PHRoPkRvbWluYW50PC90aD48dGg+UmVjZXNzaXZlPC90aD48dGg+VmFsdWVzIChEL1IvTSk8L3RoPjx0aD48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXdhcm5pbmdcIiBuZy1jbGljaz1cIiRjdHJsLnJhbmRvbWl6ZUFsbCgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XCJnZW5lIGluICRjdHJsLmdlbmVEZWZpbml0aW9uc1wiPjx0ZCBuZy1iaW5kPVwiJGluZGV4XCI+PC90ZD48dGQgbmctYmluZD1cImdlbmUuZG9tXCI+PC90ZD48dGQgbmctYmluZD1cImdlbmUucmVjXCI+PC90ZD48dGQ+PGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMV1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzBdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVsyXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj48L3RkPjx0ZD48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXN1Y2Nlc3NcIiBuZy1jbGljaz1cIiRjdHJsLnJhbmRvbWl6ZSgkaW5kZXgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL21hdGluZ1RhYi5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCIgcm9sZT1cImdyb3VwXCI+PGRpdiBjbGFzcz1cImRyb3Bkb3duIGJ0bi1ncm91cFwiPjxkaXYgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj5Nb3RoZXI6IHt7JGN0cmwubW90aGVyLm5hbWV9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm1vdGhlciA9IHVuaXRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzIHwgaGFzVHJhaXQ6XFwnRmVtYWxlXFwnXCIgbmctYmluZD1cInVuaXQubmFtZVwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PGRpdiBjbGFzcz1cImRyb3Bkb3duIGJ0bi1ncm91cFwiPjxkaXYgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj5GYXRoZXI6IHt7JGN0cmwuZmF0aGVyLm5hbWV9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLmZhdGhlciA9IHVuaXRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzIHwgaGFzVHJhaXQ6XFwnTWFsZVxcJ1wiIG5nLWJpbmQ9XCJ1bml0Lm5hbWVcIj48L2E+PC9saT48L3VsPjwvZGl2PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ncm91cFwiIG5nLWNsaWNrPVwiJGN0cmwubWF0ZSgpXCIgbmctZGlzYWJsZWQ9XCIhJGN0cmwuZmF0aGVyIHx8ICEkY3RybC5tb3RoZXJcIj5NYXRlPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGEgZGF0YS10YXJnZXQ9XCIjYnJlZWRlcnNcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5CcmVlZGVyczwvYT48L2xpPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGEgZGF0YS10YXJnZXQ9XCIjbWF0aW5nXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+TWF0aW5nPC9hPjwvbGk+PC91bD48ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnRcIj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmUgYWN0aXZlXCIgaWQ9XCJicmVlZGVyc1wiPjxicmVlZGVyLXRhYiB1bml0cz1cIiRjdHJsLnVuaXRzXCI+PC9icmVlZGVyLXRhYj48L2Rpdj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmVcIiBpZD1cIm1hdGluZ1wiPjxtYXRpbmctdGFiIHVuaXRzPVwiJGN0cmwudW5pdHNcIj48L21hdGluZy10YWI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIl19
