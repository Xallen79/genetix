function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,a,r,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(a=0;a<i;a++)r=e[n][a],l.push(String.fromCharCode(r[2])+String.fromCharCode(r[1])+String.fromCharCode(r[0]));l.push(s)}return l.join("")}function n(e,t){var n,a,r,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),d=[];for(r=0;r<i;r++)for(d.push(n=[]),a=0;a<l;a++)n.push(e[parseInt(r/t)][parseInt(a/t)]);return d}window.generateBitmapDataURL=function(a,r){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;r=r||1,1!=r&&(a=n(a,r));var o,i=a.length,s=i?a[0].length:0,l=(4-3*s%4)%4,d=(3*s+l)*i,c=54+d;return i=e(i,4),s=e(s,4),d=e(d,4),c=e(c,4),o="BM"+c+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+d+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(a,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function a(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,a=[];if(3==n)for(;t<n;t++)a.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)a.push(parseInt("0x"+e.substring(t,t+2)));return a}:alert("Unparseable color: "+e)}function r(e){var r=t.getElementById(e).style.backgroundColor;return""===r?[255,255,255]:(o===n&&a(r),o(r))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var a,o,i,s,l,d=50,c=49,u=[];c>=0;c--)for(u.push(o=[]),a=0;a<d;a++)o.push(r(a+"_"+c));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var a=[];a.push({name:"home",url:"/",templateUrl:"components/home.html"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)})}]).run(["gameService","populationService","logService",function(e,t,n){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],a=0;a<e.length;a++)e[a].hasTrait(t)&&n.push(e[a]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t,n){for(var a=Math.random(),r=angular.copy(a<=d.crossoverrate?e:t),o=r[2]/255,i="",s="",l=0;l<n;l++)i+=Math.random()<o?"1":"0",s+=Math.random()<o?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(s,2),r}function a(e,t){return generateBitmapDataURL(s(o(e,t),e.length),20)}function r(e){return generateBitmapDataURL(s(i(e),e.length),20)}function o(e,t){for(var n=[],a=50,r=255/(Math.pow(2,t)-1),o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],l=Math.abs(i-s)/255;l*=r,i>s?s=0:i=0,i*=l,s*=l,i>0&&(i+=a),s>0&&(s+=a),i>255&&(i=255),s>255&&(s=255),n.push([i,s,0])}return n}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],a=0;a<e.length/t;a++){for(var r=[],o=0;o<t;o++)r.push(e[o+a*t]);n.push(r)}return n}var l=function(e){this.traitInspector=new t,this.update(e)};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.genes=e.genes||this.genes||[],this.mutationBits=e.mutationBits||this.mutationBits||4,this.redGreenImage=a(this.genes,this.mutationBits),this.blueImage=r(this.genes),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes),this.name=this.name&&"Unknown Gender"!==this.name?this.name:e.name||this.getRandomName()},l.prototype.breed=function(e,t){for(var a=this,r=e,o=this.hasTrait("Male")?"Male":"Female",i=new l({id:t,generation:a.generation+1,genes:[],mother:"Female"==o?a:r,father:"Male"==o?a:r}),s=0;s<a.genes.length;s++){var d=a.genes[s],c=r.genes[s];i.genes.push(n(d,c,this.mutationBits))}return i.update(),i},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?c[randomIntFromInterval(0,c.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+m[randomIntFromInterval(0,m.length-1)]+g[randomIntFromInterval(0,g.length-1)];return e+t};var d={crossoverrate:.5},c=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],g=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){e=e||{},this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.breeders=e.breeders|this.breeders||[],this.maxSize=e.maxSize|this.maxSize||10,this.breederMutationBits=e.breederMutationBits,this.breederMutationChance=e.breederMutiationChance||5,this.breederGenesUnlocked=e.breederGenesUnlocked||[],this.members=e.members|this.members||this.createInitialPopulation(e.initialSize||2)},a.prototype.createInitialPopulation=function(e){for(var n=this,a=[],r=0;r<e;r++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),n.breederGenesUnlocked.indexOf(i)!==-1&&(o[i][2]=n.breederMutationChance);var s=r%2===0?255:0,l=r%2===0?0:255;o[42][0]=s,o[42][1]=l,o[42][2]=0;var d=new t({id:r,generation:0,genes:angular.copy(o),mutationBits:n.breederMutationBits});d.update(),a.push(d)}return a},a.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var a=this.getById(this.breeders[n]);if(a.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},a.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},a.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},a.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),a=t.breed(n,e.members.length);return e.members.push(a),a},a}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},a=function(e){if(angular.isDefined(e.requiredTraits))for(var r=0;r<e.requiredTraits.length;r++){var o=e.requiredTraits[r],i=n(o);t.indexOf(i.name)===-1&&a(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},r=function(){for(var t=0;t<e.length;t++){var n=e[t];a(n)}return e};return r()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={})},a.prototype.getTraits=function(e){var t=[];if(e.length)for(var a=0;a<n.length;a++){for(var r=n[a],o=!0,i=0;i<r.genes.length&&o===!0;i++){var s=r.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(r)}return t},a.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,a=0,r=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?a+=e[s][1]-e[s][0]:s<30?r+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt((Math.abs(n)+20)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt((Math.abs(a)+20)/25))*(a<0?-1:1),t.END=Math.floor(Math.sqrt((Math.abs(r)+20)/25))*(r<0?-1:1),t.CHR=Math.floor(Math.sqrt((Math.abs(o)+20)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt((Math.abs(i)+20)/25))*(i<0?-1:1)}return t},a}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div class=""><button type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["gameService","gameStates",function(e,t){var n=this;n.$onInit=function(){n.currentState=e.getState()},n.toggleState=function(){n.currentState=n.currentState===t.RUNNING?t.PAUSED:t.RUNNING,e.setState(n.currentState)},n.getIcon=function(){return n.currentState===t.RUNNING?"fa-pause":"fa-play"}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2,ACHIEVEMENT:3}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var a=this;a.$onInit=function(){a.messages=[],t.SubscribeNewMessageEvent(e,a.receiveMessages)},a.getLogClass=function(e){var t="list-group-item-",a="";switch(e){case n.GENERAL:a="color-general";break;case n.ACHIEVEMENT:a="color-achievement";break;case n.BREED:a="color-breed";break;default:a=t+"none"}return a},a.receiveMessages=function(e,t){a.messages=t}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(){n.messages=[],n.logGeneralMessage("Welcome to Genetix!")},n.logGeneralMessage=function(a){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(a){n.messages.push({type:t.BREED,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logAchievementMessage=function(a){n.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,a){var r=e.$on("newMessageEvent",a.bind(this));t.$on("$destroy",r),e.$emit("newMessageEvent",n.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService",function(e,t){var n=this;n.$onInit=function(){n.breeders=[],n.population=[],n.maxPopulation=0,t.SubscribePopulationUpdateEvent(e,n.updatePopulation),t.SubscribeBreederUpdateEvent(e,n.updateBreeders)},n.updateGene=function(e,n,a){t.updateMember(e,n,a)},n.addBreeder=function(e){t.addBreeder(e)},n.removeBreeder=function(e){t.removeBreeder(e)},n.updateBreeders=function(e,t){n.breeders=t},n.updatePopulation=function(e,t){n.population=t.population,n.maxPopulation=t.maxSize}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){}});var game=angular.module("bloqhead.genetixApp");game.constant("achievementSetup",{achievements:[{aid:"A_BIRTHS",name:"The Chosen One",ranks:[[1,[["R_GOLD",100],["R_WOOD",100]]],[18,[["M_HAPPINESS"]]]]}],perks:[{pid:"M_HAPPINESS",name:"New Mechanic: Happiness",desc:"Happiness is a representation of how content your population is.",once:!0},{pid:"R_GOLD",name:"Earned Bonus Resources: Gold",desc:"[%1] gold has been added to your coffers."},{pid:"R_WOOD",name:"Earned Bonus Resources: Wood",desc:"[%1] wood has been added to your coffers."}]}),game.service("achievementService",["$filter","logService","achievementSetup",function(e,t,n){var a=this;a.init=function(e){a.progress=e||{achievements:[],perks:[]}},a.updateProgress=function(r,o){var i,s=e("filter")(a.progress.achievements,{aid:r});0===s.length?(i={aid:r,amount:0},a.progress.achievements.push(i)):i=s[0];var l=i.amount,d=i.amount+o;i.amount=d;for(var c=e("filter")(n.achievements,{aid:r})[0],u=0;u<c.ranks.length;u++){var p=c.ranks[u][0];if(p>l&&p<=d){t.logAchievementMessage("Achievement Earned - "+c.name+" ("+p+")");for(var m=0;m<c.ranks[u][1].length;m++)a.applyPerk(c.ranks[u][1][m])}}},a.applyPerk=function(r){var o=r[0],i=e("filter")(n.perks,{pid:o})[0];if(i.once){var s=e("filter")(a.progress.perks,{pid:o});if(0!==s.length)return}for(var l=i.name+" - "+i.desc,d=1;d<r.length;d++)l=l.replace("[%"+d+"]",r[d]);switch(t.logAchievementMessage(l),o){case"R_GOLD":break;case"R_WOOD":}},a.init()}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.constant("defaultConfig",{gameServiceConfig:{stepTimeMs:1e3},populationServiceConfig:{breedSteps:6,populationConfig:{initialSize:2,maxSize:22,breederMutationBits:5,breederGenesUnlocked:[0,1,2,3,4,5,6,7,8,9,42],breederMuatationChance:10}}}),game.service("gameService",["$window","$rootScope","gameStates","logService","defaultConfig",function(e,t,n,a,r){var o=this;o.init=function(e){e=e||r,o.stepTimeMs=e.gameServiceConfig.stepTimeMs||1e3,o.lastTime=0,o.currentState=n.PAUSED,o.startGame(e)},o.getState=function(){return o.currentState},o.setState=function(e){o.currentState=e,e===n.PAUSED?a.logGeneralMessage("Game paused."):a.logGeneralMessage("Game resumed.")},o.gameLoop=function(a){for(var r=this,o=0;r.lastTime+a>r.stepTimeMs*(o+1);)o++;r.lastTime=r.lastTime-r.stepTimeMs*o,r.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},o.SubscribeGameLoopEvent=function(e,n){var a=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",a)},o.SubscribeInitializeEvent=function(e,n){var a=t.$on("initializeEvent",n.bind(this));e.$on("$destroy",a)},o.startGame=function(e){e=e||r,o.currentState=n.PAUSED,a.init(!1),t.$emit("initializeEvent",e),o.gameLoop(0),o.currentState=n.RUNNING}}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameService","Population","logService","achievementService",function(e,t,n,a,r){var o=this;o.init=function(e,t){t=t||{};var r=t.populationServiceConfig||{};o.breedSteps=r.breedSteps||o.breedSteps||6,o.stepsSinceBreed=0,o.population=new n(r.populationConfig),o.logService=a},o.handleGameLoop=function(t,n){var i=!1;if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(o.population.isBreeding()){for(o.stepsSinceBreed+=n;o.stepsSinceBreed>=o.breedSteps;){o.stepsSinceBreed-=o.breedSteps;var s=o.population.breed();null!==s&&(a.logBreedMessage("New offspring! "+s.name),r.updateProgress("A_BIRTHS",1),i=!0)}i&&e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})}},o.addBreeder=function(t){o.population.breeders.indexOf(t)===-1&&(o.population.breeders.push(t),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder added: "+o.population.getById(t).name))},o.removeBreeder=function(t){var n=o.population.breeders.indexOf(t);n!==-1&&(o.population.breeders.splice(n,1),o.population.isBreeding()||(o.stepsSinceBreed=0),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder removed: "+o.population.getById(t).name))},o.updateMember=function(t,n,a){var r=o.population.getById(t);r.genes[n]=a,r.update(),e.$emit("populationUpdateEvent",o.population.members)},o.SubscribeBreederUpdateEvent=function(t,n){var a=e.$on("breederUpdateEvent",n);t.$on("$destroy",a),e.$emit("breederUpdateEvent",o.population.breeders)},o.SubscribePopulationUpdateEvent=function(t,n){var a=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",a),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},t.SubscribeGameLoopEvent(e,o.handleGameLoop),t.SubscribeInitializeEvent(e,o.init)}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var a=this;a.lastBreederID=0,a.newBreederGender="Male",a.killBreeder=function(e){a.units.splice(a.units.indexOf(e),1)},a.addNewBreeder=function(){for(var n=[],r=0;r<t.length;r++)n.push([0,0,0]);var o="Male"==a.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:a.lastBreederID++,generation:0,scale:6,genes:n});i.update(),a.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,a,r,o){var i=this;i.$onInit=function(){i.geneDefinitions=r,i.traitDefinitions=o,i.units=[]}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.mainGame"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}}),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<nav class="navbar navbar-inverse navbar-fixed-top"><div class="container-fluid"><ul class="nav navbar-nav"><li><a ui-sref="home.main">Main</a></li><li><a ui-sref="home.test">Test Interface</a></li></ul><bloqhead-game-control class="navbar-brand navbar-right"></bloqhead-game-control></div></nav><div ui-view=""></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd HH:mm:ss\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><table class="table table-bordered table-condensed genomeEditor"><thead><tr><th style="width: 20%">STR</th><th style="width: 20%">INT</th><th style="width: 20%">END</th><th style="width: 20%">CHR</th><th style="width: 20%">LCK</th></tr></thead><tbody><tr><td><span ng-bind="$ctrl.unit.attributes.STR"></span></td><td><span ng-bind="$ctrl.unit.attributes.INT"></span></td><td><span ng-bind="$ctrl.unit.attributes.END"></span></td><td><span ng-bind="$ctrl.unit.attributes.CHR"></span></td><td><span ng-bind="$ctrl.unit.attributes.LCK"></span></td></tr></tbody></table></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12 col-sm-8 col-md-4 col-lg-3"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"></bloqhead-player-box></div></div></div><div class="col-xs-12 col-sm-8 col-md-4 col-lg-6"><div class="row"><div class="col-lg-8"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div><div class="col-lg-4"><bloqhead-player-box title="???"></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12 col-lg-6" ng-repeat="breederid in $ctrl.breeders"><bloqhead-player-box title="Breeder"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]"></bloqhead-breeder></bloqhead-player-box></div></div></div><div class="col-xs-12 col-sm-8 col-md-4 col-lg-3"><bloqhead-player-box title="Population [{{$ctrl.population.length}} / {{$ctrl.maxPopulation}}] "><div ng-repeat="child in $ctrl.population"><bloqhead-breeder unit="child" update-gene="$ctrl.updateGene($index, $geneIndex, $values, false)"></bloqhead-breeder><button class="btn btn-sm btn-primary" ng-click="$ctrl.addBreeder(child.id)">Breed Me</button></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3BvcHVsYXRpb24uanMiLCJjb21wb25lbnRzL2NsYXNzZXMvdHJhaXQuanMiLCJjb21wb25lbnRzL2dhbWVDb250cm9sL2dhbWVDb250cm9sLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvYWNoaWV2ZW1lbnRTZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9wb3B1bGF0aW9uU2VydmljZS5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2hvbWUuanMiLCJjb21wb25lbnRzL2xvZy9sb2cuanMiLCJjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2JyZWVkZXJUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL21hdGluZ1RhYi5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmpzIiwiY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94LmpzIl0sIm5hbWVzIjpbInJhbmRvbUludEZyb21JbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIl9hc0xpdHRsZUVuZGlhbkhleCIsInZhbHVlIiwiYnl0ZXMiLCJyZXN1bHQiLCJwdXNoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiam9pbiIsIl9jb2xsYXBzZURhdGEiLCJyb3dzIiwicm93X3BhZGRpbmciLCJpIiwiaiIsInBpeGVsIiwicm93c19sZW4iLCJsZW5ndGgiLCJwaXhlbHNfbGVuIiwicGFkZGluZyIsIl9zY2FsZVJvd3MiLCJzY2FsZSIsIm5ld19yb3ciLCJ4IiwieSIsInJlYWxfaCIsInNjYWxlZF9oIiwicGFyc2VJbnQiLCJyZWFsX3ciLCJzY2FsZWRfdyIsIm5ld19yb3dzIiwid2luZG93IiwiZ2VuZXJhdGVCaXRtYXBEYXRhVVJMIiwiYnRvYSIsImFsZXJ0IiwiZmlsZSIsImhlaWdodCIsIndpZHRoIiwibnVtX2RhdGFfYnl0ZXMiLCJudW1fZmlsZV9ieXRlcyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiX2Fzc2lnbl9iZ190cmFuc2Zvcm0iLCJiZyIsInRlc3QiLCIkYmdfdHJhbnNmb3JtIiwic3BsaXQiLCJzdWJzdHIiLCJzdWJzdHJpbmciLCJsZW4iLCIkYmdBc1JHQiIsImlkIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImdlbmVyYXRlTG93UmVzQml0bWFwIiwicm93IiwiaW1nX3BhcmVudCIsImltZyIsInNyYyIsInhfbGVuIiwiY3JlYXRlRWxlbWVudCIsImFsdCIsInRpdGxlIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm9uY2xpY2siLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJhc2tUb1NjYWxlIiwicHJvbXB0IiwicGFyc2VGbG9hdCIsIk5hTiIsImlzTmFOIiwidGhpcyIsIiQiLCJ0b29sdGlwIiwic2VsZWN0b3IiLCJqUXVlcnkiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlcyIsIm5hbWUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbXBvbmVudCIsImZvckVhY2giLCJzdGF0ZSIsInJ1biIsImdhbWVTZXJ2aWNlIiwicG9wdWxhdGlvblNlcnZpY2UiLCJsb2dTZXJ2aWNlIiwiaW5pdCIsImdhbWUiLCJmaWx0ZXIiLCJ1bml0cyIsInRyYWl0TmFtZSIsInJldCIsImhhc1RyYWl0IiwiZmFjdG9yeSIsIiRmaWx0ZXIiLCJUcmFpdEluc3BlY3RvciIsImNyb3Nzb3ZlciIsImcxIiwiZzIiLCJtYXhCaXRzIiwiZyIsImNvcHkiLCJnZW5ldGljT3B0aW9ucyIsImNyb3Nzb3ZlcnJhdGUiLCJtdXRhdGlvblJhdGUiLCJiaXRTdHJpbmdSIiwiYml0U3RyaW5nRyIsImdldFJlZEdyZWVuSW1hZ2UiLCJnZW5lcyIsIm11dGF0aW9uQml0cyIsImFkZFJvd3MiLCJjb252ZXJ0UmVkR3JlZW5NYXAiLCJnZXRCbHVlSW1hZ2UiLCJjb252ZXJ0Qmx1ZU1hcCIsIm1pbkNvbG9yIiwiZmFjdG9yIiwicG93IiwiciIsImJyaWdodCIsImFicyIsImNvbHMiLCJCcmVlZGVyIiwidHJhaXRJbnNwZWN0b3IiLCJ1cGRhdGUiLCJwcm90b3R5cGUiLCJtb3RoZXIiLCJmYXRoZXIiLCJnZW5lcmF0aW9uIiwicmVkR3JlZW5JbWFnZSIsImJsdWVJbWFnZSIsInRyYWl0cyIsImdldFRyYWl0cyIsImF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVzIiwiZ2V0UmFuZG9tTmFtZSIsImJyZWVkIiwicGFydG5lciIsIm5ld0lkIiwicDEiLCJwMiIsIm15R2VuZGVyIiwiY2hpbGQiLCJwMWciLCJwMmciLCJ0cmFpdCIsIm15VHJhaXQiLCJmaXJzdE5hbWUiLCJuYW1lTGlzdDEiLCJuYW1lTGlzdDIiLCJsYXN0TmFtZSIsIm5hbWVMaXN0MyIsIm5hbWVMaXN0NCIsIm5hbWVMaXN0NSIsImdlbmVEZWZpbml0aW9ucyIsIlBvcHVsYXRpb24iLCJjdXJyZW50R2VuZXJhdGlvbiIsImJyZWVkZXJzIiwibWF4U2l6ZSIsImJyZWVkZXJNdXRhdGlvbkJpdHMiLCJicmVlZGVyTXV0YXRpb25DaGFuY2UiLCJicmVlZGVyTXV0aWF0aW9uQ2hhbmNlIiwiYnJlZWRlckdlbmVzVW5sb2NrZWQiLCJtZW1iZXJzIiwiY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24iLCJpbml0aWFsU2l6ZSIsImNvdW50Iiwic2VsZiIsInBvcHVsYXRpb24iLCJnbiIsImluZGV4T2YiLCJ1bml0IiwiaXNCcmVlZGluZyIsImhhc01hbGUiLCJoYXNGZW1hbGUiLCJnZXRCeUlkIiwiZ2V0QnlHZW5lcmF0aW9uIiwiY29uc3RhbnQiLCJkb20iLCJyZWMiLCJhdHRyIiwicmVxdWlyZWRUcmFpdHMiLCJjaGVja2VkIiwiZ2V0VHJhaXRCeU5hbWUiLCJ0IiwiZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSIsImlzRGVmaW5lZCIsInJlcXVpcmVkVHJhaXQiLCJyZXEiLCJidWlsZFRyYWl0cyIsInRyYWl0RGVmaW5pdGlvbnMiLCJ0ZCIsIm1ldCIsImgiLCJ0ZGciLCJ2IiwiU1RSIiwiSU5UIiwiRU5EIiwiQ0hSIiwiTENLIiwic3RyQmFzZSIsImludEJhc2UiLCJlbmRCYXNlIiwiY2hyQmFzZSIsImxja0Jhc2UiLCJzcXJ0IiwiYXBwIiwidGVtcGxhdGUiLCJjb250cm9sbGVyIiwiZ2FtZVN0YXRlcyIsIiRvbkluaXQiLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZSIsInRvZ2dsZVN0YXRlIiwiUlVOTklORyIsIlBBVVNFRCIsInNldFN0YXRlIiwiZ2V0SWNvbiIsIkdFTkVSQUwiLCJCUkVFRCIsIkFDSElFVkVNRU5UIiwiJHNjb3BlIiwibG9nVHlwZXMiLCJtZXNzYWdlcyIsIlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCIsInJlY2VpdmVNZXNzYWdlcyIsImdldExvZ0NsYXNzIiwidHlwZSIsInByZWZpeCIsImEiLCJldmVudCIsInNlcnZpY2UiLCIkcm9vdFNjb3BlIiwibG9nR2VuZXJhbE1lc3NhZ2UiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNwbGljZSIsIiRlbWl0IiwibG9nQnJlZWRNZXNzYWdlIiwibG9nQWNoaWV2ZW1lbnRNZXNzYWdlIiwic2NvcGUiLCJjYWxsYmFjayIsImhhbmRsZXIiLCIkb24iLCJiaW5kIiwibWF4UG9wdWxhdGlvbiIsIlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCIsInVwZGF0ZVBvcHVsYXRpb24iLCJTdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQiLCJ1cGRhdGVCcmVlZGVycyIsInVwZGF0ZUdlbmUiLCJnZW5lSW5kZXgiLCJnZW5lVmFsdWVzIiwidXBkYXRlTWVtYmVyIiwiYWRkQnJlZWRlciIsInVuaXRpZCIsInJlbW92ZUJyZWVkZXIiLCJkYXRhIiwiYmluZGluZ3MiLCJhY2hpZXZlbWVudHMiLCJhaWQiLCJyYW5rcyIsInBlcmtzIiwicGlkIiwiZGVzYyIsIm9uY2UiLCJhY2hpZXZlbWVudFNldHVwIiwicHJvZ3Jlc3MiLCJ1cGRhdGVQcm9ncmVzcyIsImFtb3VudCIsImFjaFByb2dyZXNzIiwicHJvZ3Jlc3NTZWFyY2giLCJvbGR2YWwiLCJuZXd2YWwiLCJhY2hTZXR1cCIsInJjIiwiYW1vdW50UmVxdWlyZWQiLCJwYyIsImFwcGx5UGVyayIsImFyciIsInBlcmtTZXR1cCIsInBlcmtTZWFyY2giLCJtc2ciLCJyZXBsYWNlIiwiZ2FtZVNlcnZpY2VDb25maWciLCJzdGVwVGltZU1zIiwicG9wdWxhdGlvblNlcnZpY2VDb25maWciLCJicmVlZFN0ZXBzIiwicG9wdWxhdGlvbkNvbmZpZyIsImJyZWVkZXJNdWF0YXRpb25DaGFuY2UiLCIkd2luZG93IiwiZGVmYXVsdENvbmZpZyIsImxhc3RUaW1lIiwic3RhcnRHYW1lIiwibmV3U3RhdGUiLCJnYW1lTG9vcCIsInN0ZXAiLCJzdGVwcyIsIiRhcHBseSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIlN1YnNjcmliZUdhbWVMb29wRXZlbnQiLCJTdWJzY3JpYmVJbml0aWFsaXplRXZlbnQiLCJhY2hpZXZlbWVudFNlcnZpY2UiLCJteUNvbmZpZyIsInN0ZXBzU2luY2VCcmVlZCIsImhhbmRsZUdhbWVMb29wIiwicG9wVXBkYXRlZCIsImNvbnNvbGUiLCJsb2ciLCJvZmZzcHJpbmciLCJpbmRleCIsIm1lbWJlciIsImxhc3RCcmVlZGVySUQiLCJuZXdCcmVlZGVyR2VuZGVyIiwia2lsbEJyZWVkZXIiLCJhZGROZXdCcmVlZGVyIiwiZ2VuZGVyIiwidW5zaGlmdCIsImV4cGFuZG8iLCJyYW5kb21pemVOYW1lIiwicmFuZG9taXplIiwicmFuZG9taXplQWxsIiwiJHRpbWVvdXQiLCJ0cmFuc2NsdWRlIiwicmVxdWlyZSIsIm1haW5DdHJsIiwiZm9vdGVyIiwiZSIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0Il0sIm1hcHBpbmdzIjoiQUFFQSxRQUFBQSx1QkFBQUMsRUFBQUMsR0FDQSxNQUFBQyxNQUFBQyxNQUFBRCxLQUFBRSxVQUFBSCxFQUFBRCxFQUFBLEdBQUFBLElDNEJBLFdBRUEsUUFBQUssR0FBQUMsRUFBQUMsR0FXQSxJQUZBLEdBQUFDLE1BRUFELEVBQUEsRUFBQUEsSUFDQUMsRUFBQUMsS0FBQUMsT0FBQUMsYUFBQSxJQUFBTCxJQUNBQSxJQUFBLENBR0EsT0FBQUUsR0FBQUksS0FBQSxJQUdBLFFBQUFDLEdBQUFDLEVBQUFDLEdBVUEsSUFSQSxHQUFBQyxHQUVBQyxFQUVBQyxFQUhBQyxFQUFBTCxFQUFBTSxPQUVBQyxFQUFBRixFQUFBTCxFQUFBLEdBQUFNLE9BQUEsRUFFQUUsRUFBQSxHQUNBZCxLQUVBTyxFQUFBLEVBQUFBLElBQ0FPLEdBQUEsSUFHQSxLQUFBTixFQUFBLEVBQUFBLEVBQUFHLEVBQUFILElBQUEsQ0FDQSxJQUFBQyxFQUFBLEVBQUFBLEVBQUFJLEVBQUFKLElBQ0FDLEVBQUFKLEVBQUFFLEdBQUFDLEdBQ0FULEVBQUFDLEtBQUFDLE9BQUFDLGFBQUFPLEVBQUEsSUFDQVIsT0FBQUMsYUFBQU8sRUFBQSxJQUNBUixPQUFBQyxhQUFBTyxFQUFBLElBRUFW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QixJQUFBLGFBQUFDLElBQUEsYUFBQUMsTUFBQSxRQUNBMUIsRUFBQSxJQUFBd0IsSUFBQSxZQUFBQyxJQUFBLGFBQUFDLE1BQUEsUUFDQTFCLEVBQUEsSUFBQXdCLElBQUEsWUFBQUMsSUFBQSxXQUFBQyxNQUFBLFFBQ0ExQixFQUFBLElBQUF3QixJQUFBLFNBQUFDLElBQUEsU0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxJQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsSUFBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLElBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsdUJBQUFDLElBQUEsV0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxrQkFBQUMsSUFBQSxnQkFBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxnQkFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBMUIsRUFBQSxLQUFBd0IsSUFBQSxXQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsaUJBQUFDLElBQUEsY0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxZQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsU0FBQUMsSUFBQSxPQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBMUIsTUFHQWxFLEtBQUF5RixTQUFBLG1CQUFBLFdBQ0EsR0FBQTlDLEtBQ0F0RCxLQUFBLFdBQ0FnQyxRQUNBLEdBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxNQUVBd0UsZ0JBQUEsVUFHQXhHLEtBQUEsU0FDQWdDLFFBQ0EsR0FBQSxLQUFBLE1BQ0EsRUFBQSxHQUFBLE1BRUF3RSxnQkFBQSxZQUdBeEcsS0FBQSxhQUNBZ0MsUUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxJQUFBLEtBQUEsUUFJQWhDLEtBQUEsU0FDQWdDLFFBQ0EsR0FBQSxFQUFBLFFBSUFoQyxLQUFBLE9BQ0FnQyxRQUNBLElBQUEsS0FBQSxNQUlBaEMsS0FBQSxvQ0FDQWdDLFFBQ0EsR0FBQSxFQUFBLElBRUF3RSxnQkFBQSxXQUFBLGdCQUlBQyxLQUNBQyxFQUFBLFNBQUExRyxHQUNBLE1BQUFzRCxHQUFBMUMsT0FBQSxTQUFBK0YsR0FDQSxNQUFBM0csS0FBQTJHLEVBQUEzRyxPQUNBLElBRUE0RyxFQUFBLFNBQUF4QyxHQUNBLEdBQUE1RSxRQUFBcUgsVUFBQXpDLEVBQUFvQyxnQkFDQSxJQUFBLEdBQUFsTCxHQUFBLEVBQUFBLEVBQUE4SSxFQUFBb0MsZUFBQS9LLE9BQUFILElBQUEsQ0FDQSxHQUFBd0wsR0FBQTFDLEVBQUFvQyxlQUFBbEwsR0FDQXlMLEVBQUFMLEVBQUFJLEVBQ0FMLEdBQUFaLFFBQUFrQixFQUFBL0csU0FBQSxHQUNBNEcsRUFBQUcsRUFDQSxLQUFBLEdBQUF2RixHQUFBLEVBQUFBLEVBQUF1RixFQUFBL0UsTUFBQXZHLE9BQUErRixJQUNBNEMsRUFBQXBDLE1BQUFsSCxLQUFBaU0sRUFBQS9FLE1BQUFSLElBR0FpRixFQUFBM0wsS0FBQXNKLEVBQUFwRSxPQUdBZ0gsRUFBQSxXQUNBLElBQUEsR0FBQTNMLEdBQUEsRUFBQUEsRUFBQWlJLEVBQUE3SCxPQUFBSixJQUFBLENBQ0EsR0FBQStJLEdBQUFkLEVBQUFqSSxFQUNBdUwsR0FBQXhDLEdBR0EsTUFBQWQsR0FFQSxPQUFBMEQsU0FJQXJHLEtBQUFNLFFBQUEsa0JBQUEsVUFBQSxrQkFBQSxtQkFBQSxTQUFBQyxFQUFBMkQsRUFBQW9DLEdBRUEsR0FBQTlGLEdBQUEsU0FBQXpCLEdBQ0FQLEtBQUE0RCxPQUFBckQsR0F3RUEsT0FsRUF5QixHQUFBNkIsVUFBQUQsT0FBQSxTQUFBckQsR0FDQSxtQkFBQSxLQUFBQSxPQUlBeUIsRUFBQTZCLFVBQUFPLFVBQUEsU0FBQXZCLEdBQ0EsR0FBQWpCLEtBQ0EsSUFBQWlCLEVBQUF2RyxPQUNBLElBQUEsR0FBQUosR0FBQSxFQUFBQSxFQUFBNEwsRUFBQXhMLE9BQUFKLElBQUEsQ0FHQSxJQUFBLEdBRkE2TCxHQUFBRCxFQUFBNUwsR0FDQThMLEdBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBRixFQUFBbEYsTUFBQXZHLFFBQUEwTCxLQUFBLEVBQUFDLElBQUEsQ0FDQSxHQUFBQyxHQUFBSCxFQUFBbEYsTUFBQW9GLEdBQ0FFLEVBQUF0RixFQUFBcUYsRUFBQSxJQUFBLEdBQUFyRixFQUFBcUYsRUFBQSxJQUFBLElBQ0FDLEVBQUFELEVBQUEsSUFBQUMsRUFBQUQsRUFBQSxNQUNBRixHQUFBLEdBR0FBLEdBQ0FwRyxFQUFBakcsS0FBQW9NLEdBTUEsTUFBQW5HLElBR0FJLEVBQUE2QixVQUFBUyxjQUFBLFNBQUF6QixHQUNBLEdBQUFqQixJQUNBd0csSUFBQSxFQUNBQyxJQUFBLEVBQ0FDLElBQUEsRUFDQUMsSUFBQSxFQUNBQyxJQUFBLEVBRUEsSUFBQTNGLEVBQUF2RyxPQUFBLENBTUEsSUFBQSxHQUxBbU0sR0FBQSxFQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQSxFQUNBQyxFQUFBLEVBQ0F4RyxFQUFBLEVBQUFBLEVBQUFRLEVBQUF2RyxPQUFBK0YsSUFDQUEsRUFBQSxHQUNBb0csR0FBQTVGLEVBQUFSLEdBQUEsR0FBQVEsRUFBQVIsR0FBQSxHQUNBQSxFQUFBLEdBQ0FxRyxHQUFBN0YsRUFBQVIsR0FBQSxHQUFBUSxFQUFBUixHQUFBLEdBQ0FBLEVBQUEsR0FDQXNHLEdBQUE5RixFQUFBUixHQUFBLEdBQUFRLEVBQUFSLEdBQUEsR0FDQUEsRUFBQSxHQUNBdUcsR0FBQS9GLEVBQUFSLEdBQUEsR0FBQVEsRUFBQVIsR0FBQSxHQUVBd0csR0FBQWhHLEVBQUFSLEdBQUEsR0FBQVEsRUFBQVIsR0FBQSxFQUVBVCxHQUFBd0csSUFBQWhOLEtBQUFDLE1BQUFELEtBQUEwTixNQUFBMU4sS0FBQW9JLElBQUFpRixHQUFBLElBQUEsTUFBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQTdHLEVBQUF5RyxJQUFBak4sS0FBQUMsTUFBQUQsS0FBQTBOLE1BQUExTixLQUFBb0ksSUFBQWtGLEdBQUEsSUFBQSxNQUFBQSxFQUFBLEdBQUEsRUFBQSxHQUNBOUcsRUFBQTBHLElBQUFsTixLQUFBQyxNQUFBRCxLQUFBME4sTUFBQTFOLEtBQUFvSSxJQUFBbUYsR0FBQSxJQUFBLE1BQUFBLEVBQUEsR0FBQSxFQUFBLEdBQ0EvRyxFQUFBMkcsSUFBQW5OLEtBQUFDLE1BQUFELEtBQUEwTixNQUFBMU4sS0FBQW9JLElBQUFvRixHQUFBLElBQUEsTUFBQUEsRUFBQSxHQUFBLEVBQUEsR0FDQWhILEVBQUE0RyxJQUFBcE4sS0FBQUMsTUFBQUQsS0FBQTBOLE1BQUExTixLQUFBb0ksSUFBQXFGLEdBQUEsSUFBQSxNQUFBQSxFQUFBLEdBQUEsRUFBQSxHQUVBLE1BQUFqSCxJQU1BSSxJQzNOQSxJQUFBK0csS0FBQTFJLFFBQUFDLE9BQUEsc0JBRUF5SSxLQUFBL0gsVUFBQSx1QkFDQWdJLFNBQUEsa0tBQ0FDLFlBQUEsY0FBQSxhQUFBLFNBQUE3SCxFQUFBOEgsR0FDQSxHQUFBM0MsR0FBQXZHLElBQ0F1RyxHQUFBNEMsUUFBQSxXQUNBNUMsRUFBQTZDLGFBQUFoSSxFQUFBaUksWUFFQTlDLEVBQUErQyxZQUFBLFdBQ0EvQyxFQUFBNkMsYUFBQTdDLEVBQUE2QyxlQUFBRixFQUFBSyxRQUFBTCxFQUFBTSxPQUFBTixFQUFBSyxRQUNBbkksRUFBQXFJLFNBQUFsRCxFQUFBNkMsZUFFQTdDLEVBQUFtRCxRQUFBLFdBQ0EsTUFBQW5ELEdBQUE2QyxlQUFBRixFQUFBSyxRQUFBLFdBQUEsY0NkQSxJQUFBL0gsTUFBQW5CLFFBQUFDLE9BQUEsc0JBRUFrQixNQUFBUixVQUFBLGVBQ0FELFlBQUEsMEJBQ0FrSSxXQUFBLDZCQUdBekgsS0FBQXlGLFNBQUEsWUFDQTBDLFFBQUEsRUFDQUMsTUFBQSxFQUNBQyxZQUFBLElBS0FySSxLQUFBeUgsV0FBQSw0QkFBQSxTQUFBLGFBQUEsV0FBQSxTQUFBYSxFQUFBeEksRUFBQXlJLEdBQ0EsR0FBQXhELEdBQUF2RyxJQUNBdUcsR0FBQTRDLFFBQUEsV0FDQTVDLEVBQUF5RCxZQUNBMUksRUFBQTJJLHlCQUFBSCxFQUFBdkQsRUFBQTJELGtCQUdBM0QsRUFBQTRELFlBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBLG1CQUNBQyxFQUFBLEVBQ0EsUUFBQUYsR0FDQSxJQUFBTCxHQUFBSixRQUNBVyxFQUFBLGVBQ0EsTUFDQSxLQUFBUCxHQUFBRixZQUNBUyxFQUFBLG1CQUNBLE1BQ0EsS0FBQVAsR0FBQUgsTUFDQVUsRUFBQSxhQUNBLE1BQ0EsU0FDQUEsRUFBQUQsRUFBQSxPQUdBLE1BQUFDLElBR0EvRCxFQUFBMkQsZ0JBQUEsU0FBQUssRUFBQVAsR0FDQXpELEVBQUF5RCxTQUFBQSxNQUlBeEksS0FBQWdKLFFBQUEsY0FBQSxhQUFBLFdBQUEsU0FBQUMsRUFBQVYsR0FDQSxHQUFBeEQsR0FBQXZHLElBQ0F1RyxHQUFBaEYsS0FBQSxXQUNBZ0YsRUFBQXlELFlBQ0F6RCxFQUFBbUUsa0JBQUEsd0JBRUFuRSxFQUFBbUUsa0JBQUEsU0FBQUMsR0FDQXBFLEVBQUF5RCxTQUFBck8sTUFBQXlPLEtBQUFMLEVBQUFKLFFBQUFpQixVQUFBQyxLQUFBQyxNQUFBSCxRQUFBQSxJQUNBcEUsRUFBQXlELFNBQUExTixPQUFBLEtBQ0FpSyxFQUFBeUQsU0FBQWUsT0FBQSxFQUFBLEdBQ0FOLEVBQUFPLE1BQUEsa0JBQUF6RSxFQUFBeUQsV0FFQXpELEVBQUEwRSxnQkFBQSxTQUFBTixHQUNBcEUsRUFBQXlELFNBQUFyTyxNQUFBeU8sS0FBQUwsRUFBQUgsTUFBQWdCLFVBQUFDLEtBQUFDLE1BQUFILFFBQUFBLElBQ0FwRSxFQUFBeUQsU0FBQTFOLE9BQUEsS0FDQWlLLEVBQUF5RCxTQUFBZSxPQUFBLEVBQUEsR0FDQU4sRUFBQU8sTUFBQSxrQkFBQXpFLEVBQUF5RCxXQUVBekQsRUFBQTJFLHNCQUFBLFNBQUFQLEdBQ0FwRSxFQUFBeUQsU0FBQXJPLE1BQUF5TyxLQUFBTCxFQUFBRixZQUFBZSxVQUFBQyxLQUFBQyxNQUFBSCxRQUFBQSxJQUNBcEUsRUFBQXlELFNBQUExTixPQUFBLEtBQ0FpSyxFQUFBeUQsU0FBQWUsT0FBQSxFQUFBLEdBQ0FOLEVBQUFPLE1BQUEsa0JBQUF6RSxFQUFBeUQsV0FHQXpELEVBQUEwRCx5QkFBQSxTQUFBa0IsRUFBQUMsR0FDQSxHQUFBQyxHQUFBWixFQUFBYSxJQUFBLGtCQUFBRixFQUFBRyxLQUFBdkwsTUFDQW1MLEdBQUFHLElBQUEsV0FBQUQsR0FDQVosRUFBQU8sTUFBQSxrQkFBQXpFLEVBQUF5RCxhQzNFQSxJQUFBeEksTUFBQW5CLFFBQUFDLE9BQUEsc0JBRUFrQixNQUFBUixVQUFBLGdDQUNBRCxZQUFBLG9DQUNBa0ksV0FBQSxrQ0FLQXpILEtBQUF5SCxXQUFBLGlDQUFBLFNBQUEsb0JBQUEsU0FBQWEsRUFBQXpJLEdBQ0EsR0FBQWtGLEdBQUF2RyxJQUNBdUcsR0FBQTRDLFFBQUEsV0FDQTVDLEVBQUFWLFlBQ0FVLEVBQUFDLGNBQ0FELEVBQUFpRixjQUFBLEVBQ0FuSyxFQUFBb0ssK0JBQUEzQixFQUFBdkQsRUFBQW1GLGtCQUNBckssRUFBQXNLLDRCQUFBN0IsRUFBQXZELEVBQUFxRixpQkFHQXJGLEVBQUFzRixXQUFBLFNBQUFyTixFQUFBc04sRUFBQUMsR0FDQTFLLEVBQUEySyxhQUFBeE4sRUFBQXNOLEVBQUFDLElBR0F4RixFQUFBMEYsV0FBQSxTQUFBQyxHQUNBN0ssRUFBQTRLLFdBQUFDLElBR0EzRixFQUFBNEYsY0FBQSxTQUFBRCxHQUNBN0ssRUFBQThLLGNBQUFELElBR0EzRixFQUFBcUYsZUFBQSxTQUFBckIsRUFBQTFFLEdBQ0FVLEVBQUFWLFNBQUFBLEdBRUFVLEVBQUFtRixpQkFBQSxTQUFBbkIsRUFBQTZCLEdBQ0E3RixFQUFBQyxXQUFBNEYsRUFBQTVGLFdBQ0FELEVBQUFpRixjQUFBWSxFQUFBdEcsWUFLQXRFLEtBQUFSLFVBQUEsbUJBQ0FELFlBQUEsbUNBQ0FrSSxXQUFBLGlDQUNBb0QsVUFDQTFGLEtBQUEsT0FJQW5GLEtBQUF5SCxXQUFBLGlDQUFBLFdBQ0EsR0FBQTFDLEdBQUF2RyxJQUNBdUcsR0FBQTRDLFFBQUEsY0NuREEsSUFBQTNILE1BQUFuQixRQUFBQyxPQUFBLHNCQUlBa0IsTUFBQXlGLFNBQUEsb0JBQ0FxRixlQUNBQyxJQUFBLFdBQ0ExTCxLQUFBLGlCQUNBMkwsUUFDQSxJQUNBLFNBQUEsTUFDQSxTQUFBLFFBRUEsS0FDQSxvQkFJQUMsUUFDQUMsSUFBQSxjQUNBN0wsS0FBQSwwQkFDQThMLEtBQUEsbUVBQ0FDLE1BQUEsSUFFQUYsSUFBQSxTQUNBN0wsS0FBQSwrQkFDQThMLEtBQUEsOENBRUFELElBQUEsU0FDQTdMLEtBQUEsK0JBQ0E4TCxLQUFBLGdEQU1BbkwsS0FBQWdKLFFBQUEsc0JBQ0EsVUFBQSxhQUFBLG1CQUNBLFNBQUF6SSxFQUFBVCxFQUFBdUwsR0FDQSxHQUFBdEcsR0FBQXZHLElBRUF1RyxHQUFBaEYsS0FBQSxTQUFBdUwsR0FDQXZHLEVBQUF1RyxTQUFBQSxJQUFBUixnQkFBQUcsV0FJQWxHLEVBQUF3RyxlQUFBLFNBQUFSLEVBQUFTLEdBQ0EsR0FDQUMsR0FEQUMsRUFBQW5MLEVBQUEsVUFBQXdFLEVBQUF1RyxTQUFBUixjQUFBQyxJQUFBQSxHQUVBLEtBQUFXLEVBQUE1USxRQUNBMlEsR0FDQVYsSUFBQUEsRUFDQVMsT0FBQSxHQUVBekcsRUFBQXVHLFNBQUFSLGFBQUEzUSxLQUFBc1IsSUFFQUEsRUFBQUMsRUFBQSxFQUdBLElBQUFDLEdBQUFGLEVBQUFELE9BQ0FJLEVBQUFILEVBQUFELE9BQUFBLENBRUFDLEdBQUFELE9BQUFJLENBR0EsS0FBQSxHQURBQyxHQUFBdEwsRUFBQSxVQUFBOEssRUFBQVAsY0FBQUMsSUFBQUEsSUFBQSxHQUNBZSxFQUFBLEVBQUFBLEVBQUFELEVBQUFiLE1BQUFsUSxPQUFBZ1IsSUFBQSxDQUNBLEdBQUFDLEdBQUFGLEVBQUFiLE1BQUFjLEdBQUEsRUFDQSxJQUFBQyxFQUFBSixHQUFBSSxHQUFBSCxFQUFBLENBR0E5TCxFQUFBNEosc0JBQUEsd0JBQUFtQyxFQUFBeE0sS0FBQSxLQUFBME0sRUFBQSxJQUdBLEtBQUEsR0FBQUMsR0FBQSxFQUFBQSxFQUFBSCxFQUFBYixNQUFBYyxHQUFBLEdBQUFoUixPQUFBa1IsSUFDQWpILEVBQUFrSCxVQUFBSixFQUFBYixNQUFBYyxHQUFBLEdBQUFFLE9BT0FqSCxFQUFBa0gsVUFBQSxTQUFBQyxHQUNBLEdBQUFoQixHQUFBZ0IsRUFBQSxHQUNBQyxFQUFBNUwsRUFBQSxVQUFBOEssRUFBQUosT0FBQUMsSUFBQUEsSUFBQSxFQUlBLElBQUFpQixFQUFBZixLQUFBLENBQ0EsR0FBQWdCLEdBQUE3TCxFQUFBLFVBQUF3RSxFQUFBdUcsU0FBQUwsT0FBQUMsSUFBQUEsR0FDQSxJQUFBLElBQUFrQixFQUFBdFIsT0FDQSxPQUtBLElBQUEsR0FEQXVSLEdBQUFGLEVBQUE5TSxLQUFBLE1BQUE4TSxFQUFBaEIsS0FDQXpRLEVBQUEsRUFBQUEsRUFBQXdSLEVBQUFwUixPQUFBSixJQUNBMlIsRUFBQUEsRUFBQUMsUUFBQSxLQUFBNVIsRUFBQSxJQUFBd1IsRUFBQXhSLEdBSUEsUUFIQW9GLEVBQUE0SixzQkFBQTJDLEdBR0FuQixHQUNBLElBQUEsU0FFQSxLQUNBLEtBQUEsWUFRQW5HLEVBQUFoRixTVGhIQSxJQUFBQyxNQUFBbkIsUUFBQUMsT0FBQSxzQkFNQWtCLE1BQUF5RixTQUFBLGNBQ0F1QyxPQUFBLEVBQ0FELFFBQUEsSUFHQS9ILEtBQUF5RixTQUFBLGlCQUNBOEcsbUJBQ0FDLFdBQUEsS0FFQUMseUJBQ0FDLFdBQUEsRUFDQUMsa0JBQ0E5SCxZQUFBLEVBQ0FQLFFBQUEsR0FDQUMsb0JBQUEsRUFDQUcsc0JBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxJQUNBa0ksdUJBQUEsT0FLQTVNLEtBQUFnSixRQUFBLGVBQ0EsVUFBQSxhQUFBLGFBQUEsYUFBQSxnQkFDQSxTQUFBNkQsRUFBQTVELEVBQUF2QixFQUFBNUgsRUFBQWdOLEdBQ0EsR0FBQS9ILEdBQUF2RyxJQUNBdUcsR0FBQWhGLEtBQUEsU0FBQWhCLEdBQ0FBLEVBQUFBLEdBQUErTixFQUVBL0gsRUFBQXlILFdBQUF6TixFQUFBd04sa0JBQUFDLFlBQUEsSUFDQXpILEVBQUFnSSxTQUFBLEVBQ0FoSSxFQUFBNkMsYUFBQUYsRUFBQU0sT0FDQWpELEVBQUFpSSxVQUFBak8sSUFJQWdHLEVBQUE4QyxTQUFBLFdBQ0EsTUFBQTlDLEdBQUE2QyxjQUVBN0MsRUFBQWtELFNBQUEsU0FBQWdGLEdBQ0FsSSxFQUFBNkMsYUFBQXFGLEVBQ0FBLElBQUF2RixFQUFBTSxPQUFBbEksRUFBQW9KLGtCQUFBLGdCQUNBcEosRUFBQW9KLGtCQUFBLGtCQUdBbkUsRUFBQW1JLFNBQUEsU0FBQUMsR0FHQSxJQUZBLEdBQUFwSSxHQUFBdkcsS0FDQTRPLEVBQUEsRUFDQXJJLEVBQUFnSSxTQUFBSSxFQUFBcEksRUFBQXlILFlBQUFZLEVBQUEsSUFDQUEsR0FFQXJJLEdBQUFnSSxTQUFBaEksRUFBQWdJLFNBQUFoSSxFQUFBeUgsV0FBQVksRUFDQXJJLEVBQUE2QyxjQUFBRixFQUFBSyxTQUFBcUYsRUFBQSxHQUNBbkUsRUFBQW9FLE9BQUFwRSxFQUFBTyxNQUFBLGdCQUFBNEQsSUFFQVAsRUFBQVMsc0JBQUE5TyxLQUFBME8sU0FBQW5ELEtBQUF2TCxRQUdBdUcsRUFBQXdJLHVCQUFBLFNBQUE1RCxFQUFBQyxHQUNBLEdBQUFDLEdBQUFaLEVBQUFhLElBQUEsZ0JBQUFGLEVBQUFHLEtBQUF2TCxNQUNBbUwsR0FBQUcsSUFBQSxXQUFBRCxJQUVBOUUsRUFBQXlJLHlCQUFBLFNBQUE3RCxFQUFBQyxHQUNBLEdBQUFDLEdBQUFaLEVBQUFhLElBQUEsa0JBQUFGLEVBQUFHLEtBQUF2TCxNQUNBbUwsR0FBQUcsSUFBQSxXQUFBRCxJQUVBOUUsRUFBQWlJLFVBQUEsU0FBQWpPLEdBQ0FBLEVBQUFBLEdBQUErTixFQUNBL0gsRUFBQTZDLGFBQUFGLEVBQUFNLE9BQ0FsSSxFQUFBQyxNQUFBLEdBQ0FrSixFQUFBTyxNQUFBLGtCQUFBekssR0FDQWdHLEVBQUFtSSxTQUFBLEdBQ0FuSSxFQUFBNkMsYUFBQUYsRUFBQUssV1U3RUEsSUFBQS9ILE1BQUFuQixRQUFBQyxPQUFBLHNCQUNBa0IsTUFBQWdKLFFBQUEscUJBQ0EsYUFBQSxjQUFBLGFBQUEsYUFBQSxxQkFDQSxTQUFBQyxFQUFBckosRUFBQXVFLEVBQUFyRSxFQUFBMk4sR0FDQSxHQUFBMUksR0FBQXZHLElBRUF1RyxHQUFBaEYsS0FBQSxTQUFBZ0osRUFBQWhLLEdBQ0FBLEVBQUFBLEtBQ0EsSUFBQTJPLEdBQUEzTyxFQUFBME4sMkJBRUExSCxHQUFBMkgsV0FBQWdCLEVBQUFoQixZQUFBM0gsRUFBQTJILFlBQUEsRUFDQTNILEVBQUE0SSxnQkFBQSxFQUVBNUksRUFBQUMsV0FBQSxHQUFBYixHQUFBdUosRUFBQWYsa0JBQ0E1SCxFQUFBakYsV0FBQUEsR0FJQWlGLEVBQUE2SSxlQUFBLFNBQUE3RSxFQUFBcUUsR0FDQSxHQUFBUyxJQUFBLENBQ0EsSUFBQSxrQkFBQTlFLEVBQUExSixLQUVBLFdBREF5TyxTQUFBQyxJQUFBLG1EQUFBaEYsRUFHQSxJQUFBaEUsRUFBQUMsV0FBQUksYUFBQSxDQUVBLElBREFMLEVBQUE0SSxpQkFBQVAsRUFDQXJJLEVBQUE0SSxpQkFBQTVJLEVBQUEySCxZQUFBLENBQ0EzSCxFQUFBNEksaUJBQUE1SSxFQUFBMkgsVUFDQSxJQUFBc0IsR0FBQWpKLEVBQUFDLFdBQUFoQyxPQUNBLFFBQUFnTCxJQUNBbE8sRUFBQTJKLGdCQUFBLGtCQUFBdUUsRUFBQTNPLE1BQ0FvTyxFQUFBbEMsZUFBQSxXQUFBLEdBQ0FzQyxHQUFBLEdBR0FBLEdBQ0E1RSxFQUFBTyxNQUFBLHlCQUFBeEUsV0FBQUQsRUFBQUMsV0FBQUwsUUFBQUwsUUFBQVMsRUFBQUMsV0FBQVYsWUFLQVMsRUFBQTBGLFdBQUEsU0FBQXpOLEdBQ0ErSCxFQUFBQyxXQUFBWCxTQUFBYSxRQUFBbEksTUFBQSxJQUNBK0gsRUFBQUMsV0FBQVgsU0FBQWxLLEtBQUE2QyxHQUNBaU0sRUFBQU8sTUFBQSxxQkFBQXpFLEVBQUFDLFdBQUFYLFVBQ0FVLEVBQUFqRixXQUFBMkosZ0JBQUEsa0JBQUExRSxFQUFBQyxXQUFBTyxRQUFBdkksR0FBQXFDLFFBR0EwRixFQUFBNEYsY0FBQSxTQUFBM04sR0FDQSxHQUFBaVIsR0FBQWxKLEVBQUFDLFdBQUFYLFNBQUFhLFFBQUFsSSxFQUNBaVIsTUFBQSxJQUNBbEosRUFBQUMsV0FBQVgsU0FBQWtGLE9BQUEwRSxFQUFBLEdBQ0FsSixFQUFBQyxXQUFBSSxlQUFBTCxFQUFBNEksZ0JBQUEsR0FDQTFFLEVBQUFPLE1BQUEscUJBQUF6RSxFQUFBQyxXQUFBWCxVQUNBVSxFQUFBakYsV0FBQTJKLGdCQUFBLG9CQUFBMUUsRUFBQUMsV0FBQU8sUUFBQXZJLEdBQUFxQyxRQUdBMEYsRUFBQXlGLGFBQUEsU0FBQXhOLEVBQUFzTixFQUFBQyxHQUNBLEdBQUEyRCxHQUFBbkosRUFBQUMsV0FBQU8sUUFBQXZJLEVBQ0FrUixHQUFBN00sTUFBQWlKLEdBQUFDLEVBQ0EyRCxFQUFBOUwsU0FDQTZHLEVBQUFPLE1BQUEsd0JBQUF6RSxFQUFBQyxXQUFBTCxVQUdBSSxFQUFBb0YsNEJBQUEsU0FBQVIsRUFBQUMsR0FDQSxHQUFBQyxHQUFBWixFQUFBYSxJQUFBLHFCQUFBRixFQUNBRCxHQUFBRyxJQUFBLFdBQUFELEdBQ0FaLEVBQUFPLE1BQUEscUJBQUF6RSxFQUFBQyxXQUFBWCxXQUdBVSxFQUFBa0YsK0JBQUEsU0FBQU4sRUFBQUMsR0FDQSxHQUFBQyxHQUFBWixFQUFBYSxJQUFBLHdCQUFBRixFQUFBRyxLQUFBdkwsTUFDQW1MLEdBQUFHLElBQUEsV0FBQUQsR0FDQVosRUFBQU8sTUFBQSx5QkFBQXhFLFdBQUFELEVBQUFDLFdBQUFMLFFBQUFMLFFBQUFTLEVBQUFDLFdBQUFWLFdBR0ExRSxFQUFBMk4sdUJBQUF0RSxFQUFBbEUsRUFBQTZJLGdCQUNBaE8sRUFBQTROLHlCQUFBdkUsRUFBQWxFLEVBQUFoRixRQzdFQSxJQUFBd0gsS0FBQTFJLFFBQUFDLE9BQUEsc0JBRUF5SSxLQUFBL0gsVUFBQSxxQ0FDQUQsWUFBQSw4Q0FDQWtJLFdBQUEsdUNBSUFGLElBQUEvSCxVQUFBLGNBQ0FxTCxVQUNBM0ssTUFBQSxLQUVBdUgsWUFBQSxVQUFBLGtCQUFBLG1CQUFBLFNBQUF2RixFQUFBZ0MsRUFBQW9DLEdBQ0EsR0FBQXZCLEdBQUF2RyxJQUVBdUcsR0FBQW9KLGNBQUEsRUFDQXBKLEVBQUFxSixpQkFBQSxPQUVBckosRUFBQXNKLFlBQUEsU0FBQWxKLEdBQ0FKLEVBQUE3RSxNQUFBcUosT0FBQXhFLEVBQUE3RSxNQUFBZ0YsUUFBQUMsR0FBQSxJQUlBSixFQUFBdUosY0FBQSxXQUVBLElBQUEsR0FEQWpOLE1BQ0FSLEVBQUEsRUFBQUEsRUFBQXFELEVBQUFwSixPQUFBK0YsSUFDQVEsRUFBQWxILE1BQUEsRUFBQSxFQUFBLEdBR0EsSUFBQW9VLEdBQUEsUUFBQXhKLEVBQUFxSixpQkFBQSxJQUFBLENBQ0EvTSxHQUFBLEtBQUFrTixFQUFBLElBQUFBLEVBQUEsRUFFQSxJQUFBcEosR0FBQSxHQUFBakQsSUFDQWxGLEdBQUErSCxFQUFBb0osZ0JBQ0EzTCxXQUFBLEVBQ0F0SCxNQUFBLEVBQ0FtRyxNQUFBQSxHQUdBOEQsR0FBQS9DLFNBQ0EyQyxFQUFBN0UsTUFBQXNPLFFBQUFySixNQUtBNUYsWUFBQSw2Q0FFQWdJLElBQUEvSCxVQUFBLGFBQ0FxTCxVQUNBM0ssTUFBQSxLQUVBdUgsWUFBQSxVQUFBLGtCQUFBLG1CQUFBLFNBQUF2RixFQUFBZ0MsRUFBQW9DLE1BSUEvRyxZQUFBLDRDQUtBZ0ksSUFBQS9ILFVBQUEsZ0JBQ0FxTCxVQUNBMUYsS0FBQSxLQUVBc0MsWUFBQSxrQkFBQSxTQUFBdkQsR0FDQSxHQUFBYSxHQUFBdkcsSUFDQXVHLEdBQUE0QyxRQUFBLFdBQ0E1QyxFQUFBYixnQkFBQUEsRUFDQWEsRUFBQTBKLFNBQUEsR0FFQTFKLEVBQUEySixjQUFBLFdBQ0EzSixFQUFBSSxLQUFBOUYsS0FBQTBGLEVBQUFJLEtBQUFwQyxpQkFFQWdDLEVBQUE0SixVQUFBLFNBQUFWLEdBQ0FsSixFQUFBSSxLQUFBOUQsTUFBQTRNLElBQUF4VSxzQkFBQSxFQUFBLEtBQUFBLHNCQUFBLEVBQUEsS0FBQUEsc0JBQUEsRUFBQSxPQUVBc0wsRUFBQTZKLGFBQUEsV0FDQSxJQUFBLEdBQUFsVSxHQUFBLEVBQUFBLEVBQUFxSyxFQUFBSSxLQUFBOUQsTUFBQXZHLE9BQUFKLElBQ0FxSyxFQUFBNEosVUFBQWpVLEVBRUEsSUFBQTZULEdBQUEsSUFBQTlVLHNCQUFBLEVBQUEsR0FBQSxJQUFBLENBQ0FzTCxHQUFBSSxLQUFBOUQsTUFBQSxLQUFBa04sRUFBQSxJQUFBQSxFQUFBLEdBQ0F4SixFQUFBSSxLQUFBL0MsWUFJQTdDLFlBQUEsK0NBS0FnSSxJQUFBRSxXQUFBLHNDQUFBLFNBQUEsV0FBQSxjQUFBLFVBQUEsa0JBQUEsbUJBQUEsU0FBQWEsRUFBQXVHLEVBQUFqUCxFQUFBc0MsRUFBQWdDLEVBQUFvQyxHQUNBLEdBQUF2QixHQUFBdkcsSUFLQXVHLEdBQUE0QyxRQUFBLFdBQ0E1QyxFQUFBYixnQkFBQUEsRUFDQWEsRUFBQXVCLGlCQUFBQSxFQUVBdkIsRUFBQTdFLFlDckdBLElBQUFGLE1BQUFuQixRQUFBQyxPQUFBLHNCQUVBa0IsTUFBQVIsVUFBQSxxQkFDQXNQLFlBQUEsRUFDQUMsU0FDQUMsU0FBQSxpQ0FFQXpQLFlBQUEsc0NBQ0FrSSxXQUFBLGlDQUNBb0QsVUFDQWpOLE1BQUEsSUFDQXFSLE9BQUEsT0FLQWpQLEtBQUF5SCxXQUFBLGlDQUFBLFdBQ0EsR0FBQTFDLEdBQUF2RyxJQUNBdUcsR0FBQTRDLFFBQUEsV0FDQTVDLEVBQUFJLEtBQUFKLEVBQUFpSyxTQUFBN0osUUNuQkEsU0FBQXJHLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBb1EsR0FDQXBRLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdQLEdBQ0FBLEVBQUFDLElBQUEsdUJBQ0Esd1VDUkEsU0FBQXRRLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBb1EsR0FDQXBRLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdQLEdBQ0FBLEVBQUFDLElBQUEsMEJBQ0Esc1JDUkEsU0FBQXRRLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBb1EsR0FDQXBRLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdQLEdBQ0FBLEVBQUFDLElBQUEsbUNBQ0EsaTBCQ1JBLFNBQUF0USxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQW9RLEdBQ0FwUSxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBYSxLQUFBLGlCQUFBLFNBQUF3UCxHQUNBQSxFQUFBQyxJQUFBLG9DQUNBLHE1Q0NSQSxTQUFBdFEsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUFvUSxHQUNBcFEsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQWEsS0FBQSxpQkFBQSxTQUFBd1AsR0FDQUEsRUFBQUMsSUFBQSwyQ0FDQSxzMEJDUkEsU0FBQXRRLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBb1EsR0FDQXBRLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdQLEdBQ0FBLEVBQUFDLElBQUEsNkNBQ0EseStDQ1JBLFNBQUF0USxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQW9RLEdBQ0FwUSxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBYSxLQUFBLGlCQUFBLFNBQUF3UCxHQUNBQSxFQUFBQyxJQUFBLDBDQUNBLG02QkNSQSxTQUFBdFEsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUFvUSxHQUNBcFEsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQWEsS0FBQSxpQkFBQSxTQUFBd1AsR0FDQUEsRUFBQUMsSUFBQSw4Q0FDQSxtZ0JDUkEsU0FBQXRRLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBb1EsR0FDQXBRLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdQLEdBQ0FBLEVBQUFDLElBQUEsc0NBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmZ1bmN0aW9uIHJhbmRvbUludEZyb21JbnRlcnZhbChtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbn1cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICBQQVVTRUQ6IDAsXHJcbiAgICBSVU5OSU5HOiAxXHJcbn0pO1xyXG4vLyB0aGlzIHNob3VsZCBwcm9iYWJseSBoYXZlIGEgbmFtZSBzcGVjaWZpYyB0byBnYW1lU2VydmljZVxyXG5nYW1lLmNvbnN0YW50KFwiZGVmYXVsdENvbmZpZ1wiLCB7XHJcbiAgICBnYW1lU2VydmljZUNvbmZpZzoge1xyXG4gICAgICAgIHN0ZXBUaW1lTXM6IDEwMDBcclxuICAgIH0sXHJcbiAgICBwb3B1bGF0aW9uU2VydmljZUNvbmZpZzoge1xyXG4gICAgICAgIGJyZWVkU3RlcHM6IDYsXHJcbiAgICAgICAgcG9wdWxhdGlvbkNvbmZpZzoge1xyXG4gICAgICAgICAgICBpbml0aWFsU2l6ZTogMixcclxuICAgICAgICAgICAgbWF4U2l6ZTogMjIsXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkJpdHM6IDUsXHJcbiAgICAgICAgICAgIGJyZWVkZXJHZW5lc1VubG9ja2VkOiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgNDJdLFxyXG4gICAgICAgICAgICBicmVlZGVyTXVhdGF0aW9uQ2hhbmNlOiAxMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2dhbWVTZXJ2aWNlJywgW1xyXG4gICAgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICdnYW1lU3RhdGVzJywgJ2xvZ1NlcnZpY2UnLCAnZGVmYXVsdENvbmZpZycsXHJcbiAgICBmdW5jdGlvbigkd2luZG93LCAkcm9vdFNjb3BlLCBnYW1lU3RhdGVzLCBsb2dTZXJ2aWNlLCBkZWZhdWx0Q29uZmlnKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcgfHwgZGVmYXVsdENvbmZpZztcclxuXHJcbiAgICAgICAgICAgIHNlbGYuc3RlcFRpbWVNcyA9IGNvbmZpZy5nYW1lU2VydmljZUNvbmZpZy5zdGVwVGltZU1zIHx8IDEwMDA7XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUEFVU0VEO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0R2FtZShjb25maWcpO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmN1cnJlbnRTdGF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc2V0U3RhdGUgPSBmdW5jdGlvbihuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGdhbWVTdGF0ZXMuUEFVU0VEKSBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKFwiR2FtZSBwYXVzZWQuXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoXCJHYW1lIHJlc3VtZWQuXCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2FtZUxvb3AgPSBmdW5jdGlvbihzdGVwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHN0ZXBzID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKHNlbGYubGFzdFRpbWUgKyBzdGVwID4gKHNlbGYuc3RlcFRpbWVNcyAqIChzdGVwcyArIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgc3RlcHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLmxhc3RUaW1lID0gKHNlbGYubGFzdFRpbWUgLSAoc2VsZi5zdGVwVGltZU1zICogc3RlcHMpKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY3VycmVudFN0YXRlID09IGdhbWVTdGF0ZXMuUlVOTklORyAmJiBzdGVwcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCRyb290U2NvcGUuJGVtaXQoJ2dhbWVMb29wRXZlbnQnLCBzdGVwcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ2dhbWVMb29wRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVJbml0aWFsaXplRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignaW5pdGlhbGl6ZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc3RhcnRHYW1lID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCBkZWZhdWx0Q29uZmlnO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUEFVU0VEO1xyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLmluaXQoZmFsc2UpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdpbml0aWFsaXplRXZlbnQnLCBjb25maWcpO1xyXG4gICAgICAgICAgICBzZWxmLmdhbWVMb29wKDApO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUlVOTklORztcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7IiwiLyohXHJcbiAqIEdlbmVyYXRlIEJpdG1hcCBEYXRhIFVSTFxyXG4gKiBodHRwOi8vbXJjb2xlcy5jb20vbG93LXJlcy1wYWludC9cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTAsIFBldGVyIENvbGVzXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZXMuXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9tZWRpYS9taXQtbGljZW5zZS50eHRcclxuICpcclxuICogRGF0ZTogVHVlIE9jdCAyNiAwMDowMDowMCAyMDEwIC0wNTAwXHJcbiAqL1xyXG5cclxuLypcclxuICogQ29kZSB0byBnZW5lcmF0ZSBCaXRtYXAgaW1hZ2VzICh1c2luZyBkYXRhIHVybHMpIGZyb20gcm93cyBvZiBSR0IgYXJyYXlzLlxyXG4gKiBTcGVjaWZpY2FsbHkgZm9yIHVzZSB3aXRoIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzdC1wYWludC9cclxuICpcclxuICogUmVzZWFyY2g6XHJcbiAqXHJcbiAqIFJGQyAyMzk3IGRhdGEgVVJMXHJcbiAqIGh0dHA6Ly93d3cueHM0YWxsLm5sL353cmIvQXJ0aWNsZXMvQXJ0aWNsZV9JTUdfUkZDMjM5N19QMV8wMS5odG1cclxuICpcclxuICogQk1QIGZpbGUgRm9ybWF0XHJcbiAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQk1QX2ZpbGVfZm9ybWF0I0V4YW1wbGVfb2ZfYV8yLkMzLjk3Ml9QaXhlbC4yQ18yNC1CaXRfQml0bWFwXy4yOFdpbmRvd3NfVjNfRElCLjI5XHJcbiAqXHJcbiAqIEJNUCBOb3Rlc1xyXG4gKlxyXG4gKiAtIEludGVnZXIgdmFsdWVzIGFyZSBsaXR0bGUtZW5kaWFuLCBpbmNsdWRpbmcgUkdCIHBpeGVscywgZS5nLiwgKDI1NSwgMCwgMCkgLT4gXFx4MDBcXHgwMFxceEZGXHJcbiAqIC0gQml0bWFwIGRhdGEgc3RhcnRzIGF0IGxvd2VyIGxlZnQgKGFuZCByZWFkcyBhY3Jvc3Mgcm93cylcclxuICogLSBJbiB0aGUgQk1QIGRhdGEsIHBhZGRpbmcgYnl0ZXMgYXJlIGluc2VydGVkIGluIG9yZGVyIHRvIGtlZXAgdGhlIGxpbmVzIG9mIGRhdGEgaW4gbXVsdGlwbGVzIG9mIGZvdXIsXHJcbiAqICAgZS5nLiwgYSAyNC1iaXQgYml0bWFwIHdpdGggd2lkdGggMSB3b3VsZCBoYXZlIDMgYnl0ZXMgb2YgZGF0YSBwZXIgcm93IChSLCBHLCBCKSArIDEgYnl0ZSBvZiBwYWRkaW5nXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGZ1bmN0aW9uIF9hc0xpdHRsZUVuZGlhbkhleCh2YWx1ZSwgYnl0ZXMpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHZhbHVlIGludG8gbGl0dGxlIGVuZGlhbiBoZXggYnl0ZXNcclxuICAgICAgICAvLyB2YWx1ZSAtIHRoZSBudW1iZXIgYXMgYSBkZWNpbWFsIGludGVnZXIgKHJlcHJlc2VudGluZyBieXRlcylcclxuICAgICAgICAvLyBieXRlcyAtIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGhhdCB0aGlzIHZhbHVlIHRha2VzIHVwIGluIGEgc3RyaW5nXHJcblxyXG4gICAgICAgIC8vIEV4YW1wbGU6XHJcbiAgICAgICAgLy8gX2FzTGl0dGxlRW5kaWFuSGV4KDI4MzUsIDQpXHJcbiAgICAgICAgLy8gPiAnXFx4MTNcXHgwYlxceDAwXFx4MDAnXHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICg7IGJ5dGVzID4gMDsgYnl0ZXMtLSkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlICYgMjU1KSk7XHJcbiAgICAgICAgICAgIHZhbHVlID4+PSA4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY29sbGFwc2VEYXRhKHJvd3MsIHJvd19wYWRkaW5nKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCByb3dzIG9mIFJHQiBhcnJheXMgaW50byBCTVAgZGF0YVxyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICByb3dzX2xlbiA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBqLFxyXG4gICAgICAgICAgICBwaXhlbHNfbGVuID0gcm93c19sZW4gPyByb3dzWzBdLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgIHBpeGVsLFxyXG4gICAgICAgICAgICBwYWRkaW5nID0gJycsXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgcm93X3BhZGRpbmcgPiAwOyByb3dfcGFkZGluZy0tKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmcgKz0gJ1xceDAwJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzX2xlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwaXhlbHNfbGVuOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsID0gcm93c1tpXVtqXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMl0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzFdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFswXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfc2NhbGVSb3dzKHJvd3MsIHNjYWxlKSB7XHJcbiAgICAgICAgLy8gU2ltcGxlc3Qgc2NhbGluZyBwb3NzaWJsZVxyXG4gICAgICAgIHZhciByZWFsX2ggPSByb3dzLmxlbmd0aCxcclxuICAgICAgICAgICAgc2NhbGVkX2ggPSBwYXJzZUludChyZWFsX2ggKiBzY2FsZSksXHJcbiAgICAgICAgICAgIHJlYWxfdyA9IHJlYWxfaCA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgc2NhbGVkX3cgPSBwYXJzZUludChyZWFsX3cgKiBzY2FsZSksXHJcbiAgICAgICAgICAgIG5ld19yb3dzID0gW10sXHJcbiAgICAgICAgICAgIG5ld19yb3csIHgsIHk7XHJcblxyXG4gICAgICAgIGZvciAoeSA9IDA7IHkgPCBzY2FsZWRfaDsgeSsrKSB7XHJcbiAgICAgICAgICAgIG5ld19yb3dzLnB1c2gobmV3X3JvdyA9IFtdKTtcclxuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHNjYWxlZF93OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIG5ld19yb3cucHVzaChyb3dzW3BhcnNlSW50KHkgLyBzY2FsZSldW3BhcnNlSW50KHggLyBzY2FsZSldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3X3Jvd3M7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTCA9IGZ1bmN0aW9uKHJvd3MsIHNjYWxlKSB7XHJcbiAgICAgICAgLy8gRXhwZWN0cyByb3dzIHN0YXJ0aW5nIGluIGJvdHRvbSBsZWZ0XHJcbiAgICAgICAgLy8gZm9ybWF0dGVkIGxpa2UgdGhpczogW1tbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAwXSwgLi4uXSwgLi4uXVxyXG4gICAgICAgIC8vIHdoaWNoIHJlcHJlc2VudHM6IFtbcmVkLCB5ZWxsb3csIC4uLl0sIC4uLl1cclxuXHJcbiAgICAgICAgaWYgKCF3aW5kb3cuYnRvYSkge1xyXG4gICAgICAgICAgICBhbGVydCgnT2ggbm8sIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGJhc2U2NCBlbmNvZGluZyAtIHdpbmRvdy5idG9hKCkhIScpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDE7XHJcbiAgICAgICAgaWYgKHNjYWxlICE9IDEpIHtcclxuICAgICAgICAgICAgcm93cyA9IF9zY2FsZVJvd3Mocm93cywgc2NhbGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHJvd3MubGVuZ3RoLCAvLyB0aGUgbnVtYmVyIG9mIHJvd3NcclxuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgPyByb3dzWzBdLmxlbmd0aCA6IDAsIC8vIHRoZSBudW1iZXIgb2YgY29sdW1ucyBwZXIgcm93XHJcbiAgICAgICAgICAgIHJvd19wYWRkaW5nID0gKDQgLSAod2lkdGggKiAzKSAlIDQpICUgNCwgLy8gcGFkIGVhY2ggcm93IHRvIGEgbXVsdGlwbGUgb2YgNCBieXRlc1xyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyA9ICh3aWR0aCAqIDMgKyByb3dfcGFkZGluZykgKiBoZWlnaHQsIC8vIHNpemUgaW4gYnl0ZXMgb2YgQk1QIGRhdGFcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgPSA1NCArIG51bV9kYXRhX2J5dGVzLCAvLyBmdWxsIGhlYWRlciBzaXplIChvZmZzZXQpICsgc2l6ZSBvZiBkYXRhXHJcbiAgICAgICAgICAgIGZpbGU7XHJcblxyXG4gICAgICAgIGhlaWdodCA9IF9hc0xpdHRsZUVuZGlhbkhleChoZWlnaHQsIDQpO1xyXG4gICAgICAgIHdpZHRoID0gX2FzTGl0dGxlRW5kaWFuSGV4KHdpZHRoLCA0KTtcclxuICAgICAgICBudW1fZGF0YV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZGF0YV9ieXRlcywgNCk7XHJcbiAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgPSBfYXNMaXR0bGVFbmRpYW5IZXgobnVtX2ZpbGVfYnl0ZXMsIDQpO1xyXG5cclxuICAgICAgICAvLyB0aGVzZSBhcmUgdGhlIGFjdHVhbCBieXRlcyBvZiB0aGUgZmlsZS4uLlxyXG5cclxuICAgICAgICBmaWxlID0gKCdCTScgKyAvLyBcIk1hZ2ljIE51bWJlclwiXHJcbiAgICAgICAgICAgIG51bV9maWxlX2J5dGVzICsgLy8gc2l6ZSBvZiB0aGUgZmlsZSAoYnl0ZXMpKlxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMCcgKyAvLyByZXNlcnZlZFxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMCcgKyAvLyByZXNlcnZlZFxyXG4gICAgICAgICAgICAnXFx4MzZcXHgwMFxceDAwXFx4MDAnICsgLy8gb2Zmc2V0IG9mIHdoZXJlIEJNUCBkYXRhIGxpdmVzICg1NCBieXRlcylcclxuICAgICAgICAgICAgJ1xceDI4XFx4MDBcXHgwMFxceDAwJyArIC8vIG51bWJlciBvZiByZW1haW5pbmcgYnl0ZXMgaW4gaGVhZGVyIGZyb20gaGVyZSAoNDAgYnl0ZXMpXHJcbiAgICAgICAgICAgIHdpZHRoICsgLy8gdGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAgaW4gcGl4ZWxzKlxyXG4gICAgICAgICAgICBoZWlnaHQgKyAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAgaW4gcGl4ZWxzKlxyXG4gICAgICAgICAgICAnXFx4MDFcXHgwMCcgKyAvLyB0aGUgbnVtYmVyIG9mIGNvbG9yIHBsYW5lcyAoMSlcclxuICAgICAgICAgICAgJ1xceDE4XFx4MDAnICsgLy8gMjQgYml0cyAvIHBpeGVsXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyBObyBjb21wcmVzc2lvbiAoMClcclxuICAgICAgICAgICAgbnVtX2RhdGFfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBCTVAgZGF0YSAoYnl0ZXMpKlxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSBob3Jpem9udGFsIHJlc29sdXRpb25cclxuICAgICAgICAgICAgJ1xceDEzXFx4MEJcXHgwMFxceDAwJyArIC8vIDI4MzUgcGl4ZWxzL21ldGVyIC0gdGhlIHZlcnRpY2FsIHJlc29sdXRpb25cclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE51bWJlciBvZiBjb2xvcnMgaW4gdGhlIHBhbGV0dGUgKGtlZXAgMCBmb3IgMjQtYml0KVxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gMCBpbXBvcnRhbnQgY29sb3JzIChtZWFucyBhbGwgY29sb3JzIGFyZSBpbXBvcnRhbnQpXHJcbiAgICAgICAgICAgIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICdkYXRhOmltYWdlL2JtcDtiYXNlNjQsJyArIGJ0b2EoZmlsZSk7XHJcbiAgICB9O1xyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuLy9cclxuLy8gQ29kZSBzcGVjaWZpYyB0byBsb3cgcmVzIHBhaW50XHJcbi8vXHJcblxyXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgdmFyICRiZ190cmFuc2Zvcm07XHJcblxyXG4gICAgZnVuY3Rpb24gX2Fzc2lnbl9iZ190cmFuc2Zvcm0oYmcpIHtcclxuICAgICAgICAvLyBkaWZmZXJlbnQgYnJvd3NlcnMgcmV0dXJuIHRoZSBjb2xvciBkaWZmZXJlbnRseVxyXG4gICAgICAgIC8vIGxldCdzIHN1cHBvcnQgXCJyZ2IoMTIzLCAwLCA1KVwiLCBcIiNmZmZcIiwgYW5kIFwiI2ZmMDA5OVwiXHJcbiAgICAgICAgaWYgKC9ecmdiXFwoXFxkKywgXFxkKywgXFxkK1xcKSQvLnRlc3QoYmcpKSB7XHJcbiAgICAgICAgICAgICRiZ190cmFuc2Zvcm0gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgeFswXSA9IHhbMF0uc3Vic3RyKDQpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHQ7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB4W2ldID0gcGFyc2VJbnQoeFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJnLnN1YnN0cmluZygwLCAxKSA9PSAnIycpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSB4Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoJzB4JyArIHguc3Vic3RyaW5nKGksIGkgKyAxKSArIHguc3Vic3RyaW5nKGksIGkgKyAxKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydCgnVW5wYXJzZWFibGUgY29sb3I6ICcgKyBiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uICRiZ0FzUkdCKGlkKSB7XHJcbiAgICAgICAgdmFyIGJnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICBpZiAoYmcgPT09ICcnKSByZXR1cm4gWzI1NSwgMjU1LCAyNTVdO1xyXG4gICAgICAgIGlmICgkYmdfdHJhbnNmb3JtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgX2Fzc2lnbl9iZ190cmFuc2Zvcm0oYmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJGJnX3RyYW5zZm9ybShiZyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwID0gZnVuY3Rpb24oc2NhbGUpIHtcclxuICAgICAgICAvLyBwaXhlbHMgYXJlIHhfeSBzdGFydGluZyBpbiB0b3AgbGVmdCwgd2UgbmVlZCB0byBpdGVyYXRlIGZyb20gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBkaW1lbnNpb25zIGFyZSBhIDUweDUwIHNxdWFyZSAoMCwgMCwgNDksIDQ5KVxyXG5cclxuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDEwO1xyXG5cclxuICAgICAgICB2YXIgeCxcclxuICAgICAgICAgICAgeF9sZW4gPSA1MCxcclxuICAgICAgICAgICAgeSA9IDQ5LFxyXG4gICAgICAgICAgICByb3dzID0gW10sXHJcbiAgICAgICAgICAgIHJvdyxcclxuICAgICAgICAgICAgaW1nX3BhcmVudCxcclxuICAgICAgICAgICAgaW1nLFxyXG4gICAgICAgICAgICBzcmM7XHJcblxyXG4gICAgICAgIGZvciAoOyB5ID49IDA7IHktLSkge1xyXG4gICAgICAgICAgICByb3dzLnB1c2gocm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgeF9sZW47IHgrKykge1xyXG4gICAgICAgICAgICAgICAgcm93LnB1c2goJGJnQXNSR0IoeCArICdfJyArIHkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogdGVzdCBpbWFnZSAqIC9cclxuICAgICAgICByb3dzID0gW1xyXG4gICAgICAgICAgICBbWzI1NSwgMCwgMF0sIFsyNTUsIDI1NSwgMjU1XV0sXHJcbiAgICAgICAgICAgIFtbMCwgMCwgMjU1XSwgWzAsIDI1NSwwXV1cclxuICAgICAgICBdO1xyXG4gICAgICAgIC8qICovXHJcblxyXG4gICAgICAgIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgIHNyYyA9IHdpbmRvdy5nZW5lcmF0ZUJpdG1hcERhdGFVUkwocm93cywgc2NhbGUpO1xyXG4gICAgICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgICAgICAgaW1nLmFsdCA9ICdJZiB5b3UgY2FuIHJlYWQgdGhpcywgeW91ciBicm93c2VyIHByb2JhYmx5IGRvZXNuXFwndCBzdXBwb3J0IHRoZSBkYXRhIFVSTCBzY2hlbWUgZm9ybWF0ISBPaCBubyEnO1xyXG4gICAgICAgIGltZy50aXRsZSA9ICdZb3UgZ2VuZXJhdGVkIGFuIGltYWdlLCBncmVhdCBqb2IhIFRvIHNhdmUgaXQsIGRyYWcgaXQgdG8geW91ciBEZXNrdG9wIG9yIHJpZ2h0IGNsaWNrIGFuZCBzZWxlY3Qgc2F2ZSBhcy4nO1xyXG4gICAgICAgIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgaWYgKGltZ19wYXJlbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50LmlkID0gJ2ltZyc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwJykuYXBwZW5kQ2hpbGQoaW1nX3BhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGltZ19wYXJlbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJpbWctaGVhZGVyXCI+R2VuZXJhdGVkIEltYWdlICZuYnNwOzxhIHRpdGxlPVwiaGlkZSBpbWFnZVwiIGhyZWY9XCIjXCI+eDwvYT48L2Rpdj4nO1xyXG4gICAgICAgIGltZ19wYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWdfcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nX3BhcmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGltZ19wYXJlbnQuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcC5hc2tUb1NjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gcHJvbXB0KCdQaWNrIGEgc2NhbGluZyBmYWN0b3IuLi5cXG4xID0gYWN0dWFsIHNpemUsIC41ID0gaGFsZiwgMiA9IGRvdWJsZVxcbihub3RlOiBsYXJnZSBudW1iZXJzIG1pZ2h0IGNyYXNoIHlvdXIgYnJvd3NlciknKTtcclxuICAgICAgICBpZiAoc2NhbGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gcGFyc2VGbG9hdChzY2FsZSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gTmFOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc05hTihzY2FsZSkpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGF0IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gc2NhbGUgKiAxMDsgLy8gc2luY2UgYWN0dWFsIHNpemUgaXMgYWN0dWFsbHkgMTB4IVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwKHNjYWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG59KSh0aGlzLCB0aGlzLmRvY3VtZW50KTsiLCIoZnVuY3Rpb24oJCkge1xyXG4gICAgJChmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCdib2R5JykudG9vbHRpcCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnW3JlbD10b29sdGlwXSdcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KShqUXVlcnkpO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgWyd1aS5yb3V0ZXInXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUubWFpbicsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdtYWluJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWUnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICBdKS5ydW4oWydnYW1lU2VydmljZScsICdwb3B1bGF0aW9uU2VydmljZScsICdsb2dTZXJ2aWNlJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UsIHBvcHVsYXRpb25TZXJ2aWNlLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICAgIC8vcG9wdWxhdGlvblNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICAgIC8vbG9nU2VydmljZS5pbml0KCk7XHJcbiAgICB9XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5maWx0ZXIoJ2hhc1RyYWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odW5pdHMsIHRyYWl0TmFtZSkge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBpZiAodW5pdHNbaV0uaGFzVHJhaXQodHJhaXROYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldC5wdXNoKHVuaXRzW2ldKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxufSk7XHJcblxyXG5cclxuZ2FtZS5mYWN0b3J5KCdCcmVlZGVyJywgWyckZmlsdGVyJywgJ1RyYWl0SW5zcGVjdG9yJywgZnVuY3Rpb24oJGZpbHRlciwgVHJhaXRJbnNwZWN0b3IpIHtcclxuXHJcblxyXG5cclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgQnJlZWRlciA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudHJhaXRJbnNwZWN0b3IgPSBuZXcgVHJhaXRJbnNwZWN0b3IoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpOyAgICAgICAgXHJcbiAgICB9O1xyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuaWQgfHwgMDtcclxuICAgICAgICB0aGlzLm1vdGhlciA9IGNvbmZpZy5tb3RoZXIgfHwgdGhpcy5tb3RoZXIgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmZhdGhlciA9IGNvbmZpZy5mYXRoZXIgfHwgdGhpcy5mYXRoZXIgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmdlbmVyYXRpb24gPSBjb25maWcuZ2VuZXJhdGlvbiB8fCB0aGlzLmdlbmVyYXRpb24gfHwgMDtcclxuICAgICAgICB0aGlzLmdlbmVzID0gY29uZmlnLmdlbmVzIHx8IHRoaXMuZ2VuZXMgfHwgW107XHJcbiAgICAgICAgLy8obWF4IG51bWJlciBvZiBiaXRzIHRoYXQgY2FuIG11dGF0ZSwgbGltaXRzIHRoZSBtYXgvbWluIHZhbHVlcyBmb3IgZWFjaCBnZW5lKVxyXG4gICAgICAgIC8vIDQgPSBtYXggMTUsIDUgPSBtYXggMzEuLi4gOCA9IG1heCAyNTVcclxuICAgICAgICB0aGlzLm11dGF0aW9uQml0cyA9IGNvbmZpZy5tdXRhdGlvbkJpdHMgfHwgdGhpcy5tdXRhdGlvbkJpdHMgfHwgNDtcclxuXHJcbiAgICAgICAgdGhpcy5yZWRHcmVlbkltYWdlID0gZ2V0UmVkR3JlZW5JbWFnZSh0aGlzLmdlbmVzLCB0aGlzLm11dGF0aW9uQml0cyk7XHJcbiAgICAgICAgdGhpcy5ibHVlSW1hZ2UgPSBnZXRCbHVlSW1hZ2UodGhpcy5nZW5lcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhaXRzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRUcmFpdHModGhpcy5nZW5lcyk7XHJcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRBdHRyaWJ1dGVzKHRoaXMuZ2VuZXMpO1xyXG5cclxuICAgICAgICB0aGlzLm5hbWUgPSAodGhpcy5uYW1lICYmIHRoaXMubmFtZSAhPT0gJ1Vua25vd24gR2VuZGVyJykgPyB0aGlzLm5hbWUgOiBjb25maWcubmFtZSB8fCB0aGlzLmdldFJhbmRvbU5hbWUoKTtcclxuXHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbihwYXJ0bmVyLCBuZXdJZCkge1xyXG4gICAgICAgIHZhciBwMSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHAyID0gcGFydG5lcjtcclxuXHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcblxyXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgaWQ6IG5ld0lkLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uOiBwMS5nZW5lcmF0aW9uICsgMSxcclxuICAgICAgICAgICAgZ2VuZXM6IFtdLFxyXG4gICAgICAgICAgICBtb3RoZXI6IG15R2VuZGVyID09ICdGZW1hbGUnID8gcDEgOiBwMixcclxuICAgICAgICAgICAgZmF0aGVyOiBteUdlbmRlciA9PSAnTWFsZScgPyBwMSA6IHAyXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcDEuZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHAxZyA9IHAxLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICB2YXIgcDJnID0gcDIuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIGNoaWxkLmdlbmVzLnB1c2goY3Jvc3NvdmVyKHAxZywgcDJnLCB0aGlzLm11dGF0aW9uQml0cykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGlsZC51cGRhdGUoKTsgICAgIFxyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuaGFzVHJhaXQgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRyYWl0cy5maWx0ZXIoZnVuY3Rpb24obXlUcmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbXlUcmFpdC5uYW1lID09PSB0cmFpdDtcclxuICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZW5lcyB8fCB0aGlzLmdlbmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gR2VuZGVyJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKSA/IG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QxLmxlbmd0aCAtIDEpXSA6IG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QyLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbGFzdE5hbWUgPSBuYW1lTGlzdDNbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0My5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDRbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NC5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDVbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NS5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgcmV0dXJuIGZpcnN0TmFtZSArIGxhc3ROYW1lO1xyXG4gICAgfTtcclxuICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGFsbCByZWxhdGlvbnMgdG8gYWNjb3VudCBmb3IgaW5icmVlZGluZyAoYWthIHVuY2xlIGJyb3RoZXIpXHJcbiAgICAvKiB0aGlzIGlzIHdheSB3cm9uZy4uLi5cclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFJlbGF0aW9ucyA9IGZ1bmN0aW9uKHRoZXkpIHtcclxuICAgICAgICB2YXIgbXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciBteW1hdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgdmFyIHRoZXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciB0aGV5bWF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgdGhleUdlbmRlciA9IHRoZXkuaGFzVHJhaXQoJ01hbGUnKSA/ICdNYWxlJyA6ICdGZW1hbGUnO1xyXG5cclxuICAgICAgICB2YXIgdTtcclxuICAgICAgICAvLyBidWlsZCAnbXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbXltYXRlcm5hbC5wdXNoKHUubW90aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUubW90aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gdGhpcztcclxuICAgICAgICB3aGlsZSAodS5mYXRoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG15cGF0ZXJuYWwucHVzaCh1LmZhdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1LmZhdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYnVpbGQgJ3RoZXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleW1hdGVybmFsLnB1c2godS5tb3RoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5tb3RoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1LmZhdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleXBhdGVybmFsLnB1c2godS5mYXRoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5mYXRoZXI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3IgbWF0ZXJuYWwgcmVsYXRpb25zaGlwc1xyXG4gICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgbXltYXRlcm5hbC5sZW5ndGg7IGgrKylcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGV5bWF0ZXJuYWwubGVuZ3RoOyBrKyspXHJcbiAgICAgICAgICAgICAgICBpZiAobXltYXRlcm5hbFtoXS5pZCA9PSB0aGV5bWF0ZXJuYWwuaWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgc2FtZSBtb3RoZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA9PSAwICYmIGtrID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCgodGhpcy5mYXRoZXIuaWQgIT0gdGhleS5mYXRoZXIuaWQpID8gJ0hhbGYgJyA6ICcnKSArICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnU2lzdGVyJyA6ICdCcm90aGVyJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcblxyXG4gICAgfTtcclxuICAgICovXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG4gICAgdmFyIGdlbmV0aWNPcHRpb25zID0ge1xyXG4gICAgICAgIGNyb3Nzb3ZlcnJhdGU6IDAuNVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyBtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QxID0gWydEaWdneSAnLCAnRGVhbiAnLCAnRHVrZSAnLCAnRG95bGUgJywgJ0RpcmsgJywgJ0RhZyAnLCAnRGltaXRyaSAnLCAnRHJ1ICddO1xyXG4gICAgLy8gZmVtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QyID0gWydEYWdneSAnLCAnRGFpc3kgJywgJ0RpbmFoICcsICdEaGFybWEgJywgJ0RlZSAnLCAnRGFwaG5lICcsICdEaXhpZSAnLCAnRGFyY3kgJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgcHJlZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3QzID0gWycnLCAnJywgJycsICcnLCAnJywgJ1ZhbiAnLCAnVm9uICcsICdPXFwnJywgJ01jJywgJ01jJ107XHJcbiAgICAvLyBsYXN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3Q0ID0gWydEb29nJywgJ0RpYmInLCAnRGFiYicsICdEaWcnLCAnRGFuZycsICdEdWdnJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgc3VmZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3Q1ID0gWycnLCAnJywgJycsICdsZXInLCAnbGVyJywgJ2VyJywgJ2VyJywgJ2VyJywgJ3d1ZXJzdCcsICdlcnd1ZXJzdCcsICdlcnRvbicsICdlcnRvbicsICdza2knXTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIGZ1bmN0aW9ucyAqL1xyXG4gICAgZnVuY3Rpb24gY3Jvc3NvdmVyKGcxLCBnMiwgbWF4Qml0cykge1xyXG4gICAgICAgIHZhciBjcm9zc292ZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIHZhciBnID0gYW5ndWxhci5jb3B5KGNyb3Nzb3ZlciA8PSBnZW5ldGljT3B0aW9ucy5jcm9zc292ZXJyYXRlID8gZzEgOiBnMik7XHJcbiAgICAgICAgdmFyIG11dGF0aW9uUmF0ZSA9IGdbMl0gLyAyNTUuMDtcclxuICAgICAgICB2YXIgYml0U3RyaW5nUiA9ICcnO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdHID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhCaXRzOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nUiArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9sZFIgPSBnWzBdO1xyXG4gICAgICAgIHZhciBvbGRHID0gZ1sxXTtcclxuICAgICAgICBnWzBdIF49IHBhcnNlSW50KGJpdFN0cmluZ1IsIDIpO1xyXG4gICAgICAgIGdbMV0gXj0gcGFyc2VJbnQoYml0U3RyaW5nRywgMik7XHJcbiAgICAgICAgcmV0dXJuIGc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmVkR3JlZW5JbWFnZShnZW5lcywgbXV0YXRpb25CaXRzKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQml0bWFwRGF0YVVSTChhZGRSb3dzKGNvbnZlcnRSZWRHcmVlbk1hcChnZW5lcywgbXV0YXRpb25CaXRzKSwgZ2VuZXMubGVuZ3RoKSwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJsdWVJbWFnZShnZW5lcykge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMsIG11dGF0aW9uQml0cykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgbWluQ29sb3IgPSA1MDtcclxuICAgICAgICB2YXIgZmFjdG9yID0gMjU1IC8gKE1hdGgucG93KDIsIG11dGF0aW9uQml0cykgLSAxKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZ2VuZXNbaV1bMF07XHJcbiAgICAgICAgICAgIHZhciBnID0gZ2VuZXNbaV1bMV07XHJcbiAgICAgICAgICAgIHZhciBicmlnaHQgPSBNYXRoLmFicyhyIC0gZykgLyAyNTU7XHJcbiAgICAgICAgICAgIGJyaWdodCAqPSBmYWN0b3I7XHJcbiAgICAgICAgICAgIGlmIChyID4gZykge1xyXG4gICAgICAgICAgICAgICAgZyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByICo9IGJyaWdodDtcclxuICAgICAgICAgICAgZyAqPSBicmlnaHQ7XHJcblxyXG4gICAgICAgICAgICBpZiAociA+IDApIHIgKz0gbWluQ29sb3I7XHJcbiAgICAgICAgICAgIGlmIChnID4gMCkgZyArPSBtaW5Db2xvcjtcclxuICAgICAgICAgICAgaWYgKHIgPiAyNTUpIHIgPSAyNTU7XHJcbiAgICAgICAgICAgIGlmIChnID4gMjU1KSBnID0gMjU1O1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3IsIGcsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qmx1ZU1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFswLCAwLCBnZW5lc1tpXVsyXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJvd3MoZ2VuZXMsIGNvbHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoZ2VuZXMubGVuZ3RoIC8gY29scyk7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaChnZW5lc1tpICsgKGogKiBjb2xzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEJyZWVkZXI7XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmZhY3RvcnkoJ1BvcHVsYXRpb24nLCBbJyRmaWx0ZXInLCAnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMpIHtcclxuXHJcblxyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBQb3B1bGF0aW9uID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XHJcbiAgICAgICAgdGhpcy5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiA9IGNvbmZpZy5jdXJyZW50R2VuZXJhdGlvbiB8fCB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uIHx8IDA7XHJcbiAgICAgICAgdGhpcy5icmVlZGVycyA9IGNvbmZpZy5icmVlZGVycyB8IHRoaXMuYnJlZWRlcnMgfHwgW107XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gY29uZmlnLm1heFNpemUgfCB0aGlzLm1heFNpemUgfHwgMTA7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzID0gY29uZmlnLmJyZWVkZXJNdXRhdGlvbkJpdHM7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UgPSBjb25maWcuYnJlZWRlck11dGlhdGlvbkNoYW5jZSB8fCA1O1xyXG4gICAgICAgIHRoaXMuYnJlZWRlckdlbmVzVW5sb2NrZWQgPSBjb25maWcuYnJlZWRlckdlbmVzVW5sb2NrZWQgfHwgW107XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gY29uZmlnLm1lbWJlcnMgfCB0aGlzLm1lbWJlcnMgfHwgdGhpcy5jcmVhdGVJbml0aWFsUG9wdWxhdGlvbihjb25maWcuaW5pdGlhbFNpemUgfHwgMik7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uID0gZnVuY3Rpb24oY291bnQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGduID0gMDsgZ24gPCBzZWxmLmdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGduKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmJyZWVkZXJHZW5lc1VubG9ja2VkLmluZGV4T2YoZ24pICE9PSAtMSkgZ2VuZXNbZ25dWzJdID0gc2VsZi5icmVlZGVyTXV0YXRpb25DaGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByID0gaSAlIDIgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGkgJSAyID09PSAwID8gMCA6IDI1NTtcclxuXHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVswXSA9IHI7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsxXSA9IGc7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsyXSA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBhbmd1bGFyLmNvcHkoZ2VuZXMpLFxyXG4gICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBzZWxmLmJyZWVkZXJNdXRhdGlvbkJpdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb24ucHVzaCh1bml0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHVsYXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmlzQnJlZWRpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5tZW1iZXJzLmxlbmd0aCA+PSB0aGlzLm1heFNpemUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgYXJlIGF0IGxlYXN0IDEgbWFsZSBhbmQgMSBmZW1hbGUgaW4gdGhlIGJyZWVkZXJzXHJcbiAgICAgICAgdmFyIGhhc01hbGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgaGFzRmVtYWxlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJyZWVkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gdGhpcy5nZXRCeUlkKHRoaXMuYnJlZWRlcnNbaV0pO1xyXG4gICAgICAgICAgICBpZiAodW5pdC5oYXNUcmFpdCgnTWFsZScpKSBoYXNNYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZSBoYXNGZW1hbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzTWFsZSAmJiBoYXNGZW1hbGUpIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTWFsZSAmJiBoYXNGZW1hbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldEJ5SWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXQuaWQgPT09IGlkO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRCeUdlbmVyYXRpb24gPSBmdW5jdGlvbihnZW5lcmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdC5nZW5lcmF0aW9uID09PSBnZW5lcmF0aW9uO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5icmVlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoIXNlbGYuaXNCcmVlZGluZygpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICB2YXIgcDEgPSBzZWxmLmdldEJ5SWQoc2VsZi5icmVlZGVyc1swXSk7XHJcbiAgICAgICAgdmFyIHAyID0gc2VsZi5nZXRCeUlkKHNlbGYuYnJlZWRlcnNbMV0pO1xyXG4gICAgICAgIHZhciBjaGlsZCA9IHAxLmJyZWVkKHAyLCBzZWxmLm1lbWJlcnMubGVuZ3RoKTtcclxuICAgICAgICBzZWxmLm1lbWJlcnMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gUG9wdWxhdGlvbjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcblxyXG5nYW1lLmNvbnN0YW50KCdnZW5lRGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZ2VuZURlZmluaXRpb25zID0gW107XHJcbiAgICAvL2dlbmUgOnIsZyxiIHI6cmVjZXNzaXZlLCBnOmRvbWluYW50LCBiOm11dGF0aW9ucmF0ZVxyXG4gICAgZ2VuZURlZmluaXRpb25zWzBdID0geyBkb206ICdCcm9hZCBTaG91bGRlcnMnLCByZWM6ICdTbGVuZGVyIFNob3VsZGVycycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxXSA9IHsgZG9tOiAnVGhpY2sgU2t1bGwnLCByZWM6ICdTb2Z0IFNrdWxsJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzJdID0geyBkb206ICdMYXJnZSBBcm1zJywgcmVjOiAnU21hbGwgQXJtcycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szXSA9IHsgZG9tOiAnTGFyZ2UgTGVncycsIHJlYzogJ1NtYWxsIExlZ3MnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNF0gPSB7IGRvbTogJ0JpZyBDaGVzdCcsIHJlYzogJ1dlYWsgQ2hlc3QnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNV0gPSB7IGRvbTogJ1RvdWdoIEphdycsIHJlYzogJ1dlYWsgSmF3JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzZdID0geyBkb206ICdPYWZpc2gnLCByZWM6ICdNb3VzZXknLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzEwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzExXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE0XSA9IHsgZG9tOiAnQ2FsY3VsYXRlZCBEZWNpc2lvbnMnLCByZWM6ICdSZWNrbGVzcycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNV0gPSB7IGRvbTogJ0xhdGVyYWwgVGhpbmtlcicsIHJlYzogJ1NpbmdsZSBNaW5kZWQnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTZdID0geyBkb206ICdRdWljayBMZWFybmVyJywgcmVjOiAnRm9yZ2V0ZnVsJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1syMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzBdID0geyBkb206ICdFbG9xdWVudCcsIHJlYzogJ0NhdGF0b25pYycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMV0gPSB7IGRvbTogJ1Bvd2VyZnVsIFZvaWNlJywgcmVjOiAnUXVpZXQgVm9pY2UnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzJdID0geyBkb206ICdGdWxsIExpcHMnLCByZWM6ICdUaGluIExpcHMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzNdID0geyBkb206ICdEYXJrIFNraW4nLCByZWM6ICdGYWlyIFNraW4nLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzQwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQxXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQyXSA9IHsgZG9tOiAnRmVtYWxlJywgcmVjOiAnTWFsZScsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0M10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Nl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0N10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuXHJcbiAgICByZXR1cm4gZ2VuZURlZmluaXRpb25zO1xyXG59KSgpKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ3RyYWl0RGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdHJhaXRzID0gW3tcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAyMDBdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDUwLCAyNTVdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ01hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnUHJldHR5JyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAtMTAwXSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMCwgMjQwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydGZW1hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQWdncmVzc2l2ZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzIsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNSwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzE0LCAtMjU1LCAtMTUwXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdGZW1hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAwLCAyNTVdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ01hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAtMjU1LCAtMV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUgQWdncmVzc2l2ZSBhbmQgc29tZXRoaW5nJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFszMCwgMCwgMF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnSGFuZHNvbWUnLCAnQWdncmVzc2l2ZSddXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuXHJcbiAgICB2YXIgY2hlY2tlZCA9IFtdO1xyXG4gICAgdmFyIGdldFRyYWl0QnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0cmFpdHMuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IHQubmFtZTtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRyYWl0LnJlcXVpcmVkVHJhaXRzKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyYWl0LnJlcXVpcmVkVHJhaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRUcmFpdCA9IHRyYWl0LnJlcXVpcmVkVHJhaXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGdldFRyYWl0QnlOYW1lKHJlcXVpcmVkVHJhaXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQuaW5kZXhPZihyZXEubmFtZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUocmVxKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcmVxLmdlbmVzLmxlbmd0aDsgZysrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0LmdlbmVzLnB1c2gocmVxLmdlbmVzW2ddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja2VkLnB1c2godHJhaXQubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBidWlsZFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFpdCA9IHRyYWl0c1tpXTtcclxuICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSh0cmFpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2codHJhaXRzKTtcclxuICAgICAgICByZXR1cm4gdHJhaXRzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBidWlsZFRyYWl0cygpO1xyXG59KSgpKTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ1RyYWl0SW5zcGVjdG9yJywgWyckZmlsdGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJGZpbHRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFRyYWl0SW5zcGVjdG9yID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICAvL3RoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwOyAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXREZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gdHJhaXREZWZpbml0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCB0ZC5nZW5lcy5sZW5ndGggJiYgbWV0ID09PSB0cnVlOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGRnID0gdGQuZ2VuZXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBnZW5lc1t0ZGdbMF1dWzFdIC0gZ2VuZXNbdGRnWzBdXVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IHRkZ1sxXSB8fCB2ID4gdGRnWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSB7XHJcbiAgICAgICAgICAgIFwiU1RSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiSU5UXCI6IDAsXHJcbiAgICAgICAgICAgIFwiRU5EXCI6IDAsXHJcbiAgICAgICAgICAgIFwiQ0hSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiTENLXCI6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHN0ckJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgaW50QmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmRCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGNockJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgbGNrQmFzZSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChnIDwgMTApXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDIwKVxyXG4gICAgICAgICAgICAgICAgICAgIGludEJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAzMClcclxuICAgICAgICAgICAgICAgICAgICBlbmRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgNDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2hyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGxja0Jhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXQuU1RSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKHN0ckJhc2UpICsgMjApIC8gMjUpKSAqIChzdHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5JTlQgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoaW50QmFzZSkgKyAyMCkgLyAyNSkpICogKGludEJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkVORCA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhlbmRCYXNlKSArIDIwKSAvIDI1KSkgKiAoZW5kQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuQ0hSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGNockJhc2UpICsgMjApIC8gMjUpKSAqIChjaHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5MQ0sgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMobGNrQmFzZSkgKyAyMCkgLyAyNSkpICogKGxja0Jhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG5cclxuICAgIHJldHVybiBUcmFpdEluc3BlY3RvcjtcclxufV0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWRHYW1lQ29udHJvbCcsIHtcclxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIlwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlU3RhdGUoKTtcIj48aSBjbGFzcz1cImZhXCIgbmctY2xhc3M9XCIkY3RybC5nZXRJY29uKClcIj48L2k+PC9idXR0b24+PC9kaXY+JyxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2FtZVNlcnZpY2UnLCAnZ2FtZVN0YXRlcycsIGZ1bmN0aW9uKGdhbWVTZXJ2aWNlLCBnYW1lU3RhdGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTZXJ2aWNlLmdldFN0YXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnRvZ2dsZVN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gKHNlbGYuY3VycmVudFN0YXRlID09PSBnYW1lU3RhdGVzLlJVTk5JTkcgPyBnYW1lU3RhdGVzLlBBVVNFRCA6IGdhbWVTdGF0ZXMuUlVOTklORyk7XHJcbiAgICAgICAgICAgIGdhbWVTZXJ2aWNlLnNldFN0YXRlKHNlbGYuY3VycmVudFN0YXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0SWNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/ICdmYS1wYXVzZScgOiAnZmEtcGxheSc7XHJcbiAgICAgICAgfTtcclxuICAgIH1dXHJcbn0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZExvZycsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9sb2cvbG9nLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmxvZydcclxufSk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCdsb2dUeXBlcycsIHtcclxuICAgIEdFTkVSQUw6IDEsXHJcbiAgICBCUkVFRDogMixcclxuICAgIEFDSElFVkVNRU5UOiAzXHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmxvZycsIFsnJHNjb3BlJywgJ2xvZ1NlcnZpY2UnLCAnbG9nVHlwZXMnLCBmdW5jdGlvbigkc2NvcGUsIGxvZ1NlcnZpY2UsIGxvZ1R5cGVzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgbG9nU2VydmljZS5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQoJHNjb3BlLCBzZWxmLnJlY2VpdmVNZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuZ2V0TG9nQ2xhc3MgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgdmFyIHByZWZpeCA9ICdsaXN0LWdyb3VwLWl0ZW0tJztcclxuICAgICAgICB2YXIgYSA9ICcnO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkdFTkVSQUw6XHJcbiAgICAgICAgICAgICAgICBhID0gJ2NvbG9yLWdlbmVyYWwnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgbG9nVHlwZXMuQUNISUVWRU1FTlQ6XHJcbiAgICAgICAgICAgICAgICBhID0gJ2NvbG9yLWFjaGlldmVtZW50JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkJSRUVEOlxyXG4gICAgICAgICAgICAgICAgYSA9ICdjb2xvci1icmVlZCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGEgPSBwcmVmaXggKyAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYucmVjZWl2ZU1lc3NhZ2VzID0gZnVuY3Rpb24oZXZlbnQsIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xyXG4gICAgfTtcclxufV0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdsb2dTZXJ2aWNlJywgWyckcm9vdFNjb3BlJywgJ2xvZ1R5cGVzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgbG9nVHlwZXMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlKFwiV2VsY29tZSB0byBHZW5ldGl4IVwiKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkdFTkVSQUwsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuICAgIHNlbGYubG9nQnJlZWRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkJSRUVELCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0FjaGlldmVtZW50TWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goeyB0eXBlOiBsb2dUeXBlcy5BQ0hJRVZFTUVOVCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignbmV3TWVzc2FnZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZSdcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnLCBbJyRzY29wZScsICdwb3B1bGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgcG9wdWxhdGlvblNlcnZpY2UpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuYnJlZWRlcnMgPSBbXTtcclxuICAgICAgICBzZWxmLnBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBzZWxmLm1heFBvcHVsYXRpb24gPSAwO1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlUG9wdWxhdGlvbik7XHJcbiAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuU3Vic2NyaWJlQnJlZWRlclVwZGF0ZUV2ZW50KCRzY29wZSwgc2VsZi51cGRhdGVCcmVlZGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpIHtcclxuICAgICAgICBwb3B1bGF0aW9uU2VydmljZS51cGRhdGVNZW1iZXIoaWQsIGdlbmVJbmRleCwgZ2VuZVZhbHVlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLmFkZEJyZWVkZXIodW5pdGlkKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5yZW1vdmVCcmVlZGVyID0gZnVuY3Rpb24odW5pdGlkKSB7XHJcbiAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UucmVtb3ZlQnJlZWRlcih1bml0aWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnVwZGF0ZUJyZWVkZXJzID0gZnVuY3Rpb24oZXZlbnQsIGJyZWVkZXJzKSB7XHJcbiAgICAgICAgc2VsZi5icmVlZGVycyA9IGJyZWVkZXJzO1xyXG4gICAgfTtcclxuICAgIHNlbGYudXBkYXRlUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gZGF0YS5wb3B1bGF0aW9uO1xyXG4gICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IGRhdGEubWF4U2l6ZTtcclxuICAgIH07XHJcbn1dKTtcclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudChcImJsb3FoZWFkQnJlZWRlclwiLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIixcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJzwnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZ2FtZS5jb250cm9sbGVyKFwiYmxvcWhlYWRlci5jb250cm9sbGVycy5icmVlZGVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfTtcclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnN0YW50KCdhY2hpZXZlbWVudFNldHVwJywge1xyXG4gICAgYWNoaWV2ZW1lbnRzOiBbe1xyXG4gICAgICAgIGFpZDogJ0FfQklSVEhTJyxcclxuICAgICAgICBuYW1lOiAnVGhlIENob3NlbiBPbmUnLFxyXG4gICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgIFsxLCBbXHJcbiAgICAgICAgICAgICAgICBbJ1JfR09MRCcsIDEwMF0sXHJcbiAgICAgICAgICAgICAgICBbJ1JfV09PRCcsIDEwMF1cclxuICAgICAgICAgICAgXV0sXHJcbiAgICAgICAgICAgIFsxOCwgW1xyXG4gICAgICAgICAgICAgICAgWydNX0hBUFBJTkVTUyddXHJcbiAgICAgICAgICAgIF1dXHJcbiAgICAgICAgXVxyXG4gICAgfV0sXHJcbiAgICBwZXJrczogW3tcclxuICAgICAgICBwaWQ6ICdNX0hBUFBJTkVTUycsXHJcbiAgICAgICAgbmFtZTogJ05ldyBNZWNoYW5pYzogSGFwcGluZXNzJyxcclxuICAgICAgICBkZXNjOiAnSGFwcGluZXNzIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaG93IGNvbnRlbnQgeW91ciBwb3B1bGF0aW9uIGlzLicsXHJcbiAgICAgICAgb25jZTogdHJ1ZVxyXG4gICAgfSwge1xyXG4gICAgICAgIHBpZDogJ1JfR09MRCcsXHJcbiAgICAgICAgbmFtZTogJ0Vhcm5lZCBCb251cyBSZXNvdXJjZXM6IEdvbGQnLFxyXG4gICAgICAgIGRlc2M6ICdbJTFdIGdvbGQgaGFzIGJlZW4gYWRkZWQgdG8geW91ciBjb2ZmZXJzLidcclxuICAgIH0sIHtcclxuICAgICAgICBwaWQ6ICdSX1dPT0QnLFxyXG4gICAgICAgIG5hbWU6ICdFYXJuZWQgQm9udXMgUmVzb3VyY2VzOiBXb29kJyxcclxuICAgICAgICBkZXNjOiAnWyUxXSB3b29kIGhhcyBiZWVuIGFkZGVkIHRvIHlvdXIgY29mZmVycy4nXHJcbiAgICB9XVxyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5zZXJ2aWNlKCdhY2hpZXZlbWVudFNlcnZpY2UnLCBbXHJcbiAgICAnJGZpbHRlcicsICdsb2dTZXJ2aWNlJywgJ2FjaGlldmVtZW50U2V0dXAnLFxyXG4gICAgZnVuY3Rpb24oJGZpbHRlciwgbG9nU2VydmljZSwgYWNoaWV2ZW1lbnRTZXR1cCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHByb2dyZXNzIHx8IHsgYWNoaWV2ZW1lbnRzOiBbXSwgcGVya3M6IFtdIH07XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbihhaWQsIGFtb3VudCkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NTZWFyY2ggPSAkZmlsdGVyKCdmaWx0ZXInKShzZWxmLnByb2dyZXNzLmFjaGlldmVtZW50cywgeyBhaWQ6IGFpZCB9KTtcclxuICAgICAgICAgICAgdmFyIGFjaFByb2dyZXNzO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3NTZWFyY2gubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBhY2hQcm9ncmVzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBhaWQ6IGFpZCxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IDBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzLmFjaGlldmVtZW50cy5wdXNoKGFjaFByb2dyZXNzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFjaFByb2dyZXNzID0gcHJvZ3Jlc3NTZWFyY2hbMF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBvbGR2YWwgPSBhY2hQcm9ncmVzcy5hbW91bnQ7XHJcbiAgICAgICAgICAgIHZhciBuZXd2YWwgPSBhY2hQcm9ncmVzcy5hbW91bnQgKyBhbW91bnQ7XHJcblxyXG4gICAgICAgICAgICBhY2hQcm9ncmVzcy5hbW91bnQgPSBuZXd2YWw7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWNoU2V0dXAgPSAkZmlsdGVyKCdmaWx0ZXInKShhY2hpZXZlbWVudFNldHVwLmFjaGlldmVtZW50cywgeyBhaWQ6IGFpZCB9KVswXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcmMgPSAwOyByYyA8IGFjaFNldHVwLnJhbmtzLmxlbmd0aDsgcmMrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFtb3VudFJlcXVpcmVkID0gYWNoU2V0dXAucmFua3NbcmNdWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFtb3VudFJlcXVpcmVkID4gb2xkdmFsICYmIGFtb3VudFJlcXVpcmVkIDw9IG5ld3ZhbCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0FjaGlldmVtZW50TWVzc2FnZSgnQWNoaWV2ZW1lbnQgRWFybmVkIC0gJyArIGFjaFNldHVwLm5hbWUgKyAnICgnICsgYW1vdW50UmVxdWlyZWQgKyAnKScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSBwZXJrc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBjID0gMDsgcGMgPCBhY2hTZXR1cC5yYW5rc1tyY11bMV0ubGVuZ3RoOyBwYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYXBwbHlQZXJrKGFjaFNldHVwLnJhbmtzW3JjXVsxXVtwY10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFwcGx5UGVyayA9IGZ1bmN0aW9uKGFycikge1xyXG4gICAgICAgICAgICB2YXIgcGlkID0gYXJyWzBdO1xyXG4gICAgICAgICAgICB2YXIgcGVya1NldHVwID0gJGZpbHRlcignZmlsdGVyJykoYWNoaWV2ZW1lbnRTZXR1cC5wZXJrcywgeyBwaWQ6IHBpZCB9KVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcGVyayBjYW4gb25seSBiZSBlYXJuZWQgb25jZSBhbmQgdGhlIHBsYXllciBoYXMgZWFybmVkIGl0IGFscmVhZHksXHJcbiAgICAgICAgICAgIC8vIHdlIGRvIG5vdCBoYXZlIHRvIGRvIGFueXRoaW5nXHJcbiAgICAgICAgICAgIGlmIChwZXJrU2V0dXAub25jZSB8fCBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmtTZWFyY2ggPSAkZmlsdGVyKCdmaWx0ZXInKShzZWxmLnByb2dyZXNzLnBlcmtzLCB7IHBpZDogcGlkIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmtTZWFyY2gubGVuZ3RoICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbG9nIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgIHZhciBtc2cgPSBwZXJrU2V0dXAubmFtZSArICcgLSAnICsgcGVya1NldHVwLmRlc2M7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJyLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slJyArIGkgKyAnXScsIGFycltpXSk7XHJcbiAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQWNoaWV2ZW1lbnRNZXNzYWdlKG1zZyk7XHJcblxyXG4gICAgICAgICAgICAvLyBkbyB0aGUgd29ya1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBpZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUl9HT0xEJzpcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbmNyZWFzZSBwbGF5ZXIgZ29sZCBieSBhcnJbMV1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JfV09PRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgcGxheWVyIHdvb2QgYnkgYXJyWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCgpO1xyXG4gICAgfVxyXG5dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcbmdhbWUuc2VydmljZSgncG9wdWxhdGlvblNlcnZpY2UnLCBbXHJcbiAgICAnJHJvb3RTY29wZScsICdnYW1lU2VydmljZScsICdQb3B1bGF0aW9uJywgJ2xvZ1NlcnZpY2UnLCAnYWNoaWV2ZW1lbnRTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsIGdhbWVTZXJ2aWNlLCBQb3B1bGF0aW9uLCBsb2dTZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGV2ZW50LCBjb25maWcpIHtcclxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xyXG4gICAgICAgICAgICB2YXIgbXlDb25maWcgPSBjb25maWcucG9wdWxhdGlvblNlcnZpY2VDb25maWcgfHwge307XHJcblxyXG4gICAgICAgICAgICBzZWxmLmJyZWVkU3RlcHMgPSBteUNvbmZpZy5icmVlZFN0ZXBzIHx8IHNlbGYuYnJlZWRTdGVwcyB8fCA2O1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IDA7XHJcblxyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24gPSBuZXcgUG9wdWxhdGlvbihteUNvbmZpZy5wb3B1bGF0aW9uQ29uZmlnKTtcclxuICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlID0gbG9nU2VydmljZTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5oYW5kbGVHYW1lTG9vcCA9IGZ1bmN0aW9uKGV2ZW50LCBzdGVwcykge1xyXG4gICAgICAgICAgICB2YXIgcG9wVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQubmFtZSAhPT0gJ2dhbWVMb29wRXZlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9wdWxhdGVTZXJ2aWNlLmhhbmRsZUdhbWVMb29wIC0gSW52YWxpZCBldmVudDogJyArIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5wb3B1bGF0aW9uLmlzQnJlZWRpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgKz0gc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VsZi5zdGVwc1NpbmNlQnJlZWQgPj0gc2VsZi5icmVlZFN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgLT0gc2VsZi5icmVlZFN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzcHJpbmcgPSBzZWxmLnBvcHVsYXRpb24uYnJlZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc3ByaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiTmV3IG9mZnNwcmluZyEgXCIgKyBvZmZzcHJpbmcubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV9CSVJUSFMnLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcFVwZGF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRCcmVlZGVyID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5wdXNoKGlkKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciBhZGRlZDogXCIgKyBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCkubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHNlbGYuc3RlcHNTaW5jZUJyZWVkID0gMDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciByZW1vdmVkOiBcIiArIHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi51cGRhdGVNZW1iZXIgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCk7XHJcbiAgICAgICAgICAgIG1lbWJlci5nZW5lc1tnZW5lSW5kZXhdID0gZ2VuZVZhbHVlcztcclxuICAgICAgICAgICAgbWVtYmVyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdwb3B1bGF0aW9uVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24ubWVtYmVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnJlZWRlclVwZGF0ZUV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuU3Vic2NyaWJlR2FtZUxvb3BFdmVudCgkcm9vdFNjb3BlLCBzZWxmLmhhbmRsZUdhbWVMb29wKTtcclxuICAgICAgICBnYW1lU2VydmljZS5TdWJzY3JpYmVJbml0aWFsaXplRXZlbnQoJHJvb3RTY29wZSwgc2VsZi5pbml0KTtcclxuICAgIH1cclxuXSk7IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5hcHAuY29tcG9uZW50KCdibG9xaGVhZC5jb21wb25lbnRzLnRlc3RJbnRlcmZhY2UnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnXHJcbn0pO1xyXG5cclxuLy8gdGFiIGNvbXBvbmVudHNcclxuYXBwLmNvbXBvbmVudCgnYnJlZWRlclRhYicsIHtcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdHM6ICc9JyxcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiBbJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbihCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYubGFzdEJyZWVkZXJJRCA9IDA7XHJcbiAgICAgICAgc2VsZi5uZXdCcmVlZGVyR2VuZGVyID0gJ01hbGUnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNlbGYua2lsbEJyZWVkZXIgPSBmdW5jdGlvbih1bml0KSB7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdHMuc3BsaWNlKHNlbGYudW5pdHMuaW5kZXhPZih1bml0KSwgMSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHNlbGYuYWRkTmV3QnJlZWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2VuZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBnZW5lRGVmaW5pdGlvbnMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsMCwwXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBnZW5kZXIgPSAoc2VsZi5uZXdCcmVlZGVyR2VuZGVyID09ICdNYWxlJykgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICBnZW5lc1s0Ml0gPSBbZ2VuZGVyLCAyNTUgLSBnZW5kZXIsIDBdO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgICAgICBpZDogc2VsZi5sYXN0QnJlZWRlcklEKyssXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IDYsXHJcbiAgICAgICAgICAgICAgICBnZW5lczogZ2VuZXNcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB1bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXRzLnVuc2hpZnQodW5pdCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmh0bWwnXHJcbn0pO1xyXG5hcHAuY29tcG9uZW50KCdtYXRpbmdUYWInLCB7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXRzOiAnPScsXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvbWF0aW5nVGFiLmh0bWwnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5hcHAuY29tcG9uZW50KCdnZW5vbWVFZGl0b3InLHtcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJz0nXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbihnZW5lRGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgICAgICBzZWxmLmV4cGFuZG8gPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplTmFtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQubmFtZSA9IHNlbGYudW5pdC5nZXRSYW5kb21OYW1lKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5nZW5lc1tpbmRleF0gPSBbcmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSxyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpLHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemVBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLnVuaXQuZ2VuZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJhbmRvbWl6ZShpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBnZW5kZXIgPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwxKSA9PT0gMCA/IDI1NSA6IDA7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5nZW5lc1s0Ml0gPSBbZ2VuZGVyLCAyNTUgLSBnZW5kZXIsIDBdO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5hcHAuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMudGVzdEludGVyZmFjZScsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ2dhbWVTZXJ2aWNlJywgJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCBnYW1lU2VydmljZSwgQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cclxuXHJcblxyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgc2VsZi50cmFpdERlZmluaXRpb25zID0gdHJhaXREZWZpbml0aW9ucztcclxuICAgICAgICAvL3NlbGYuZGlnZ2VycyA9IGdhbWVTZXJ2aWNlLmRpZ2dlcnM7XHJcbiAgICAgICAgc2VsZi51bml0cyA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vZ2FtZVNlcnZpY2UuU3Vic2NyaWJlQnJlZWRFdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBvZmZzcHJpbmcpIHtcclxuICAgICAgICAvLyAgICAvLyRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7IHNlbGYuZGlnZ2VyT2Zmc3ByaW5nID0gb2Zmc3ByaW5nOyB9KTtcclxuICAgICAgICAvL30pO1xyXG4gICAgICAgIC8vZ2FtZVNlcnZpY2UuU3Vic2NyaWJlTmV3R2VuZXJhdGlvbkV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAvLyAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICAgICBzZWxmLmRpZ2dlcnMgPSBkYXRhLkRpZ2dlcnM7XHJcbiAgICAgICAgLy8gICAgICAgIC8vc2VsZi5kaWdnZXJBbmNlc3RvcnMgPSBkYXRhLkFuY2VzdG9ycztcclxuICAgICAgICAvLyAgICB9KTtcclxuICAgICAgICAvL30pO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGRpZ2dlckluZGV4LCBnZW5lSW5kZXgsIHZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IHNlbGYudW5pdHNbZGlnZ2VySW5kZXhdO1xyXG4gICAgICAgICAgICBkaWdnZXIuZ2VuZXNbZ2VuZUluZGV4XSA9IHZhbHVlcztcclxuICAgICAgICAgICAgZGlnZ2VyLnVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgKi9cclxuXHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZFBsYXllckJveCcsIHtcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICByZXF1aXJlOiB7XHJcbiAgICAgICAgbWFpbkN0cmw6IFwiXmJsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWVcIlxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94Lmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnBsYXllckJveCcsXHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHRpdGxlOiAnQCcsXHJcbiAgICAgICAgZm9vdGVyOiAnQCdcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5wbGF5ZXJCb3gnLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYudW5pdCA9IHNlbGYubWFpbkN0cmwudW5pdDtcclxuICAgIH07XHJcbn0pOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2hvbWUuaHRtbCcsXG4gICAgJzxuYXYgY2xhc3M9XCJuYXZiYXIgbmF2YmFyLWludmVyc2UgbmF2YmFyLWZpeGVkLXRvcFwiPjxkaXYgY2xhc3M9XCJjb250YWluZXItZmx1aWRcIj48dWwgY2xhc3M9XCJuYXYgbmF2YmFyLW5hdlwiPjxsaT48YSB1aS1zcmVmPVwiaG9tZS5tYWluXCI+TWFpbjwvYT48L2xpPjxsaT48YSB1aS1zcmVmPVwiaG9tZS50ZXN0XCI+VGVzdCBJbnRlcmZhY2U8L2E+PC9saT48L3VsPjxibG9xaGVhZC1nYW1lLWNvbnRyb2wgY2xhc3M9XCJuYXZiYXItYnJhbmQgbmF2YmFyLXJpZ2h0XCI+PC9ibG9xaGVhZC1nYW1lLWNvbnRyb2w+PC9kaXY+PC9uYXY+PGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbG9nL2xvZy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImxvZy1jb21wb25lbnRcIj48dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+PGxpIG5nLXJlcGVhdD1cIml0ZW0gaW4gJGN0cmwubWVzc2FnZXMgdHJhY2sgYnkgJGluZGV4XCIgbmctY2xhc3M9XCIkY3RybC5nZXRMb2dDbGFzcyhpdGVtLnR5cGUpXCI+WzxzcGFuIG5nLWJpbmQ9XCJpdGVtLnRpbWVzdGFtcHxkYXRlOlxcJ01NL2RkIEhIOm1tOnNzXFwnXCI+PC9zcGFuPl0mbmJzcDsgPHNwYW4gbmctYmluZD1cIml0ZW0ubWVzc2FnZVwiPjwvc3Bhbj48L2xpPjwvdWw+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbWFpbkdhbWUvYnJlZWRlci5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImJsb3FoZWFkLWNvbXBvbmVudFwiPjxoND57eyRjdHJsLnVuaXQubmFtZX19IDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIG5nLXJlcGVhdD1cInRyYWl0IGluICRjdHJsLnVuaXQudHJhaXRzXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgcmVsPVwidG9vbHRpcFwiIHRpdGxlPVwie3t0cmFpdC5uYW1lfX1cIj48L2k+PC9oND48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7eyRjdHJsLnVuaXQucmVkR3JlZW5JbWFnZX19XCI+PHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGdlbm9tZUVkaXRvclwiPjx0aGVhZD48dHI+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPlNUUjwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPklOVDwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkVORDwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkNIUjwvdGg+PHRoIHN0eWxlPVwid2lkdGg6IDIwJVwiPkxDSzwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48dHI+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuU1RSXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuSU5UXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuRU5EXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuQ0hSXCI+PC9zcGFuPjwvdGQ+PHRkPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuTENLXCI+PC9zcGFuPjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtNCBjb2wtbGctM1wiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJHb2Fsc1wiPjxibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJSZXNvdXJjZXNcIj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtNCBjb2wtbGctNlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLWxnLThcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIkxvZ1wiPjxibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiPz8/XCI+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1sZy02XCIgbmctcmVwZWF0PVwiYnJlZWRlcmlkIGluICRjdHJsLmJyZWVkZXJzXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJCcmVlZGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwucmVtb3ZlQnJlZWRlcihicmVlZGVyaWQpXCI+PHNwYW4+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiJGN0cmwucG9wdWxhdGlvblticmVlZGVyaWRdXCI+PC9ibG9xaGVhZC1icmVlZGVyPjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC00IGNvbC1sZy0zXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJQb3B1bGF0aW9uIFt7eyRjdHJsLnBvcHVsYXRpb24ubGVuZ3RofX0gLyB7eyRjdHJsLm1heFBvcHVsYXRpb259fV0gXCI+PGRpdiBuZy1yZXBlYXQ9XCJjaGlsZCBpbiAkY3RybC5wb3B1bGF0aW9uXCI+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cImNoaWxkXCIgdXBkYXRlLWdlbmU9XCIkY3RybC51cGRhdGVHZW5lKCRpbmRleCwgJGdlbmVJbmRleCwgJHZhbHVlcywgZmFsc2UpXCI+PC9ibG9xaGVhZC1icmVlZGVyPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY3RybC5hZGRCcmVlZGVyKGNoaWxkLmlkKVwiPkJyZWVkIE1lPC9idXR0b24+PC9kaXY+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIodW5pdClcIj48c3Bhbj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjxnZW5vbWUtZWRpdG9yIHVuaXQ9XCJ1bml0XCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg0PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplTmFtZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+IHt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIiBuZy1jbGljaz1cIiRjdHJsLmV4cGFuZG8gPSAhJGN0cmwuZXhwYW5kb1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cIkNsaWNrIHRvIGV4cGFuZC9jb2xsYXBzZVwiPjxkaXYgbmctc2hvdz1cIiRjdHJsLmV4cGFuZG9cIiBzdHlsZT1cImhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IHNjcm9sbDsgbWFyZ2luLXRvcDo1cHhcIj48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3IgdGFibGUgdGFibGUtY29uZGVuc2VkXCI+PHRoZWFkPjx0cj48dGg+Jm5ic3A7PC90aD48dGg+RG9taW5hbnQ8L3RoPjx0aD5SZWNlc3NpdmU8L3RoPjx0aD5WYWx1ZXMgKEQvUi9NKTwvdGg+PHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIG5nLXJlcGVhdD1cImdlbmUgaW4gJGN0cmwuZ2VuZURlZmluaXRpb25zXCI+PHRkIG5nLWJpbmQ9XCIkaW5kZXhcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb21cIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5yZWNcIj48L3RkPjx0ZD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVsxXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMF1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPjwvdGQ+PHRkPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvbWF0aW5nVGFiLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPk1vdGhlcjoge3skY3RybC5tb3RoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubW90aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdGZW1hbGVcXCdcIiBuZy1iaW5kPVwidW5pdC5uYW1lXCI+PC9hPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkZhdGhlcjoge3skY3RybC5mYXRoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwuZmF0aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdNYWxlXFwnXCIgbmctYmluZD1cInVuaXQubmFtZVwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5tYXRlKClcIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5mYXRoZXIgfHwgISRjdHJsLm1vdGhlclwiPk1hdGU8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXY+PHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGEgZGF0YS10YXJnZXQ9XCIjYnJlZWRlcnNcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5CcmVlZGVyczwvYT48L2xpPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGEgZGF0YS10YXJnZXQ9XCIjbWF0aW5nXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+TWF0aW5nPC9hPjwvbGk+PC91bD48ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnRcIj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmUgYWN0aXZlXCIgaWQ9XCJicmVlZGVyc1wiPjxicmVlZGVyLXRhYiB1bml0cz1cIiRjdHJsLnVuaXRzXCI+PC9icmVlZGVyLXRhYj48L2Rpdj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmVcIiBpZD1cIm1hdGluZ1wiPjxtYXRpbmctdGFiIHVuaXRzPVwiJGN0cmwudW5pdHNcIj48L21hdGluZy10YWI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiPjxoMyBjbGFzcz1cInBhbmVsLXRpdGxlXCIgbmctYmluZD1cIiRjdHJsLnRpdGxlXCI+PC9oMz48L2Rpdj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT48L2Rpdj48ZGl2IGNsYXNzPVwicGFuZWwtZm9vdGVyXCI+PHNwYW4gbmctYmluZD1cIiRjdHJsLmZvb3RlclwiPjwvc3Bhbj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iXX0=
