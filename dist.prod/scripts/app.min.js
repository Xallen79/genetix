function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,r,a,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(r=0;r<i;r++)a=e[n][r],l.push(String.fromCharCode(a[2])+String.fromCharCode(a[1])+String.fromCharCode(a[0]));l.push(s)}return l.join("")}function n(e,t){var n,r,a,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),d=[];for(a=0;a<i;a++)for(d.push(n=[]),r=0;r<l;r++)n.push(e[parseInt(a/t)][parseInt(r/t)]);return d}window.generateBitmapDataURL=function(r,a){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;a=a||1,1!=a&&(r=n(r,a));var o,i=r.length,s=i?r[0].length:0,l=(4-3*s%4)%4,d=(3*s+l)*i,c=54+d;return i=e(i,4),s=e(s,4),d=e(d,4),c=e(c,4),o="BM"+c+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+d+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(r,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function r(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,r=[];if(3==n)for(;t<n;t++)r.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)r.push(parseInt("0x"+e.substring(t,t+2)));return r}:alert("Unparseable color: "+e)}function a(e){var a=t.getElementById(e).style.backgroundColor;return""===a?[255,255,255]:(o===n&&r(a),o(a))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var r,o,i,s,l,d=50,c=49,u=[];c>=0;c--)for(u.push(o=[]),r=0;r<d;r++)o.push(a(r+"_"+c));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),angular.module("bloqhead.genetixApp",["ui.router","lz-string","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$uibTooltipProvider",function(e,t,n,r){t.otherwise("/");var a=[];a.push({name:"home",url:"/",component:"bloqhead.components.home"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.achievements",url:"achievements",component:"bloqhead.components.achievementsUI"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)}),r.options({appendToBody:!0,placement:"top-left",popupCloseDelay:2})}]).run(["gameService",function(e){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.achievementsUI",{templateUrl:"components/achievements/achievements.html",controller:"bloqhead.controllers.achievementsUI",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.achievementsUI",function(){var e=this;e.$onInit=function(){}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadBuildingList",{templateUrl:"components/buildingList/buildingList.html",controller:"bloqhead.controllers.buildingList"}),game.controller("bloqhead.controllers.buildingList",["$scope","buildingService","$sce",function(e,t,n){var r=this;r.$onInit=function(){r.buildings=[],t.SubscribeBuildingsChangedEvent(e,r.updateBuildings)},r.updateBuildings=function(e,t){r.buildings=t;for(var n=0;n<t.length;n++)t[n].tooltip=r.getCostTooltip(t[n].costToBuild);console.log(t)},r.getCostTooltip=function(e){for(var t='<ul class="list-group">',r=0;r<e.length;r++)t+='<li class="list-group-item"><span>'+e[r].amount+"</span> <span>"+e[r].resource+"</span></li>";return t+="</ul>",n.trustAsHtml(t)}}]);var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],r=0;r<e.length;r++)e[r].hasTrait(t)&&n.push(e[r]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t,n){var r=Math.random(),a=n/255,o=angular.copy(r<=s.crossoverrate?e:t);o[0]/=a,o[1]/=a;for(var i=o[2]/255,l="",d="",c=0;c<8;c++)l+=Math.random()<i?"1":"0",d+=Math.random()<i?"1":"0";o[0],o[1];return o[0]^=parseInt(l,2),o[1]^=parseInt(d,2),o[0]*=a,o[1]*=a,o}function r(e,t){return generateBitmapDataURL(o(a(e,t),e.length),20)}function a(e,t){for(var n=[],r=1+t/50,a=205/t,o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],l=Math.abs(i-s)*a;i>s?(i=l,i*=r,s=0):(i=0,s=l,s*=r),i>255&&(i=255),s>255&&(s=255),n.push([i,s,0])}return n}function o(e,t){for(var n=[],r=0;r<e.length/t;r++){for(var a=[],o=0;o<t;o++)a.push(e[o+r*t]);n.push(a)}return n}var i=function(e){this.traitInspector=new t,this.update(e)};i.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.genes=e.genes||this.genes||[],this.breederGeneCap=e.breederGeneCap||this.breederGeneCap||25,this.redGreenImage=r(this.genes,this.breederGeneCap),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes),this.name=this.name&&"Unknown Gender"!==this.name?this.name:e.name||this.getRandomName()},i.prototype.breed=function(e,t){for(var r=this,a=e,o=this.hasTrait("Male")?"Male":"Female",s=new i({id:t,generation:r.generation+1,genes:[],mother:"Female"==o?r:a,father:"Male"==o?r:a}),l=0;l<r.genes.length;l++){var d=r.genes[l],c=a.genes[l];s.genes.push(n(d,c,this.breederGeneCap))}return s.update(),s},i.prototype.getTraits=function(){return this.traits},i.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},i.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?l[randomIntFromInterval(0,l.length-1)]:d[randomIntFromInterval(0,d.length-1)],t=c[randomIntFromInterval(0,c.length-1)]+u[randomIntFromInterval(0,u.length-1)]+p[randomIntFromInterval(0,p.length-1)];return e+t};var s={crossoverrate:.5},l=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],d=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],c=["","","","","","Van ","Von ","O'","Mc","Mc"],u=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],p=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return i}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){if(e=e||{},this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.breeders=e.breeders||this.breeders||[],this.breederLimit=e.breederLimit||this.breederLimit||0,this.maxSize=e.maxSize||this.maxSize||10,this.breederMutationBits=e.breederMutationBits||this.breederMutationBits||4,this.breederMutationChance=e.breederMutationChance||this.breederMutationChance||5,this.breederGenesUnlocked=e.breederGenesUnlocked||this.breederGenesUnlocked||[42],this.initialSize=e.initialSize||this.initialSize||2,e.members){this.members=[];for(var r=0;r<e.members.length;r++){var a=e.members[r],o=new t({id:a.id,mother:a.mother||null,father:a.father||null,generation:a.generation,genes:a.genes,mutationBits:a.mutationBits,name:a.name});o.update(),this.members.push(o)}}else this.members=this.members||this.createInitialPopulation(this.initialSize)},r.prototype.getState=function(){for(var e={currentGeneration:this.currentGeneration,breeders:this.breeders,breederLimit:this.breederLimit,maxSize:this.maxSize,breederMutationBits:this.breederMutationBits,breederMutationChance:this.breederMutationChance,breederGenesUnlocked:this.breederGenesUnlocked,initialSize:this.initialSize,members:[]},t=0;t<this.members.length;t++){var n=this.members[t];e.members.push({id:n.id,generation:n.generation,genes:n.genes,mutationBits:n.mutationBits,name:n.name})}return e},r.prototype.createInitialPopulation=function(e){for(var n=this,r=[],a=0;a<e;a++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),n.breederGenesUnlocked.indexOf(i)!==-1&&(o[i][2]=n.breederMutationChance);var s=a%2===0?255:0,l=a%2===0?0:255;o[42][0]=s,o[42][1]=l,o[42][2]=0;var d=new t({id:a,generation:0,genes:angular.copy(o),mutationBits:n.breederMutationBits});d.update(),r.push(d)}return r},r.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var r=this.getById(this.breeders[n]);if(r.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},r.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},r.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},r.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),r=t.breed(n,e.members.length);return e.members.push(r),r},r}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},r=function(e){if(angular.isDefined(e.requiredTraits))for(var a=0;a<e.requiredTraits.length;a++){var o=e.requiredTraits[a],i=n(o);t.indexOf(i.name)===-1&&r(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},a=function(){for(var t=0;t<e.length;t++){var n=e[t];r(n)}return e};return a()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){"undefined"==typeof e&&(e={})},r.prototype.getTraits=function(e){var t=[];if(e.length)for(var r=0;r<n.length;r++){for(var a=n[r],o=!0,i=0;i<a.genes.length&&o===!0;i++){var s=a.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(a)}return t},r.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,r=0,a=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?r+=e[s][1]-e[s][0]:s<30?a+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt((Math.abs(n)+20)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt((Math.abs(r)+20)/25))*(r<0?-1:1),t.END=Math.floor(Math.sqrt((Math.abs(a)+20)/25))*(a<0?-1:1),t.CHR=Math.floor(Math.sqrt((Math.abs(o)+20)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt((Math.abs(i)+20)/25))*(i<0?-1:1)}return t},r}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div><button title="Hard Reset" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.resetSave();"><i class="fa fa-recycle"></i></button><button title="Play/Pause" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["$scope","gameService","gameLoopService","gameStates",function(e,t,n,r){var a=this;a.$onInit=function(){a.currentState=n.getState().currentState},a.toggleState=function(){a.currentState=a.currentState===r.RUNNING?r.PAUSED:r.RUNNING,n.setState(a.currentState)},a.getIcon=function(){return a.currentState===r.RUNNING?"fa-pause":"fa-play"},a.resetSave=function(){t.hardReset()}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.home"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.home",{templateUrl:"components/home.html",controller:"bloqhead.controllers.home"}),game.controller("bloqhead.controllers.home",function(){this.$onInit=function(){}}),game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService","achievementService","resourceService",function(e,t,n,r){var a=this;a.$onInit=function(){a.breeders=[],a.population=[],a.maxPopulation=0,a.maxBreeders=0,t.SubscribePopulationUpdateEvent(e,a.updatePopulation),t.SubscribeBreederUpdateEvent(e,a.updateBreeders),n.SubscribeNewRewardEvent(e,a.rewardEarned)},a.rewardEarned=function(e,t){console.log(t)},a.updateGene=function(e,n,r){t.updateMember(e,n,r)},a.addBreeder=function(e){t.addBreeder(e)},a.removeBreeder=function(e){t.removeBreeder(e)},a.updateBreeders=function(e,t){a.breeders=t},a.updatePopulation=function(e,t){a.population=t.population,a.maxPopulation=t.maxSize,a.breederLimit=t.breederLimit}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<",allowAssign:"<",assign:"&"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){e.allowAssign=!angular.isDefined(e.allowAssign)||e.allowAssign},e.assignMe=function(){e.assign({$id:e.unit.id})}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2,ACHIEVEMENT:3}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var r=this;r.$onInit=function(){r.messages=[],t.SubscribeNewMessageEvent(e,r.receiveMessages)},r.getLogClass=function(e){var t="list-group-item-",r="";switch(e){case n.GENERAL:r="color-general";break;case n.ACHIEVEMENT:r="color-achievement";break;case n.BREED:r="color-breed";break;default:r=t+"none"}return r},r.receiveMessages=function(e,t){r.messages=t,$(".log-component")[0].scrollTop=$(".log-component")[0].scrollHeight}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(e){e&&(n.messages=[],n.logGeneralMessage("Welcome to Genetix!"))},n.logGeneralMessage=function(r){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:r}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(r){n.messages.push({type:t.BREED,timestamp:Date.now(),message:r}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logAchievementMessage=function(r){n.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:r}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,r){var a=e.$on("newMessageEvent",r.bind(this));t.$on("$destroy",a),e.$emit("newMessageEvent",n.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.constant("achievementSetup",{achievements:{A_BIRTHS:{aid:"A_BIRTHS",name:"The Chosen One",desc:"Create a new unit",ranks:[[1,[["P_R_BONUS","GOLD",5],["P_R_BONUS","WOOD",100],["P_R_BONUS","DIRT",5e3]]],[20,[["P_R_BONUS","GOLD",50],["P_M_HAPPINESS"],["P_G_ENHANCED",14,10]]]]},A_DIRT:{aid:"A_DIRT",name:"Its Dirt....",desc:"Earn dirt.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_DIRT_C:{aid:"A_DIRT_C",name:"Dirt Hoarder",desc:"Aquire dirt... lots and lots of dirt!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_BRICKS:{aid:"A_BRICKS",name:"bricks",desc:"Earn bricks.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_BRICKS_C:{aid:"A_BRICKS_C",name:"Brick Hoarder",desc:"Aquire bricks... lots and lots of bricks!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WATER:{aid:"A_WATER",name:"omnomnom",desc:"Earn water.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WATER_C:{aid:"A_WATER_C",name:"Water Hoarder",desc:"Aquire water... lots and lots of water!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WOOD:{aid:"A_WOOD",name:"tree guts",desc:"Earn wood.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WOOD_C:{aid:"A_WOOD_C",name:"Wood Hoarder",desc:"Aquire wood... lots and lots of wood!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_GOLD:{aid:"A_GOLD",name:"Oooohhh Shiiiiiny",desc:"Earn gold.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_GOLD_C:{aid:"A_GOLD_C",name:"Gold Hoarder",desc:"Aquire gold... lots and lots of gold!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_HAPPINESS:{aid:"A_HAPPINESS",name:"be happy mon",desc:"Earn happiness.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_HAPPINESS_C:{aid:"A_HAPPINESS_C",name:"Happyness",desc:"Aquire happiness... lots and lots of happiness!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]}},perks:{P_M_HAPPINESS:{pid:"P_M_HAPPINESS",name:"New Mechanic: Happiness",desc:"Happiness is a representation of how content your population is.",once:!0},P_R_MULTIPLIER:{pid:"P_R_MULTIPLIER",name:"Resource Muliplier",desc:"The rate that you aquire [%1] has been increased by [%2]x."},P_R_BONUS:{pid:"P_R_BONUS",name:"Bonus Resources",desc:"[%2] [%1] has been added to your coffers."},P_G_ENHANCED:{pid:"P_G_ENHANCED",name:"Gene Enhancement",desc:"The boundary has been increased by [%amt] for one of your [%attr] genes. ([%dom]/[%rec])"}}}),game.service("achievementService",["$rootScope","$filter","logService","achievementSetup","geneDefinitions","resourceTypes",function(e,t,n,r,a,o){var i=this;i.init=function(e){e?i.progress={achievements:e.achievements,perks:e.perks}:i.progress={achievements:[],perks:[]}},i.getState=function(){return{achievements:i.progress.achievements,perks:i.progress.perks}},i.updateProgress=function(t,a){var o=i.progress.achievements[t];o||(o={aid:t,amount:0},i.progress.achievements[t]=o);var s=o.amount,l=o.amount+a;o.amount=l;for(var d=r.achievements[t],c=0;c<d.ranks.length;c++){var u=d.ranks[c][0];if(u>s&&u<=l){var p={achievement:d,amountRequired:u,perks:[]};n.logAchievementMessage("Achievement Earned - "+d.name+" ("+u+")");for(var m=0;m<d.ranks[c][1].length;m++){var g=i.applyPerk(d.ranks[c][1][m]);null!==g&&p.perks.push(g)}e.$emit("newRewardEvent",p)}}},i.applyPerk=function(e){var s=e[0],l=r.perks[s];if(l.once){var d=t("filter")(i.progress.perks,{pid:s});if(0!==d.length)return null}var c=l.name+" - "+l.desc;switch(l.pid){case"P_G_ENHANCED":var u=a[e[1]];c=c.replace("[%dom]",u.dom),c=c.replace("[%rec]",u.rec),c=c.replace("[%attr]",u.attr[0]),c=c.replace("[%amt]",e[2]);break;case"P_R_BONUS":case"P_R_MULTIPLIER":c=c.replace("[%1]",o[e[1]].name),c=c.replace("[%2]",e[2]);break;default:for(var p=1;p<e.length;p++)c=c.replace("[%"+p+"]",e[p])}n.logAchievementMessage(c);var m={pid:s,msg:c,arr:e,dt:(new Date).toUTCString()};return i.progress.perks.push(m),m},i.SubscribeNewRewardEvent=function(t,n){var r=e.$on("newRewardEvent",n.bind(this));t.$on("$destroy",r)}}]);var game=angular.module("bloqhead.genetixApp");game.constant("defaultBuildings",{BUNGALOW:{name:"Breeding Bungalow",description:"A private bungalow where the magic happens.",use:"breeding",size:2,baseCost:[{resource:"DIRT",amount:25,costMultiplier:1.05}],purchased:0,gifted:1,unlocked:1},DIRTPILE:{name:"Dirt pile",description:"Where else would you store dirt?",use:"storage",stores:"DIRT",size:25,baseCost:[{resource:"DIRT",amount:10,costMultiplier:1.25}],purchased:0,gifted:1,unlocked:1},SODHOUSE:{name:"Sod house",description:"Provides minimal shelter for {size} things.",use:"housing",size:5,baseCost:[{resource:"DIRT",amount:5,costMultiplier:1.05},{resource:"WATER",amount:5,costMultiplier:1.05}],purchased:0,gifted:1,unlocked:1},WELL:{name:"Well",description:"Used for water production.",use:"production",produces:"WATER",size:5,baseCost:[{resource:"BRICKS",amount:100,costMultiplier:1.05}],purchased:0,gifted:0,unlocked:0}}),game.service("buildingService",["$rootScope","defaultBuildings","resourceTypes","resourceService","populationService",function(e,t,n,r,a){var o=this;o.init=function(e){o.state=e||{},o.state.buildings=angular.merge({},t,e.buildings),o.updateStorage(),o.updateBreeders(),o.updateHousing()},o.getState=function(){return o.state},o.getBuildingSnapshot=function(){var e=[];for(var t in o.state.buildings)if(o.state.buildings.hasOwnProperty(t)){var n=o.state.buildings[t];n.unlocked&&e.push({name:n.name,description:o.formatDescription(n),owned:n.purchased+n.gifted,costToBuild:o.calculateNextCost(n)})}return e},o.formatDescription=function(e){var t=e.description;if(t.indexOf("{size}")!==-1){var n=e.size*(e.multiplier||1);"breeding"===e.use&&(n*=o.state.breedingSizeMultiplier||1),"storage"===e.use&&(n*=o.state.storageSizeMultiplier||1),"housing"===e.use&&(n*=o.state.housingSizeMultiplier||1),t=t.replace(/{size}/g,n)}return t},o.calculateNextCost=function(e){for(var t=[],r=0;r<e.baseCost.length;r++){var a=e.baseCost[r],o=a.amount*Math.pow(a.costMultiplier,e.purchased);t.push({resource:n[a.resource].name,amount:o})}return t},o.updateBreeders=function(){var e=0,t=o.state.breedingSizeMultiplier||1;for(var n in o.state.buildings)if(o.state.buildings.hasOwnProperty(n)){var r=o.state.buildings[n];if("breeding"===r.use){var i=r.sizeMultiplier||1;e+=Math.floor(r.size*i)}}e*=t,a.setBreederLimit(Math.floor(e))},o.updateStorage=function(){var e=o.state.storageSizeMultiplier||1,t=r.getResourcesSnapshot(),n=[];for(var a in o.state.buildings)if(o.state.buildings.hasOwnProperty(a)){var i=o.state.buildings[a];if("storage"===i.use){n.push(i.stores);var s=i.multiplier||1;t[i.stores].newAmount=t[i.stores].newAmount||0,t[i.stores].newAmount+=Math.floor(i.size*s)}}n.filter(function(n){t[n].newAmount=Math.floor(t[n].newAmount*e),t[n][1]!=t[n].newAmount&&r.setResourceLimit(n,t[n].newAmount)})},o.updateHousing=function(){var e=o.state.housingSizeMultiplier||1,t=0;for(var n in o.state.buildings)if(o.state.buildings.hasOwnProperty(n)){var r=o.state.buildings[n];if("housing"===r.use){var i=r.multiplier||1;t+=Math.floor(r.size*i)}}a.setPopulationLimit(Math.floor(t*e))},o.SubscribeBuildingsChangedEvent=function(t,n){var r=e.$on("buildingsChangedEvent",n.bind(this));t&&t.$on("$destroy",r),e.$emit("buildingsChangedEvent",o.getBuildingSnapshot())}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameSaveKey","GENETIX_SAVE"),game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.constant("defaultState",{clearLog:!0,autoSaveSteps:30,gameLoopServiceState:{stepTimeMs:1e3},populationServiceState:{breedSteps:6,populationState:{initialSize:2,maxSize:5,breederGeneCap:100,breederGenesUnlocked:[0,42],breederMutationChance:10}},achievementServiceState:{achievements:[],perks:[]},resourceServiceState:{resources:{}},buildingServiceState:{buildings:{}}}),game.service("gameLoopService",["$window","$rootScope","gameStates","logService",function(e,t,n,r){var a=this;a.initialized=!1,a.init=function(e){e=e||{},a.stepTimeMs=e.stepTimeMs||a.stepTimeMs||1e3,a.lastTime=0,a.currentState=n.PAUSED,a.initialized||(a.initialized=!0,a.gameLoop(0)),a.currentState=e.currentState||a.currentState||n.RUNNING},a.getState=function(){return{stepTimeMs:a.stepTimeMs,currentState:a.currentState}},a.setState=function(e){a.currentState=e,e===n.PAUSED?r.logGeneralMessage("Game paused."):r.logGeneralMessage("Game resumed.")},a.gameLoop=function(r){for(var a=this,o=0;a.lastTime+r>a.stepTimeMs*(o+1);)o++;a.lastTime=a.lastTime-a.stepTimeMs*o,a.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},a.SubscribeGameLoopEvent=function(e,n){var r=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",r)}}]),game.service("gameService",["$rootScope","gameSaveKey","defaultState","logService","gameLoopService","populationService","achievementService","resourceService","buildingService","LZString",function(e,t,n,r,a,o,i,s,l,d){var c=this;c.init=function(e){var r=d.decompressFromBase64(localStorage.getItem(t)),a=r?angular.fromJson(r):void 0;c.gameState=e||a||n,c.autoSaveSteps=c.gameState.autoSaveSteps||c.autoSaveSteps||10,c.startGame(),c.stepsSinceSave=0},c.startGame=function(){r.init(c.gameState.clearLog),o.init(angular.merge({},n.populationServiceState,c.gameState.populationServiceState)),s.init(angular.merge({},n.resourceServiceState,c.gameState.resourceServiceState)),i.init(angular.merge({},n.achievementServiceState,c.gameState.achievementServiceState)),l.init(angular.merge({},n.buildingServiceState,c.gameState.buildingServiceState)),a.init(angular.merge({},n.gameLoopServiceState,c.gameState.gameLoopServiceState))},c.hardReset=function(){localStorage.removeItem(t),c.init()},a.SubscribeGameLoopEvent(e,function(e,n){if(c.stepsSinceSave+=n,c.stepsSinceSave>c.autoSaveSteps){var u=angular.copy(c.gameState);u.populationServiceState=angular.copy(o.getState()),u.resourceServiceState=angular.copy(s.getState()),u.achievementServiceState=angular.copy(i.getState()),u.buildingServiceState=angular.copy(l.getState()),u.gameLoopServiceState=angular.copy(a.getState());var p=d.compressToBase64(angular.toJson(angular.copy(u)));localStorage.setItem(t,p),r.logGeneralMessage("Game autosaved."),c.stepsSinceSave=0}})}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameLoopService","Population","logService","achievementService",function(e,t,n,r,a){var o=this;o.init=function(e){e=e||{},o.breedSteps=e.breedSteps||e.breedSteps||6,o.stepsSinceBreed=e.stepsSinceBreed||o.stepsSinceBreed||0,o.populationState=e.populationState||o.populationState,o.population=o.populationState?new n(o.populationState):o.population||new n,o.logService=r,o.sendBreederUpdateEvent(),o.sendPopulationUpdateEvent()},o.getState=function(){var e={breedSteps:o.breedSteps,stepsSinceBreed:o.stepsSinceBreed};return e.populationState=o.population.getState(),e},o.handleGameLoop=function(e,t){var n=!1;if("gameLoopEvent"!==e.name)return void console.log("populateService.handleGameLoop - Invalid event: "+e);if(o.population.isBreeding()){for(o.stepsSinceBreed+=t;o.stepsSinceBreed>=o.breedSteps;){o.stepsSinceBreed-=o.breedSteps;var i=o.population.breed();if(null!==i){r.logBreedMessage("New offspring! "+i.name);for(var s=0,l=0,d=0,c=0,u=0,p=i.genes,m=0;m<p.length;m++)m<10?s+=p[m][1]-p[m][0]:m<20?l+=p[m][1]-p[m][0]:m<30?d+=p[m][1]-p[m][0]:m<40?c+=p[m][1]-p[m][0]:u+=p[m][1]-p[m][0];console.log(s),a.updateProgress("A_BIRTHS",1),n=!0}}n&&o.sendPopulationUpdateEvent()}},o.addBreeder=function(e){o.population.breeders.indexOf(e)===-1&&o.population.breeders.length<o.population.breederLimit&&(o.population.breeders.push(e),o.sendBreederUpdateEvent(),o.logService.logBreedMessage("Breeder added: "+o.population.getById(e).name))},o.removeBreeder=function(e){var t=o.population.breeders.indexOf(e);t!==-1&&(o.population.breeders.splice(t,1),o.population.isBreeding()||(o.stepsSinceBreed=0),o.sendBreederUpdateEvent(),o.logService.logBreedMessage("Breeder removed: "+o.population.getById(e).name))},o.updateMember=function(e,t,n){var r=o.population.getById(e);r.genes[t]=n,r.update(),o.sendPopulationUpdateEvent()},o.setBreederLimit=function(e){o.population.breederLimit=e,o.sendPopulationUpdateEvent()},o.setPopulationLimit=function(e){o.population.maxSize=e,o.sendPopulationUpdateEvent()},o.sendBreederUpdateEvent=function(){e.$emit("breederUpdateEvent",o.population.breeders)},o.sendPopulationUpdateEvent=function(){e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize,breederLimit:o.population.breederLimit})},o.SubscribeBreederUpdateEvent=function(t,n){var r=e.$on("breederUpdateEvent",n);t.$on("$destroy",r),o.sendBreederUpdateEvent()},o.SubscribePopulationUpdateEvent=function(t,n){var r=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",r),o.sendPopulationUpdateEvent()},t.SubscribeGameLoopEvent(e,o.handleGameLoop)}]);var game=angular.module("bloqhead.genetixApp");game.constant("resourceTypes",{DIRT:{name:"Dirt",desc:"Used in construction and mining.",attr:"STR"},BRICKS:{name:"Bricks",desc:"Used in construction and smelting.",attr:"STR"},STEEL:{name:"Steel",desc:"Used in advanced construction.",attr:"STR"},WATER:{name:"Water",desc:"Used in construction, mining and population expansion.",attr:"END"},WOOD:{name:"Wood",desc:"Used in construction and mining.",attr:"END"},GOLD:{name:"Gold",desc:"Used for purchasing gene research technologies.",attr:"INT"},SCIENCE:{name:"Science",desc:"Used in genetic modification and advanced construction.",attr:"INT"},HAPPINESS:{name:"Happiness",desc:"Good things happen to those that are happy...",attr:"CHR"},EVOCOIN:{name:"Evo-Coins",desc:"A rare commodity indeed. Used to discover traits.",attr:"LCK"}}),game.service("resourceService",["$rootScope","$filter","logService","geneDefinitions","resourceTypes","achievementService",function(e,t,n,r,a,o){var i=this,s=!1;i.init=function(t){null!==t&&(i.state=t),s||o.SubscribeNewRewardEvent(e,i.rewardEarned),s=!0;var n=!1,r={DIRT:[0,0,!0],BRICKS:[0,0,n],
WATER:[0,0,n],WOOD:[0,0,n],GOLD:[0,0,n],HAPPINESS:[0,-1,n],SCIENCE:[0,-1,n],STEEL:[0,0,n],EVOCOIN:[0,-1,n]};for(var l in a)if(a.hasOwnProperty(l)){var d=i.state.resources[l];"undefined"==typeof d&&(d=r[l]||[0,911,!1],i.state.resources[l]=d),e.$emit("resourceChangedEvent",l,d[0]),e.$emit("resourceLimitChangedEvent",l,d[1]),e.$emit("resourceEnabledEvent",l,d[2])}},i.getState=function(){return i.state},i.rewardEarned=function(t,n){for(var r=0;r<n.perks.length;r++){var a=n.perks[r];"P_R_BONUS"===a.pid&&i.addResource(a.arr[1],a.arr[2]),"P_M_HAPPINESS"===a.pid&&(i.state.resources.HAPPINESS[2]=!0,e.$emit("resourceEnabledEvent","HAPPINESS",!0))}},i.getResourcesSnapshot=function(){return angular.copy(i.state.resources)},i.addResource=function(t,n){var r=i.state.resources[t];return r[2]===!1&&r[1]!==-1?void console.error(t+" is not enabled, cannot increase amount."):(r[0]+=n,r[1]!=-1&&r[0]>r[1]&&(r[0]=r[1]),r[0]<0&&(r[0]=0),o.updateProgress("A_"+t,n),o.updateProgress("A_"+t+"_C",r[0]),r[2]===!1&&(e.$emit("resourceEnabledEvent",t,!0),r[2]=!0),void e.$emit("resourceChangedEvent",t,r[0]))},i.setResourceLimit=function(t,n){var r=i.state.resources[t];return r[1]===-1?void console.error("Cannot set resource limit on: "+t):(r[1]=n,r[2]===!1&&n>0&&(r[2]=!0,e.$emit("resourceEnabledEvent",t,!0)),void e.$emit("resourceLimitChangedEvent",t,r[1]))},i.SubscribeResourceChangedEvent=function(t,n){var r=e.$on("resourceChangedEvent",n.bind(this));t&&t.$on("$destroy",r)},i.SubscribeResourceLimitChangedEvent=function(t,n){var r=e.$on("resourceLimitChangedEvent",n.bind(this));t&&t.$on("$destroy",r)},i.SubscribeResourceEnabledEvent=function(t,n){var r=e.$on("resourceEnabledEvent",n.bind(this));t&&t.$on("$destroy",r)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadResourceList",{templateUrl:"components/resourceList/resourceList.html",controller:"bloqhead.controllers.resourceList"}),game.controller("bloqhead.controllers.resourceList",["$scope","resourceService","resourceTypes",function(e,t,n){var r=this;r.resourceTypes=n,r.resources={},r.$onInit=function(){t.SubscribeResourceChangedEvent(e,r.resourceChanged),t.SubscribeResourceLimitChangedEvent(e,r.resourceLimitChanged),t.SubscribeResourceEnabledEvent(e,r.resourceEnabled),r.resources=t.getResourcesSnapshot()},r.getUnlockedResources=function(){var e={};for(var t in r.resources)r.resources.hasOwnProperty(t)&&r.resources[t][2]===!0&&(e[t]=r.resources[t]);return e},r.resourceChanged=function(e,t,n){r.resources[t]||(r.resources[t]=[]),r.resources[t][0]=n},r.resourceLimitChanged=function(e,t,n){r.resources[t]||(r.resources[t]=[]),r.resources[t][1]=n},r.resourceEnabled=function(e,t,n){r.resources[t][2]=n}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var r=this;r.lastBreederID=0,r.newBreederGender="Male",r.killBreeder=function(e){r.units.splice(r.units.indexOf(e),1)},r.addNewBreeder=function(){for(var n=[],a=0;a<t.length;a++)n.push([0,0,0]);var o="Male"==r.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:r.lastBreederID++,generation:0,scale:6,genes:n});i.update(),r.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,r,a,o){var i=this;i.$onInit=function(){i.geneDefinitions=a,i.traitDefinitions=o,i.units=[]}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<div class="row"><div class="col-xs-12 col-md-6 col-lg-4"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"><bloqhead-resource-list></bloqhead-resource-list></bloqhead-player-box></div></div></div><div class="col-xs-12 col-md-6 col-lg-8"><div ui-view=""></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/achievements/achievements.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Achievements"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/buildingList/buildingList.html",'<div class="col-xs-12" title=""><div class="row"><div class="col-xs-2">Building</div><div class="col-xs-offset-1 col-xs-2">Owned</div><div class="col-xs-4">Cost to Build</div></div><div class="row" ng-repeat="building in $ctrl.buildings"><div class="col-xs-5"><h5 uib-tooltip="{{building.description}}">{{building.name}}</h5></div><div class="col-xs-offset-1 col-xs-2"><span ng-bind="building.owned"></span></div><div class="col-xs-4"><button class="btn btn-sm btn-primary" uib-tooltip="{{building.tooltip}}">Build</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div ng-if="angular.isDefined($ctrl.footer)" class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h5>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-container="body" data-toggle="tooltip" rel="tooltip" data-placement="top" title="{{trait.name}}"></i></h5><table class="genomeEditor"><thead><tr><th colspan="5"><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"></th></tr><tr><th style="width: 20%">STR</th><th style="width: 20%">INT</th><th style="width: 20%">END</th><th style="width: 20%">CHR</th><th style="width: 20%">LCK</th></tr></thead><tbody><tr><td><span ng-bind="$ctrl.unit.attributes.STR"></span></td><td><span ng-bind="$ctrl.unit.attributes.INT"></span></td><td><span ng-bind="$ctrl.unit.attributes.END"></span></td><td><span ng-bind="$ctrl.unit.attributes.CHR"></span></td><td><span ng-bind="$ctrl.unit.attributes.LCK"></span></td></tr></tbody></table><div ng-show="$ctrl.allowAssign"><button class="btn btn-sm btn-primary" ng-click="$ctrl.assignMe() ">Breed Me</button><div class="btn-group" role="menu" data-container="body"><button class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Work <span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="job in [\'Dig\', \'Farm\', \'Chop\', \'Build\']"><a ng-bind="job"></a></li></ul></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Population [{{$ctrl.population.length}} / {{$ctrl.maxPopulation}}] ---FILTERS HERE???----"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Buildings"><bloqhead-building-list></bloqhead-building-list></bloqhead-player-box></div><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Breeders [{{$ctrl.breeders.length}} / {{$ctrl.breederLimit}}]"><div class="row breeder-container"><div ng-repeat="breederid in $ctrl.breeders" class="col-xs-12 col-lg-12"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]" allow-assign="false"></bloqhead-breeder></div></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd HH:mm:ss\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/resourceList/resourceList.html",'<div class="resource-list col-xs-12"><div class="row" ng-repeat="(key, value) in $ctrl.resources" ng-if="value[2] === true" data-attr="{{$ctrl.resourceTypes[key].attr}}"><div class="col-xs-12 col-sm-2"><h5 uib-tooltip="{{$ctrl.resourceTypes[key].desc}}">{{$ctrl.resourceTypes[key].name}}</h5></div><div class="col-xs-12 col-sm-10"><div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{value[0]}}" aria-valuemin="0" aria-valuemax="{{value[1]}}" ng-style="{width: (100*(value[0]/value[1])) + \'%\'}"><span ng-bind="value[0] + \' / \' + value[1]"></span></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div class="col-xs-12"><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2J1aWxkaW5nTGlzdC9idWlsZGluZ0xpc3QuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL2JyZWVkZXIuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvcG9wdWxhdGlvbi5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy90cmFpdC5qcyIsImNvbXBvbmVudHMvZ2FtZUNvbnRyb2wvZ2FtZUNvbnRyb2wuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94LmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvYWNoaWV2ZW1lbnRTZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9idWlsZGluZ1NlcnZpY2UuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL3BvcHVsYXRpb25TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9yZXNvdXJjZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Jlc291cmNlTGlzdC9yZXNvdXJjZUxpc3QuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmpzIiwiY29tcG9uZW50cy9idWlsZGluZ0xpc3QvYnVpbGRpbmdMaXN0LmpzIiwiY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94LmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5qcyIsImNvbXBvbmVudHMvcmVzb3VyY2VMaXN0L3Jlc291cmNlTGlzdC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIiR1aWJUb29sdGlwUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwiY29tcG9uZW50IiwiZm9yRWFjaCIsInN0YXRlIiwib3B0aW9ucyIsImFwcGVuZFRvQm9keSIsInBsYWNlbWVudCIsInBvcHVwQ2xvc2VEZWxheSIsInJ1biIsImdhbWVTZXJ2aWNlIiwiaW5pdCIsImdhbWUiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJiaW5kaW5ncyIsImZvb3RlciIsInNlbGYiLCIkb25Jbml0IiwiJHNjb3BlIiwiYnVpbGRpbmdTZXJ2aWNlIiwiJHNjZSIsImJ1aWxkaW5ncyIsIlN1YnNjcmliZUJ1aWxkaW5nc0NoYW5nZWRFdmVudCIsInVwZGF0ZUJ1aWxkaW5ncyIsImV2ZW50IiwidG9vbHRpcCIsImdldENvc3RUb29sdGlwIiwiY29zdFRvQnVpbGQiLCJjb25zb2xlIiwibG9nIiwiYW1vdW50IiwicmVzb3VyY2UiLCJ0cnVzdEFzSHRtbCIsImZpbHRlciIsInVuaXRzIiwidHJhaXROYW1lIiwicmV0IiwiaGFzVHJhaXQiLCJmYWN0b3J5IiwiJGZpbHRlciIsIlRyYWl0SW5zcGVjdG9yIiwiY3Jvc3NvdmVyIiwiZzEiLCJnMiIsImdlbmVDYXAiLCJnZW5lUmF0aW8iLCJnIiwiY29weSIsImdlbmV0aWNPcHRpb25zIiwiY3Jvc3NvdmVycmF0ZSIsIm11dGF0aW9uUmF0ZSIsImJpdFN0cmluZ1IiLCJiaXRTdHJpbmdHIiwiZ2V0UmVkR3JlZW5JbWFnZSIsImdlbmVzIiwiYnJlZWRlckdlbmVDYXAiLCJhZGRSb3dzIiwiY29udmVydFJlZEdyZWVuTWFwIiwibWluQ29sb3JSYXRpbyIsImNvbG9yUmF0aW8iLCJyIiwiYnJpZ2h0IiwiYWJzIiwiY29scyIsIkJyZWVkZXIiLCJ0cmFpdEluc3BlY3RvciIsInVwZGF0ZSIsInByb3RvdHlwZSIsIm1vdGhlciIsImZhdGhlciIsImdlbmVyYXRpb24iLCJyZWRHcmVlbkltYWdlIiwidHJhaXRzIiwiZ2V0VHJhaXRzIiwiYXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZXMiLCJnZXRSYW5kb21OYW1lIiwiYnJlZWQiLCJwYXJ0bmVyIiwibmV3SWQiLCJwMSIsInAyIiwibXlHZW5kZXIiLCJjaGlsZCIsInAxZyIsInAyZyIsInRyYWl0IiwibXlUcmFpdCIsImZpcnN0TmFtZSIsIm5hbWVMaXN0MSIsIm5hbWVMaXN0MiIsImxhc3ROYW1lIiwibmFtZUxpc3QzIiwibmFtZUxpc3Q0IiwibmFtZUxpc3Q1IiwiZ2VuZURlZmluaXRpb25zIiwiUG9wdWxhdGlvbiIsImN1cnJlbnRHZW5lcmF0aW9uIiwiYnJlZWRlcnMiLCJicmVlZGVyTGltaXQiLCJtYXhTaXplIiwiYnJlZWRlck11dGF0aW9uQml0cyIsImJyZWVkZXJNdXRhdGlvbkNoYW5jZSIsImJyZWVkZXJHZW5lc1VubG9ja2VkIiwiaW5pdGlhbFNpemUiLCJtZW1iZXJzIiwibSIsIm1lbWJlciIsInVuaXQiLCJtdXRhdGlvbkJpdHMiLCJjcmVhdGVJbml0aWFsUG9wdWxhdGlvbiIsImdldFN0YXRlIiwiY291bnQiLCJwb3B1bGF0aW9uIiwiZ24iLCJpbmRleE9mIiwiaXNCcmVlZGluZyIsImhhc01hbGUiLCJoYXNGZW1hbGUiLCJnZXRCeUlkIiwiZ2V0QnlHZW5lcmF0aW9uIiwiY29uc3RhbnQiLCJkb20iLCJyZWMiLCJhdHRyIiwicmVxdWlyZWRUcmFpdHMiLCJjaGVja2VkIiwiZ2V0VHJhaXRCeU5hbWUiLCJ0IiwiZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSIsImlzRGVmaW5lZCIsInJlcXVpcmVkVHJhaXQiLCJyZXEiLCJidWlsZFRyYWl0cyIsInRyYWl0RGVmaW5pdGlvbnMiLCJ0ZCIsIm1ldCIsImgiLCJ0ZGciLCJ2IiwiU1RSIiwiSU5UIiwiRU5EIiwiQ0hSIiwiTENLIiwic3RyQmFzZSIsImludEJhc2UiLCJlbmRCYXNlIiwiY2hyQmFzZSIsImxja0Jhc2UiLCJzcXJ0IiwiYXBwIiwidGVtcGxhdGUiLCJnYW1lTG9vcFNlcnZpY2UiLCJnYW1lU3RhdGVzIiwiY3VycmVudFN0YXRlIiwidG9nZ2xlU3RhdGUiLCJSVU5OSU5HIiwiUEFVU0VEIiwic2V0U3RhdGUiLCJnZXRJY29uIiwicmVzZXRTYXZlIiwiaGFyZFJlc2V0IiwidHJhbnNjbHVkZSIsInJlcXVpcmUiLCJtYWluQ3RybCIsInBvcHVsYXRpb25TZXJ2aWNlIiwiYWNoaWV2ZW1lbnRTZXJ2aWNlIiwicmVzb3VyY2VTZXJ2aWNlIiwibWF4UG9wdWxhdGlvbiIsIm1heEJyZWVkZXJzIiwiU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50IiwidXBkYXRlUG9wdWxhdGlvbiIsIlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCIsInVwZGF0ZUJyZWVkZXJzIiwiU3Vic2NyaWJlTmV3UmV3YXJkRXZlbnQiLCJyZXdhcmRFYXJuZWQiLCJyZXdhcmQiLCJ1cGRhdGVHZW5lIiwiZ2VuZUluZGV4IiwiZ2VuZVZhbHVlcyIsInVwZGF0ZU1lbWJlciIsImFkZEJyZWVkZXIiLCJ1bml0aWQiLCJyZW1vdmVCcmVlZGVyIiwiZGF0YSIsImFsbG93QXNzaWduIiwiYXNzaWduIiwiYXNzaWduTWUiLCIkaWQiLCJHRU5FUkFMIiwiQlJFRUQiLCJBQ0hJRVZFTUVOVCIsImxvZ1NlcnZpY2UiLCJsb2dUeXBlcyIsIm1lc3NhZ2VzIiwiU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50IiwicmVjZWl2ZU1lc3NhZ2VzIiwiZ2V0TG9nQ2xhc3MiLCJ0eXBlIiwicHJlZml4IiwiYSIsIiQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzZXJ2aWNlIiwiJHJvb3RTY29wZSIsImNsZWFyTG9nIiwibG9nR2VuZXJhbE1lc3NhZ2UiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNwbGljZSIsIiRlbWl0IiwibG9nQnJlZWRNZXNzYWdlIiwibG9nQWNoaWV2ZW1lbnRNZXNzYWdlIiwic2NvcGUiLCJjYWxsYmFjayIsImhhbmRsZXIiLCIkb24iLCJiaW5kIiwiYWNoaWV2ZW1lbnRzIiwiQV9CSVJUSFMiLCJhaWQiLCJkZXNjIiwicmFua3MiLCJBX0RJUlQiLCJBX0RJUlRfQyIsIkFfQlJJQ0tTIiwiQV9CUklDS1NfQyIsIkFfV0FURVIiLCJBX1dBVEVSX0MiLCJBX1dPT0QiLCJBX1dPT0RfQyIsIkFfR09MRCIsIkFfR09MRF9DIiwiQV9IQVBQSU5FU1MiLCJBX0hBUFBJTkVTU19DIiwicGVya3MiLCJQX01fSEFQUElORVNTIiwicGlkIiwib25jZSIsIlBfUl9NVUxUSVBMSUVSIiwiUF9SX0JPTlVTIiwiUF9HX0VOSEFOQ0VEIiwiYWNoaWV2ZW1lbnRTZXR1cCIsInJlc291cmNlVHlwZXMiLCJwcm9ncmVzcyIsInVwZGF0ZVByb2dyZXNzIiwiYWNoUHJvZ3Jlc3MiLCJvbGR2YWwiLCJuZXd2YWwiLCJhY2hTZXR1cCIsInJjIiwiYW1vdW50UmVxdWlyZWQiLCJhY2hpZXZlbWVudCIsInBjIiwicCIsImFwcGx5UGVyayIsImFyciIsInBlcmtTZXR1cCIsInBlcmtTZWFyY2giLCJtc2ciLCJnZW5lIiwicmVwbGFjZSIsImR0IiwidG9VVENTdHJpbmciLCJCVU5HQUxPVyIsImRlc2NyaXB0aW9uIiwidXNlIiwic2l6ZSIsImJhc2VDb3N0IiwiY29zdE11bHRpcGxpZXIiLCJwdXJjaGFzZWQiLCJnaWZ0ZWQiLCJ1bmxvY2tlZCIsIkRJUlRQSUxFIiwic3RvcmVzIiwiU09ESE9VU0UiLCJXRUxMIiwicHJvZHVjZXMiLCJkZWZhdWx0QnVpbGRpbmdzIiwibWVyZ2UiLCJ1cGRhdGVTdG9yYWdlIiwidXBkYXRlSG91c2luZyIsImdldEJ1aWxkaW5nU25hcHNob3QiLCJzbmFwc2hvdCIsImtleSIsImhhc093blByb3BlcnR5IiwiYnVpbGRpbmciLCJmb3JtYXREZXNjcmlwdGlvbiIsIm93bmVkIiwiY2FsY3VsYXRlTmV4dENvc3QiLCJtdWx0aXBsaWVyIiwiYnJlZWRpbmdTaXplTXVsdGlwbGllciIsInN0b3JhZ2VTaXplTXVsdGlwbGllciIsImhvdXNpbmdTaXplTXVsdGlwbGllciIsImNvc3RzIiwiY29zdCIsIm5leHRBbW91bnQiLCJwb3ciLCJ0eXBlTXVsdCIsInNpemVNdWx0aXBsaWVyIiwic2V0QnJlZWRlckxpbWl0IiwicmVzb3VyY2VzIiwiZ2V0UmVzb3VyY2VzU25hcHNob3QiLCJydCIsIm5ld0Ftb3VudCIsInNldFJlc291cmNlTGltaXQiLCJzZXRQb3B1bGF0aW9uTGltaXQiLCJhdXRvU2F2ZVN0ZXBzIiwiZ2FtZUxvb3BTZXJ2aWNlU3RhdGUiLCJzdGVwVGltZU1zIiwicG9wdWxhdGlvblNlcnZpY2VTdGF0ZSIsImJyZWVkU3RlcHMiLCJwb3B1bGF0aW9uU3RhdGUiLCJhY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSIsInJlc291cmNlU2VydmljZVN0YXRlIiwiYnVpbGRpbmdTZXJ2aWNlU3RhdGUiLCIkd2luZG93IiwiaW5pdGlhbGl6ZWQiLCJsYXN0VGltZSIsImdhbWVMb29wIiwibmV3U3RhdGUiLCJzdGVwIiwic3RlcHMiLCIkYXBwbHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJTdWJzY3JpYmVHYW1lTG9vcEV2ZW50IiwiZ2FtZVNhdmVLZXkiLCJkZWZhdWx0U3RhdGUiLCJMWlN0cmluZyIsImpzb24iLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlZFN0YXRlIiwiZnJvbUpzb24iLCJnYW1lU3RhdGUiLCJzdGFydEdhbWUiLCJzdGVwc1NpbmNlU2F2ZSIsInJlbW92ZUl0ZW0iLCJzYXZlU3RhdGUiLCJzYXZlIiwiY29tcHJlc3NUb0Jhc2U2NCIsInRvSnNvbiIsInNldEl0ZW0iLCJzdGVwc1NpbmNlQnJlZWQiLCJzZW5kQnJlZWRlclVwZGF0ZUV2ZW50Iiwic2VuZFBvcHVsYXRpb25VcGRhdGVFdmVudCIsImhhbmRsZUdhbWVMb29wIiwicG9wVXBkYXRlZCIsIm9mZnNwcmluZyIsImluZGV4IiwibmV3TGltaXQiLCJESVJUIiwiQlJJQ0tTIiwiU1RFRUwiLCJXQVRFUiIsIldPT0QiLCJHT0xEIiwiU0NJRU5DRSIsIkhBUFBJTkVTUyIsIkVWT0NPSU4iLCJvdmVycmlkZUFsbE9uIiwiZGVmYXVsdExpbWl0cyIsInJlc291cmNlVHlwZSIsInBlcmsiLCJhZGRSZXNvdXJjZSIsImVycm9yIiwiU3Vic2NyaWJlUmVzb3VyY2VDaGFuZ2VkRXZlbnQiLCJTdWJzY3JpYmVSZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50IiwiU3Vic2NyaWJlUmVzb3VyY2VFbmFibGVkRXZlbnQiLCJyZXNvdXJjZUNoYW5nZWQiLCJyZXNvdXJjZUxpbWl0Q2hhbmdlZCIsInJlc291cmNlRW5hYmxlZCIsImdldFVubG9ja2VkUmVzb3VyY2VzIiwicmVzIiwiYml0IiwibGFzdEJyZWVkZXJJRCIsIm5ld0JyZWVkZXJHZW5kZXIiLCJraWxsQnJlZWRlciIsImFkZE5ld0JyZWVkZXIiLCJnZW5kZXIiLCJ1bnNoaWZ0IiwiZXhwYW5kbyIsInJhbmRvbWl6ZU5hbWUiLCJyYW5kb21pemUiLCJyYW5kb21pemVBbGwiLCIkdGltZW91dCIsImUiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkFBRUEsUUFBQUEsdUJBQUFDLEVBQUFDLEdBQ0EsTUFBQUMsTUFBQUMsTUFBQUQsS0FBQUUsVUFBQUgsRUFBQUQsRUFBQSxHQUFBQSxJQzRCQSxXQUVBLFFBQUFLLEdBQUFDLEVBQUFD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QUFDLElBQUEsb0JBQUFDLE1BQUEsUUFDQTdCLEVBQUEsSUFBQTJCLElBQUEsY0FBQUMsSUFBQSxhQUFBQyxNQUFBLFFBQ0E3QixFQUFBLElBQUEyQixJQUFBLGFBQUFDLElBQUEsYUFBQUMsTUFBQSxRQUNBN0IsRUFBQSxJQUFBMkIsSUFBQSxhQUFBQyxJQUFBLGFBQUFDLE1BQUEsUUFDQTdCLEVBQUEsSUFBQTJCLElBQUEsWUFBQUMsSUFBQSxhQUFBQyxNQUFBLFFBQ0E3QixFQUFBLElBQUEyQixJQUFBLFlBQUFDLElBQUEsV0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxJQUFBMkIsSUFBQSxTQUFBQyxJQUFBLFNBQUFDLE1BQUEsUUFDQTdCLEVBQUEsSUFBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLElBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxJQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLHVCQUFBQyxJQUFBLFdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsa0JBQUFDLElBQUEsZ0JBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsZ0JBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTdCLEVBQUEsS0FBQTJCLElBQUEsV0FBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLGlCQUFBQyxJQUFBLGNBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBN0IsRUFBQSxLQUFBMkIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTdCLEVBQUEsS0FBQTJCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0E3QixFQUFBLEtBQUEyQixJQUFBLEdB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LEVBQUFDLElBQUEsNkNBQ0EseStDQ1JBLFNBQUFsWixHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQWdaLEdBQ0FoWixFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBaUIsS0FBQSxpQkFBQSxTQUFBZ1ksR0FDQUEsRUFBQUMsSUFBQSwwQ0FDQSxtNkJDUkEsU0FBQWxaLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBZ1osR0FDQWhaLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFpQixLQUFBLGlCQUFBLFNBQUFnWSxHQUNBQSxFQUFBQyxJQUFBLDhDQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5mdW5jdGlvbiByYW5kb21JbnRGcm9tSW50ZXJ2YWwobWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG59XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTYXZlS2V5JywgXCJHRU5FVElYX1NBVkVcIik7XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICBQQVVTRUQ6IDAsXHJcbiAgICBSVU5OSU5HOiAxXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudChcImRlZmF1bHRTdGF0ZVwiLCB7XHJcblxyXG4gICAgY2xlYXJMb2c6IHRydWUsXHJcbiAgICBhdXRvU2F2ZVN0ZXBzOiAzMCxcclxuICAgIGdhbWVMb29wU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgc3RlcFRpbWVNczogMTAwMFxyXG4gICAgfSxcclxuICAgIHBvcHVsYXRpb25TZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICBicmVlZFN0ZXBzOiA2LFxyXG4gICAgICAgIHBvcHVsYXRpb25TdGF0ZToge1xyXG4gICAgICAgICAgICBpbml0aWFsU2l6ZTogMixcclxuICAgICAgICAgICAgbWF4U2l6ZTogNSxcclxuICAgICAgICAgICAgYnJlZWRlckdlbmVDYXA6IDEwMCxcclxuICAgICAgICAgICAgYnJlZWRlckdlbmVzVW5sb2NrZWQ6IFswLCA0Ml0sXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkNoYW5jZTogMTBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgYWNoaWV2ZW1lbnRTZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICBhY2hpZXZlbWVudHM6IFtdLFxyXG4gICAgICAgIHBlcmtzOiBbXVxyXG4gICAgfSxcclxuICAgIHJlc291cmNlU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgcmVzb3VyY2VzOiB7fVxyXG4gICAgfSxcclxuICAgIGJ1aWxkaW5nU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgLy8gc3RvcmFnZVNpemVNdWx0aXBsaWVyOiAxLjUsXHJcbiAgICAgICAgLy8gYnJlZWRpbmdTaXplTXVsdGlwbGllcjogNSxcclxuICAgICAgICAvLyBob3VzaW5nU2l6ZU11bHRpcGxpZXI6IDAuNSxcclxuICAgICAgICBidWlsZGluZ3M6IHtcclxuICAgICAgICAgICAgLy8gU09ESE9VU0U6IHtcclxuICAgICAgICAgICAgLy8gICAgIG11bHRpcGxpZXI6IDJcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdnYW1lTG9vcFNlcnZpY2UnLCBbJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICdnYW1lU3RhdGVzJywgJ2xvZ1NlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHdpbmRvdywgJHJvb3RTY29wZSwgZ2FtZVN0YXRlcywgbG9nU2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB7fTtcclxuICAgICAgICAgICAgc2VsZi5zdGVwVGltZU1zID0gc3RhdGUuc3RlcFRpbWVNcyB8fCBzZWxmLnN0ZXBUaW1lTXMgfHwgMTAwMDtcclxuICAgICAgICAgICAgc2VsZi5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVN0YXRlcy5QQVVTRUQ7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmdhbWVMb29wKDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IHN0YXRlLmN1cnJlbnRTdGF0ZSB8fCBzZWxmLmN1cnJlbnRTdGF0ZSB8fCBnYW1lU3RhdGVzLlJVTk5JTkc7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RlcFRpbWVNczogc2VsZi5zdGVwVGltZU1zLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudFN0YXRlOiBzZWxmLmN1cnJlbnRTdGF0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5QQVVTRUQpIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoXCJHYW1lIHBhdXNlZC5cIik7XHJcbiAgICAgICAgICAgIGVsc2UgbG9nU2VydmljZS5sb2dHZW5lcmFsTWVzc2FnZShcIkdhbWUgcmVzdW1lZC5cIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nYW1lTG9vcCA9IGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5sYXN0VGltZSArIHN0ZXAgPiAoc2VsZi5zdGVwVGltZU1zICogKHN0ZXBzICsgMSkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAoc2VsZi5sYXN0VGltZSAtIChzZWxmLnN0ZXBUaW1lTXMgKiBzdGVwcykpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW50U3RhdGUgPT0gZ2FtZVN0YXRlcy5SVU5OSU5HICYmIHN0ZXBzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoJHJvb3RTY29wZS4kZW1pdCgnZ2FtZUxvb3BFdmVudCcsIHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZUdhbWVMb29wRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignZ2FtZUxvb3BFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdnYW1lU2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJ2dhbWVTYXZlS2V5JywgJ2RlZmF1bHRTdGF0ZScsICdsb2dTZXJ2aWNlJywgJ2dhbWVMb29wU2VydmljZScsICdwb3B1bGF0aW9uU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLCAncmVzb3VyY2VTZXJ2aWNlJywgJ2J1aWxkaW5nU2VydmljZScsICdMWlN0cmluZycsXHJcbiAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCBnYW1lU2F2ZUtleSwgZGVmYXVsdFN0YXRlLCBsb2dTZXJ2aWNlLCBnYW1lTG9vcFNlcnZpY2UsIHBvcHVsYXRpb25TZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UsIHJlc291cmNlU2VydmljZSwgYnVpbGRpbmdTZXJ2aWNlLCBMWlN0cmluZykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIganNvbiA9IExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKGdhbWVTYXZlS2V5KSk7XHJcbiAgICAgICAgICAgIHZhciBzYXZlZFN0YXRlID0gKGpzb24pID8gYW5ndWxhci5mcm9tSnNvbihqc29uKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgc2VsZi5nYW1lU3RhdGUgPSBzdGF0ZSB8fCBzYXZlZFN0YXRlIHx8IGRlZmF1bHRTdGF0ZTtcclxuICAgICAgICAgICAgc2VsZi5hdXRvU2F2ZVN0ZXBzID0gc2VsZi5nYW1lU3RhdGUuYXV0b1NhdmVTdGVwcyB8fCBzZWxmLmF1dG9TYXZlU3RlcHMgfHwgMTA7XHJcbiAgICAgICAgICAgIHNlbGYuc3RhcnRHYW1lKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgPSAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbG9nU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmNsZWFyTG9nKTtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuaW5pdChcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIubWVyZ2Uoe30sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFN0YXRlLnBvcHVsYXRpb25TZXJ2aWNlU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5nYW1lU3RhdGUucG9wdWxhdGlvblNlcnZpY2VTdGF0ZVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgcmVzb3VyY2VTZXJ2aWNlLmluaXQoXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLm1lcmdlKHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTdGF0ZS5yZXNvdXJjZVNlcnZpY2VTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWVTdGF0ZS5yZXNvdXJjZVNlcnZpY2VTdGF0ZVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLmluaXQoXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLm1lcmdlKHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTdGF0ZS5hY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWVTdGF0ZS5hY2hpZXZlbWVudFNlcnZpY2VTdGF0ZVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgYnVpbGRpbmdTZXJ2aWNlLmluaXQoXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLm1lcmdlKHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTdGF0ZS5idWlsZGluZ1NlcnZpY2VTdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWVTdGF0ZS5idWlsZGluZ1NlcnZpY2VTdGF0ZSlcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIGdhbWVMb29wU2VydmljZS5pbml0KFxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5tZXJnZSh7fSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0U3RhdGUuZ2FtZUxvb3BTZXJ2aWNlU3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5nYW1lU3RhdGUuZ2FtZUxvb3BTZXJ2aWNlU3RhdGVcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmhhcmRSZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnYW1lU2F2ZUtleSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5pdCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGdhbWVMb29wU2VydmljZS5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50KCRyb290U2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBzdGVwcykge1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VTYXZlICs9IHN0ZXBzO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5zdGVwc1NpbmNlU2F2ZSA+IHNlbGYuYXV0b1NhdmVTdGVwcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNhdmVTdGF0ZSA9IGFuZ3VsYXIuY29weShzZWxmLmdhbWVTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBzYXZlU3RhdGUucG9wdWxhdGlvblNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShwb3B1bGF0aW9uU2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5yZXNvdXJjZVNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShyZXNvdXJjZVNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBzYXZlU3RhdGUuYWNoaWV2ZW1lbnRTZXJ2aWNlU3RhdGUgPSBhbmd1bGFyLmNvcHkoYWNoaWV2ZW1lbnRTZXJ2aWNlLmdldFN0YXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlLmJ1aWxkaW5nU2VydmljZVN0YXRlID0gYW5ndWxhci5jb3B5KGJ1aWxkaW5nU2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5nYW1lTG9vcFNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShnYW1lTG9vcFNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoYW5ndWxhci50b0pzb24oYW5ndWxhci5jb3B5KHNhdmVTdGF0ZSkpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdhbWVTYXZlS2V5LCBzYXZlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKCdHYW1lIGF1dG9zYXZlZC4nKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5dKTsiLCIvKiFcclxuICogR2VuZXJhdGUgQml0bWFwIERhdGEgVVJMXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzLXBhaW50L1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMCwgUGV0ZXIgQ29sZXNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlcy5cclxuICogaHR0cDovL21yY29sZXMuY29tL21lZGlhL21pdC1saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBEYXRlOiBUdWUgT2N0IDI2IDAwOjAwOjAwIDIwMTAgLTA1MDBcclxuICovXHJcblxyXG4vKlxyXG4gKiBDb2RlIHRvIGdlbmVyYXRlIEJpdG1hcCBpbWFnZXMgKHVzaW5nIGRhdGEgdXJscykgZnJvbSByb3dzIG9mIFJHQiBhcnJheXMuXHJcbiAqIFNwZWNpZmljYWxseSBmb3IgdXNlIHdpdGggaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXN0LXBhaW50L1xyXG4gKlxyXG4gKiBSZXNlYXJjaDpcclxuICpcclxuICogUkZDIDIzOTcgZGF0YSBVUkxcclxuICogaHR0cDovL3d3dy54czRhbGwubmwvfndyYi9BcnRpY2xlcy9BcnRpY2xlX0lNR19SRkMyMzk3X1AxXzAxLmh0bVxyXG4gKlxyXG4gKiBCTVAgZmlsZSBGb3JtYXRcclxuICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CTVBfZmlsZV9mb3JtYXQjRXhhbXBsZV9vZl9hXzIuQzMuOTcyX1BpeGVsLjJDXzI0LUJpdF9CaXRtYXBfLjI4V2luZG93c19WM19ESUIuMjlcclxuICpcclxuICogQk1QIE5vdGVzXHJcbiAqXHJcbiAqIC0gSW50ZWdlciB2YWx1ZXMgYXJlIGxpdHRsZS1lbmRpYW4sIGluY2x1ZGluZyBSR0IgcGl4ZWxzLCBlLmcuLCAoMjU1LCAwLCAwKSAtPiBcXHgwMFxceDAwXFx4RkZcclxuICogLSBCaXRtYXAgZGF0YSBzdGFydHMgYXQgbG93ZXIgbGVmdCAoYW5kIHJlYWRzIGFjcm9zcyByb3dzKVxyXG4gKiAtIEluIHRoZSBCTVAgZGF0YSwgcGFkZGluZyBieXRlcyBhcmUgaW5zZXJ0ZWQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgbGluZXMgb2YgZGF0YSBpbiBtdWx0aXBsZXMgb2YgZm91cixcclxuICogICBlLmcuLCBhIDI0LWJpdCBiaXRtYXAgd2l0aCB3aWR0aCAxIHdvdWxkIGhhdmUgMyBieXRlcyBvZiBkYXRhIHBlciByb3cgKFIsIEcsIEIpICsgMSBieXRlIG9mIHBhZGRpbmdcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FzTGl0dGxlRW5kaWFuSGV4KHZhbHVlLCBieXRlcykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgdmFsdWUgaW50byBsaXR0bGUgZW5kaWFuIGhleCBieXRlc1xyXG4gICAgICAgIC8vIHZhbHVlIC0gdGhlIG51bWJlciBhcyBhIGRlY2ltYWwgaW50ZWdlciAocmVwcmVzZW50aW5nIGJ5dGVzKVxyXG4gICAgICAgIC8vIGJ5dGVzIC0gdGhlIG51bWJlciBvZiBieXRlcyB0aGF0IHRoaXMgdmFsdWUgdGFrZXMgdXAgaW4gYSBzdHJpbmdcclxuXHJcbiAgICAgICAgLy8gRXhhbXBsZTpcclxuICAgICAgICAvLyBfYXNMaXR0bGVFbmRpYW5IZXgoMjgzNSwgNClcclxuICAgICAgICAvLyA+ICdcXHgxM1xceDBiXFx4MDBcXHgwMCdcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgYnl0ZXMgPiAwOyBieXRlcy0tKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUgJiAyNTUpKTtcclxuICAgICAgICAgICAgdmFsdWUgPj49IDg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3Mgb2YgUkdCIGFycmF5cyBpbnRvIEJNUCBkYXRhXHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgIHJvd3NfbGVuID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGosXHJcbiAgICAgICAgICAgIHBpeGVsc19sZW4gPSByb3dzX2xlbiA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgcGl4ZWwsXHJcbiAgICAgICAgICAgIHBhZGRpbmcgPSAnJyxcclxuICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyByb3dfcGFkZGluZyA+IDA7IHJvd19wYWRkaW5nLS0pIHtcclxuICAgICAgICAgICAgcGFkZGluZyArPSAnXFx4MDAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3NfbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBpeGVsc19sZW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWwgPSByb3dzW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsyXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMV0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9zY2FsZVJvd3Mocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBTaW1wbGVzdCBzY2FsaW5nIHBvc3NpYmxlXHJcbiAgICAgICAgdmFyIHJlYWxfaCA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBzY2FsZWRfaCA9IHBhcnNlSW50KHJlYWxfaCAqIHNjYWxlKSxcclxuICAgICAgICAgICAgcmVhbF93ID0gcmVhbF9oID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBzY2FsZWRfdyA9IHBhcnNlSW50KHJlYWxfdyAqIHNjYWxlKSxcclxuICAgICAgICAgICAgbmV3X3Jvd3MgPSBbXSxcclxuICAgICAgICAgICAgbmV3X3JvdywgeCwgeTtcclxuXHJcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IHNjYWxlZF9oOyB5KyspIHtcclxuICAgICAgICAgICAgbmV3X3Jvd3MucHVzaChuZXdfcm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgc2NhbGVkX3c7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgbmV3X3Jvdy5wdXNoKHJvd3NbcGFyc2VJbnQoeSAvIHNjYWxlKV1bcGFyc2VJbnQoeCAvIHNjYWxlKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdfcm93cztcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMID0gZnVuY3Rpb24ocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBFeHBlY3RzIHJvd3Mgc3RhcnRpbmcgaW4gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBmb3JtYXR0ZWQgbGlrZSB0aGlzOiBbW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDBdLCAuLi5dLCAuLi5dXHJcbiAgICAgICAgLy8gd2hpY2ggcmVwcmVzZW50czogW1tyZWQsIHllbGxvdywgLi4uXSwgLi4uXVxyXG5cclxuICAgICAgICBpZiAoIXdpbmRvdy5idG9hKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdPaCBubywgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYmFzZTY0IGVuY29kaW5nIC0gd2luZG93LmJ0b2EoKSEhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcclxuICAgICAgICBpZiAoc2NhbGUgIT0gMSkge1xyXG4gICAgICAgICAgICByb3dzID0gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGVpZ2h0ID0gcm93cy5sZW5ndGgsIC8vIHRoZSBudW1iZXIgb2Ygcm93c1xyXG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCA/IHJvd3NbMF0ubGVuZ3RoIDogMCwgLy8gdGhlIG51bWJlciBvZiBjb2x1bW5zIHBlciByb3dcclxuICAgICAgICAgICAgcm93X3BhZGRpbmcgPSAoNCAtICh3aWR0aCAqIDMpICUgNCkgJSA0LCAvLyBwYWQgZWFjaCByb3cgdG8gYSBtdWx0aXBsZSBvZiA0IGJ5dGVzXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzID0gKHdpZHRoICogMyArIHJvd19wYWRkaW5nKSAqIGhlaWdodCwgLy8gc2l6ZSBpbiBieXRlcyBvZiBCTVAgZGF0YVxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyA9IDU0ICsgbnVtX2RhdGFfYnl0ZXMsIC8vIGZ1bGwgaGVhZGVyIHNpemUgKG9mZnNldCkgKyBzaXplIG9mIGRhdGFcclxuICAgICAgICAgICAgZmlsZTtcclxuXHJcbiAgICAgICAgaGVpZ2h0ID0gX2FzTGl0dGxlRW5kaWFuSGV4KGhlaWdodCwgNCk7XHJcbiAgICAgICAgd2lkdGggPSBfYXNMaXR0bGVFbmRpYW5IZXgod2lkdGgsIDQpO1xyXG4gICAgICAgIG51bV9kYXRhX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9kYXRhX2J5dGVzLCA0KTtcclxuICAgICAgICBudW1fZmlsZV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZmlsZV9ieXRlcywgNCk7XHJcblxyXG4gICAgICAgIC8vIHRoZXNlIGFyZSB0aGUgYWN0dWFsIGJ5dGVzIG9mIHRoZSBmaWxlLi4uXHJcblxyXG4gICAgICAgIGZpbGUgPSAoJ0JNJyArIC8vIFwiTWFnaWMgTnVtYmVyXCJcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBmaWxlIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgzNlxceDAwXFx4MDBcXHgwMCcgKyAvLyBvZmZzZXQgb2Ygd2hlcmUgQk1QIGRhdGEgbGl2ZXMgKDU0IGJ5dGVzKVxyXG4gICAgICAgICAgICAnXFx4MjhcXHgwMFxceDAwXFx4MDAnICsgLy8gbnVtYmVyIG9mIHJlbWFpbmluZyBieXRlcyBpbiBoZWFkZXIgZnJvbSBoZXJlICg0MCBieXRlcylcclxuICAgICAgICAgICAgd2lkdGggKyAvLyB0aGUgd2lkdGggb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgIGhlaWdodCArIC8vIHRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgICdcXHgwMVxceDAwJyArIC8vIHRoZSBudW1iZXIgb2YgY29sb3IgcGxhbmVzICgxKVxyXG4gICAgICAgICAgICAnXFx4MThcXHgwMCcgKyAvLyAyNCBiaXRzIC8gcGl4ZWxcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE5vIGNvbXByZXNzaW9uICgwKVxyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIEJNUCBkYXRhIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIGhvcml6b250YWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSB0aGUgdmVydGljYWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTnVtYmVyIG9mIGNvbG9ycyBpbiB0aGUgcGFsZXR0ZSAoa2VlcCAwIGZvciAyNC1iaXQpXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyAwIGltcG9ydGFudCBjb2xvcnMgKG1lYW5zIGFsbCBjb2xvcnMgYXJlIGltcG9ydGFudClcclxuICAgICAgICAgICAgX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZylcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvYm1wO2Jhc2U2NCwnICsgYnRvYShmaWxlKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG4vL1xyXG4vLyBDb2RlIHNwZWNpZmljIHRvIGxvdyByZXMgcGFpbnRcclxuLy9cclxuXHJcbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICB2YXIgJGJnX3RyYW5zZm9ybTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNzaWduX2JnX3RyYW5zZm9ybShiZykge1xyXG4gICAgICAgIC8vIGRpZmZlcmVudCBicm93c2VycyByZXR1cm4gdGhlIGNvbG9yIGRpZmZlcmVudGx5XHJcbiAgICAgICAgLy8gbGV0J3Mgc3VwcG9ydCBcInJnYigxMjMsIDAsIDUpXCIsIFwiI2ZmZlwiLCBhbmQgXCIjZmYwMDk5XCJcclxuICAgICAgICBpZiAoL15yZ2JcXChcXGQrLCBcXGQrLCBcXGQrXFwpJC8udGVzdChiZykpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB4WzBdID0geFswXS5zdWJzdHIoNCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgdDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSBwYXJzZUludCh4W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmcuc3Vic3RyaW5nKDAsIDEpID09ICcjJykge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IHgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdVbnBhcnNlYWJsZSBjb2xvcjogJyArIGJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJGJnQXNSR0IoaWQpIHtcclxuICAgICAgICB2YXIgYmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIGlmIChiZyA9PT0gJycpIHJldHVybiBbMjU1LCAyNTUsIDI1NV07XHJcbiAgICAgICAgaWYgKCRiZ190cmFuc2Zvcm0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfYXNzaWduX2JnX3RyYW5zZm9ybShiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAgPSBmdW5jdGlvbihzY2FsZSkge1xyXG4gICAgICAgIC8vIHBpeGVscyBhcmUgeF95IHN0YXJ0aW5nIGluIHRvcCBsZWZ0LCB3ZSBuZWVkIHRvIGl0ZXJhdGUgZnJvbSBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGRpbWVuc2lvbnMgYXJlIGEgNTB4NTAgc3F1YXJlICgwLCAwLCA0OSwgNDkpXHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTA7XHJcblxyXG4gICAgICAgIHZhciB4LFxyXG4gICAgICAgICAgICB4X2xlbiA9IDUwLFxyXG4gICAgICAgICAgICB5ID0gNDksXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICBpbWdfcGFyZW50LFxyXG4gICAgICAgICAgICBpbWcsXHJcbiAgICAgICAgICAgIHNyYztcclxuXHJcbiAgICAgICAgZm9yICg7IHkgPj0gMDsgeS0tKSB7XHJcbiAgICAgICAgICAgIHJvd3MucHVzaChyb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB4X2xlbjsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaCgkYmdBc1JHQih4ICsgJ18nICsgeSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0ZXN0IGltYWdlICogL1xyXG4gICAgICAgIHJvd3MgPSBbXHJcbiAgICAgICAgICAgIFtbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAyNTVdXSxcclxuICAgICAgICAgICAgW1swLCAwLCAyNTVdLCBbMCwgMjU1LDBdXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLyogKi9cclxuXHJcbiAgICAgICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgc3JjID0gd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTChyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICBpbWcuYWx0ID0gJ0lmIHlvdSBjYW4gcmVhZCB0aGlzLCB5b3VyIGJyb3dzZXIgcHJvYmFibHkgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGRhdGEgVVJMIHNjaGVtZSBmb3JtYXQhIE9oIG5vISc7XHJcbiAgICAgICAgaW1nLnRpdGxlID0gJ1lvdSBnZW5lcmF0ZWQgYW4gaW1hZ2UsIGdyZWF0IGpvYiEgVG8gc2F2ZSBpdCwgZHJhZyBpdCB0byB5b3VyIERlc2t0b3Agb3IgcmlnaHQgY2xpY2sgYW5kIHNlbGVjdCBzYXZlIGFzLic7XHJcbiAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICBpZiAoaW1nX3BhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQuaWQgPSAnaW1nJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXAnKS5hcHBlbmRDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nX3BhcmVudC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImltZy1oZWFkZXJcIj5HZW5lcmF0ZWQgSW1hZ2UgJm5ic3A7PGEgdGl0bGU9XCJoaWRlIGltYWdlXCIgaHJlZj1cIiNcIj54PC9hPjwvZGl2Pic7XHJcbiAgICAgICAgaW1nX3BhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nX3BhcmVudC5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwLmFza1RvU2NhbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSBwcm9tcHQoJ1BpY2sgYSBzY2FsaW5nIGZhY3Rvci4uLlxcbjEgPSBhY3R1YWwgc2l6ZSwgLjUgPSBoYWxmLCAyID0gZG91YmxlXFxuKG5vdGU6IGxhcmdlIG51bWJlcnMgbWlnaHQgY3Jhc2ggeW91ciBicm93c2VyKScpO1xyXG4gICAgICAgIGlmIChzY2FsZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBOYU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1RoYXQgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAqIDEwOyAvLyBzaW5jZSBhY3R1YWwgc2l6ZSBpcyBhY3R1YWxseSAxMHghXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAoc2NhbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbn0pKHRoaXMsIHRoaXMuZG9jdW1lbnQpOyIsIi8vIChmdW5jdGlvbigkKSB7XHJcbi8vICAgICAkKGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICAgICQoJ2JvZHknKS50b29sdGlwKHtcclxuLy8gICAgICAgICAgICAgc2VsZWN0b3I6ICdbcmVsPXRvb2x0aXBdJ1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgfSk7XHJcbi8vIH0pKGpRdWVyeSk7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbJ3VpLnJvdXRlcicsICdsei1zdHJpbmcnLCAndWkuYm9vdHN0cmFwJ10pXHJcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgJyR1aWJUb29sdGlwUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCAkdWliVG9vbHRpcFByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5tYWluJyxcclxuICAgICAgICAgICAgICAgIHVybDogJ21haW4nLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5hY2hpZXZlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWNoaWV2ZW1lbnRzJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuYWNoaWV2ZW1lbnRzVUknXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICR1aWJUb29sdGlwUHJvdmlkZXIub3B0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRUb0JvZHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AtbGVmdCcsXHJcbiAgICAgICAgICAgICAgICBwb3B1cENsb3NlRGVsYXk6IDJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXSkucnVuKFsnZ2FtZVNlcnZpY2UnLCBmdW5jdGlvbihnYW1lU2VydmljZSkge1xyXG4gICAgICAgIGdhbWVTZXJ2aWNlLmluaXQoKTtcclxuICAgIH1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5hY2hpZXZlbWVudHNVSScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmFjaGlldmVtZW50c1VJJyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdGl0bGU6ICdAJyxcclxuICAgICAgICBmb290ZXI6ICdAJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmFjaGlldmVtZW50c1VJJywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRCdWlsZGluZ0xpc3QnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYnVpbGRpbmdMaXN0L2J1aWxkaW5nTGlzdC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5idWlsZGluZ0xpc3QnXHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMuYnVpbGRpbmdMaXN0JywgW1xyXG4gICAgJyRzY29wZScsICdidWlsZGluZ1NlcnZpY2UnLCAnJHNjZScsXHJcbiAgICBmdW5jdGlvbigkc2NvcGUsIGJ1aWxkaW5nU2VydmljZSwgJHNjZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5idWlsZGluZ3MgPSBbXTsgLy9idWlsZGluZ1NlcnZpY2UuZ2V0QnVpbGRpbmdTbmFwc2hvdCgpO1xyXG4gICAgICAgICAgICBidWlsZGluZ1NlcnZpY2UuU3Vic2NyaWJlQnVpbGRpbmdzQ2hhbmdlZEV2ZW50KCRzY29wZSwgc2VsZi51cGRhdGVCdWlsZGluZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi51cGRhdGVCdWlsZGluZ3MgPSBmdW5jdGlvbihldmVudCwgYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnVpbGRpbmdzID0gYnVpbGRpbmdzO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1aWxkaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYnVpbGRpbmdzW2ldLnRvb2x0aXAgPSBzZWxmLmdldENvc3RUb29sdGlwKGJ1aWxkaW5nc1tpXS5jb3N0VG9CdWlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYnVpbGRpbmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0Q29zdFRvb2x0aXAgPSBmdW5jdGlvbihjb3N0VG9CdWlsZCkge1xyXG4gICAgICAgICAgICB2YXIgdG9vbHRpcCA9ICc8dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+JztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3N0VG9CdWlsZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PHNwYW4+JyArIGNvc3RUb0J1aWxkW2ldLmFtb3VudCArICc8L3NwYW4+IDxzcGFuPicgKyBjb3N0VG9CdWlsZFtpXS5yZXNvdXJjZSArICc8L3NwYW4+PC9saT4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRvb2x0aXAgKz0gJzwvdWw+JztcclxuICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodG9vbHRpcCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuZmlsdGVyKCdoYXNUcmFpdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHVuaXRzLCB0cmFpdE5hbWUpIHtcclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1bml0cy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgaWYgKHVuaXRzW2ldLmhhc1RyYWl0KHRyYWl0TmFtZSkpXHJcbiAgICAgICAgICAgICAgICByZXQucHVzaCh1bml0c1tpXSk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnQnJlZWRlcicsIFsnJGZpbHRlcicsICdUcmFpdEluc3BlY3RvcicsIGZ1bmN0aW9uKCRmaWx0ZXIsIFRyYWl0SW5zcGVjdG9yKSB7XHJcblxyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIEJyZWVkZXIgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRyYWl0SW5zcGVjdG9yID0gbmV3IFRyYWl0SW5zcGVjdG9yKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwO1xyXG4gICAgICAgIHRoaXMubW90aGVyID0gY29uZmlnLm1vdGhlciB8fCB0aGlzLm1vdGhlciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuZmF0aGVyID0gY29uZmlnLmZhdGhlciB8fCB0aGlzLmZhdGhlciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGNvbmZpZy5nZW5lcmF0aW9uIHx8IHRoaXMuZ2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2VuZXMgPSBjb25maWcuZ2VuZXMgfHwgdGhpcy5nZW5lcyB8fCBbXTtcclxuICAgICAgICB0aGlzLmJyZWVkZXJHZW5lQ2FwID0gY29uZmlnLmJyZWVkZXJHZW5lQ2FwIHx8IHRoaXMuYnJlZWRlckdlbmVDYXAgfHwgMjU7XHJcblxyXG4gICAgICAgIHRoaXMucmVkR3JlZW5JbWFnZSA9IGdldFJlZEdyZWVuSW1hZ2UodGhpcy5nZW5lcywgdGhpcy5icmVlZGVyR2VuZUNhcCk7XHJcbiAgICAgICAgLy90aGlzLmJsdWVJbWFnZSA9IGdldEJsdWVJbWFnZSh0aGlzLmdlbmVzKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFpdHMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldFRyYWl0cyh0aGlzLmdlbmVzKTtcclxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldEF0dHJpYnV0ZXModGhpcy5nZW5lcyk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9ICh0aGlzLm5hbWUgJiYgdGhpcy5uYW1lICE9PSAnVW5rbm93biBHZW5kZXInKSA/IHRoaXMubmFtZSA6IGNvbmZpZy5uYW1lIHx8IHRoaXMuZ2V0UmFuZG9tTmFtZSgpO1xyXG5cclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5icmVlZCA9IGZ1bmN0aW9uKHBhcnRuZXIsIG5ld0lkKSB7XHJcbiAgICAgICAgdmFyIHAxID0gdGhpcztcclxuICAgICAgICB2YXIgcDIgPSBwYXJ0bmVyO1xyXG5cclxuICAgICAgICB2YXIgbXlHZW5kZXIgPSB0aGlzLmhhc1RyYWl0KCdNYWxlJykgPyAnTWFsZScgOiAnRmVtYWxlJztcclxuXHJcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICBpZDogbmV3SWQsXHJcbiAgICAgICAgICAgIGdlbmVyYXRpb246IHAxLmdlbmVyYXRpb24gKyAxLFxyXG4gICAgICAgICAgICBnZW5lczogW10sXHJcbiAgICAgICAgICAgIG1vdGhlcjogbXlHZW5kZXIgPT0gJ0ZlbWFsZScgPyBwMSA6IHAyLFxyXG4gICAgICAgICAgICBmYXRoZXI6IG15R2VuZGVyID09ICdNYWxlJyA/IHAxIDogcDJcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBwMS5nZW5lcy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICB2YXIgcDFnID0gcDEuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIHZhciBwMmcgPSBwMi5nZW5lc1tnXTtcclxuICAgICAgICAgICAgY2hpbGQuZ2VuZXMucHVzaChjcm9zc292ZXIocDFnLCBwMmcsIHRoaXMuYnJlZWRlckdlbmVDYXApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGQudXBkYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWl0cztcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5oYXNUcmFpdCA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudHJhaXRzLmZpbHRlcihmdW5jdGlvbihteVRyYWl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBteVRyYWl0Lm5hbWUgPT09IHRyYWl0O1xyXG4gICAgICAgIH0pLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0ID4gMDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRSYW5kb21OYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdlbmVzIHx8IHRoaXMuZ2VuZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93biBHZW5kZXInO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGZpcnN0TmFtZSA9ICh0aGlzLmhhc1RyYWl0KCdNYWxlJykpID8gbmFtZUxpc3QxW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDEubGVuZ3RoIC0gMSldIDogbmFtZUxpc3QyW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDIubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHZhciBsYXN0TmFtZSA9IG5hbWVMaXN0M1tyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QzLmxlbmd0aCAtIDEpXSArIG5hbWVMaXN0NFtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3Q0Lmxlbmd0aCAtIDEpXSArIG5hbWVMaXN0NVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3Q1Lmxlbmd0aCAtIDEpXTtcclxuICAgICAgICByZXR1cm4gZmlyc3ROYW1lICsgbGFzdE5hbWU7XHJcbiAgICB9O1xyXG4gICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYWxsIHJlbGF0aW9ucyB0byBhY2NvdW50IGZvciBpbmJyZWVkaW5nIChha2EgdW5jbGUgYnJvdGhlcilcclxuICAgIC8qIHRoaXMgaXMgd2F5IHdyb25nLi4uLlxyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmVsYXRpb25zID0gZnVuY3Rpb24odGhleSkge1xyXG4gICAgICAgIHZhciBteXBhdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIG15bWF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgbXlHZW5kZXIgPSB0aGlzLmhhc1RyYWl0KCdNYWxlJykgPyAnTWFsZScgOiAnRmVtYWxlJztcclxuICAgICAgICB2YXIgdGhleXBhdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIHRoZXltYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciB0aGV5R2VuZGVyID0gdGhleS5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcblxyXG4gICAgICAgIHZhciB1O1xyXG4gICAgICAgIC8vIGJ1aWxkICdteScgbGlzdCBvZiBtb3RoZXJzIGFuZCBmYXRoZXJzXHJcbiAgICAgICAgdSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKHUubW90aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBteW1hdGVybmFsLnB1c2godS5tb3RoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5tb3RoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlICh1LmZhdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbXlwYXRlcm5hbC5wdXNoKHUuZmF0aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUuZmF0aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBidWlsZCAndGhleScgbGlzdCBvZiBtb3RoZXJzIGFuZCBmYXRoZXJzXHJcbiAgICAgICAgdSA9IHRoZXk7XHJcbiAgICAgICAgd2hpbGUgKHUubW90aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGV5bWF0ZXJuYWwucHVzaCh1Lm1vdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1Lm1vdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdSA9IHRoZXk7XHJcbiAgICAgICAgd2hpbGUgKHUuZmF0aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGV5cGF0ZXJuYWwucHVzaCh1LmZhdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1LmZhdGhlcjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBtYXRlcm5hbCByZWxhdGlvbnNoaXBzXHJcbiAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBteW1hdGVybmFsLmxlbmd0aDsgaCsrKVxyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoZXltYXRlcm5hbC5sZW5ndGg7IGsrKylcclxuICAgICAgICAgICAgICAgIGlmIChteW1hdGVybmFsW2hdLmlkID09IHRoZXltYXRlcm5hbC5pZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBzYW1lIG1vdGhlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID09IDAgJiYga2sgPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goKCh0aGlzLmZhdGhlci5pZCAhPSB0aGV5LmZhdGhlci5pZCkgPyAnSGFsZiAnIDogJycpICsgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdTaXN0ZXInIDogJ0Jyb3RoZXInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID4gaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goJ0dyYW5kICcucmVwZWF0KChoLWspIC0gMSkgKyAgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdOZWljZScgOiAnTmVwaGV3JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID4gaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goJ0dyYW5kICcucmVwZWF0KChoLWspIC0gMSkgKyAgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdOZWljZScgOiAnTmVwaGV3JykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG5cclxuXHJcbiAgICB9O1xyXG4gICAgKi9cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcbiAgICB2YXIgZ2VuZXRpY09wdGlvbnMgPSB7XHJcbiAgICAgICAgY3Jvc3NvdmVycmF0ZTogMC41XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuICAgIC8vIG1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDEgPSBbJ0RpZ2d5ICcsICdEZWFuICcsICdEdWtlICcsICdEb3lsZSAnLCAnRGlyayAnLCAnRGFnICcsICdEaW1pdHJpICcsICdEcnUgJ107XHJcbiAgICAvLyBmZW1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDIgPSBbJ0RhZ2d5ICcsICdEYWlzeSAnLCAnRGluYWggJywgJ0RoYXJtYSAnLCAnRGVlICcsICdEYXBobmUgJywgJ0RpeGllICcsICdEYXJjeSAnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBwcmVmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDMgPSBbJycsICcnLCAnJywgJycsICcnLCAnVmFuICcsICdWb24gJywgJ09cXCcnLCAnTWMnLCAnTWMnXTtcclxuICAgIC8vIGxhc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDQgPSBbJ0Rvb2cnLCAnRGliYicsICdEYWJiJywgJ0RpZycsICdEYW5nJywgJ0R1Z2cnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBzdWZmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDUgPSBbJycsICcnLCAnJywgJ2xlcicsICdsZXInLCAnZXInLCAnZXInLCAnZXInLCAnd3VlcnN0JywgJ2Vyd3VlcnN0JywgJ2VydG9uJywgJ2VydG9uJywgJ3NraSddO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgZnVuY3Rpb25zICovXHJcbiAgICBmdW5jdGlvbiBjcm9zc292ZXIoZzEsIGcyLCBnZW5lQ2FwKSB7XHJcbiAgICAgICAgdmFyIGNyb3Nzb3ZlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgdmFyIGdlbmVSYXRpbyA9IGdlbmVDYXAgLyAyNTUuMDtcclxuICAgICAgICB2YXIgZyA9IGFuZ3VsYXIuY29weShjcm9zc292ZXIgPD0gZ2VuZXRpY09wdGlvbnMuY3Jvc3NvdmVycmF0ZSA/IGcxIDogZzIpO1xyXG4gICAgICAgIGdbMF0gLz0gZ2VuZVJhdGlvO1xyXG4gICAgICAgIGdbMV0gLz0gZ2VuZVJhdGlvO1xyXG4gICAgICAgIHZhciBtdXRhdGlvblJhdGUgPSBnWzJdIC8gMjU1LjA7XHJcbiAgICAgICAgdmFyIGJpdFN0cmluZ1IgPSAnJztcclxuICAgICAgICB2YXIgYml0U3RyaW5nRyA9ICcnO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nUiArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdHICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2xkUiA9IGdbMF07XHJcbiAgICAgICAgdmFyIG9sZEcgPSBnWzFdO1xyXG4gICAgICAgIGdbMF0gXj0gcGFyc2VJbnQoYml0U3RyaW5nUiwgMik7XHJcbiAgICAgICAgZ1sxXSBePSBwYXJzZUludChiaXRTdHJpbmdHLCAyKTtcclxuICAgICAgICBnWzBdICo9IGdlbmVSYXRpbztcclxuICAgICAgICBnWzFdICo9IGdlbmVSYXRpbztcclxuICAgICAgICByZXR1cm4gZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWRHcmVlbkltYWdlKGdlbmVzLCBicmVlZGVyR2VuZUNhcCkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMsIGJyZWVkZXJHZW5lQ2FwKSwgZ2VuZXMubGVuZ3RoKSwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJsdWVJbWFnZShnZW5lcykge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMsIGJyZWVkZXJHZW5lQ2FwKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBtaW5Db2xvclJhdGlvID0gMSArIGJyZWVkZXJHZW5lQ2FwIC8gNTAuMDtcclxuICAgICAgICB2YXIgY29sb3JSYXRpbyA9IDIwNS4wIC8gYnJlZWRlckdlbmVDYXA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGdlbmVzW2ldWzBdO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGdlbmVzW2ldWzFdO1xyXG4gICAgICAgICAgICB2YXIgYnJpZ2h0ID0gTWF0aC5hYnMociAtIGcpICogY29sb3JSYXRpbztcclxuICAgICAgICAgICAgaWYgKHIgPiBnKSB7XHJcbiAgICAgICAgICAgICAgICByID0gYnJpZ2h0O1xyXG4gICAgICAgICAgICAgICAgciAqPSBtaW5Db2xvclJhdGlvO1xyXG4gICAgICAgICAgICAgICAgZyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByID0gMDtcclxuICAgICAgICAgICAgICAgIGcgPSBicmlnaHQ7XHJcbiAgICAgICAgICAgICAgICBnICo9IG1pbkNvbG9yUmF0aW87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9pZiAociA+IDApIHIgKz0gbWluQ29sb3I7XHJcbiAgICAgICAgICAgIC8vaWYgKGcgPiAwKSBnICs9IG1pbkNvbG9yO1xyXG4gICAgICAgICAgICBpZiAociA+IDI1NSkgciA9IDI1NTtcclxuICAgICAgICAgICAgaWYgKGcgPiAyNTUpIGcgPSAyNTU7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbciwgZywgMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRCbHVlTWFwKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goWzAsIDAsIGdlbmVzW2ldWzJdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUm93cyhnZW5lcywgY29scykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IChnZW5lcy5sZW5ndGggLyBjb2xzKTsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKGdlbmVzW2kgKyAoaiAqIGNvbHMpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQnJlZWRlcjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuZmFjdG9yeSgnUG9wdWxhdGlvbicsIFsnJGZpbHRlcicsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRmaWx0ZXIsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucykge1xyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFBvcHVsYXRpb24gPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKHN0YXRlKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgdGhpcy5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiA9IHN0YXRlLmN1cnJlbnRHZW5lcmF0aW9uIHx8IHRoaXMuY3VycmVudEdlbmVyYXRpb24gfHwgMDtcclxuICAgICAgICB0aGlzLmJyZWVkZXJzID0gc3RhdGUuYnJlZWRlcnMgfHwgdGhpcy5icmVlZGVycyB8fCBbXTtcclxuICAgICAgICB0aGlzLmJyZWVkZXJMaW1pdCA9IHN0YXRlLmJyZWVkZXJMaW1pdCB8fCB0aGlzLmJyZWVkZXJMaW1pdCB8fCAwO1xyXG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IHN0YXRlLm1heFNpemUgfHwgdGhpcy5tYXhTaXplIHx8IDEwO1xyXG4gICAgICAgIHRoaXMuYnJlZWRlck11dGF0aW9uQml0cyA9IHN0YXRlLmJyZWVkZXJNdXRhdGlvbkJpdHMgfHwgdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzIHx8IDQ7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UgPSBzdGF0ZS5icmVlZGVyTXV0YXRpb25DaGFuY2UgfHwgdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UgfHwgNTtcclxuICAgICAgICB0aGlzLmJyZWVkZXJHZW5lc1VubG9ja2VkID0gc3RhdGUuYnJlZWRlckdlbmVzVW5sb2NrZWQgfHwgdGhpcy5icmVlZGVyR2VuZXNVbmxvY2tlZCB8fCBbNDJdO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFNpemUgPSBzdGF0ZS5pbml0aWFsU2l6ZSB8fCB0aGlzLmluaXRpYWxTaXplIHx8IDI7XHJcbiAgICAgICAgaWYgKHN0YXRlLm1lbWJlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5tZW1iZXJzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgc3RhdGUubWVtYmVycy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1lbWJlciA9IHN0YXRlLm1lbWJlcnNbbV07XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogbWVtYmVyLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdGhlcjogbWVtYmVyLm1vdGhlciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhdGhlcjogbWVtYmVyLmZhdGhlciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IG1lbWJlci5nZW5lcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVzOiBtZW1iZXIuZ2VuZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBtZW1iZXIubXV0YXRpb25CaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW1iZXJzLnB1c2godW5pdCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHRoaXMubWVtYmVycyA9IHRoaXMubWVtYmVycyB8fCB0aGlzLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uKHRoaXMuaW5pdGlhbFNpemUpO1xyXG4gICAgfTtcclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXRlID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50R2VuZXJhdGlvbjogdGhpcy5jdXJyZW50R2VuZXJhdGlvbixcclxuICAgICAgICAgICAgYnJlZWRlcnM6IHRoaXMuYnJlZWRlcnMsXHJcbiAgICAgICAgICAgIGJyZWVkZXJMaW1pdDogdGhpcy5icmVlZGVyTGltaXQsXHJcbiAgICAgICAgICAgIG1heFNpemU6IHRoaXMubWF4U2l6ZSxcclxuICAgICAgICAgICAgYnJlZWRlck11dGF0aW9uQml0czogdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzLFxyXG4gICAgICAgICAgICBicmVlZGVyTXV0YXRpb25DaGFuY2U6IHRoaXMuYnJlZWRlck11dGF0aW9uQ2hhbmNlLFxyXG4gICAgICAgICAgICBicmVlZGVyR2VuZXNVbmxvY2tlZDogdGhpcy5icmVlZGVyR2VuZXNVbmxvY2tlZCxcclxuICAgICAgICAgICAgaW5pdGlhbFNpemU6IHRoaXMuaW5pdGlhbFNpemUsXHJcbiAgICAgICAgICAgIG1lbWJlcnM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IG0rKykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gdGhpcy5tZW1iZXJzW21dO1xyXG4gICAgICAgICAgICBzdGF0ZS5tZW1iZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgaWQ6IG1lbWJlci5pZCxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IG1lbWJlci5nZW5lcmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IG1lbWJlci5nZW5lcyxcclxuICAgICAgICAgICAgICAgIG11dGF0aW9uQml0czogbWVtYmVyLm11dGF0aW9uQml0cyxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG1lbWJlci5uYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uID0gZnVuY3Rpb24oY291bnQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGduID0gMDsgZ24gPCBzZWxmLmdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGduKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLmJyZWVkZXJHZW5lc1VubG9ja2VkLmluZGV4T2YoZ24pICE9PSAtMSkgZ2VuZXNbZ25dWzJdID0gc2VsZi5icmVlZGVyTXV0YXRpb25DaGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByID0gaSAlIDIgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGkgJSAyID09PSAwID8gMCA6IDI1NTtcclxuXHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVswXSA9IHI7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsxXSA9IGc7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXVsyXSA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBpLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBhbmd1bGFyLmNvcHkoZ2VuZXMpLFxyXG4gICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBzZWxmLmJyZWVkZXJNdXRhdGlvbkJpdHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb24ucHVzaCh1bml0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBvcHVsYXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmlzQnJlZWRpbmcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5tZW1iZXJzLmxlbmd0aCA+PSB0aGlzLm1heFNpemUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBtYWtlIHN1cmUgdGhlcmUgYXJlIGF0IGxlYXN0IDEgbWFsZSBhbmQgMSBmZW1hbGUgaW4gdGhlIGJyZWVkZXJzXHJcbiAgICAgICAgdmFyIGhhc01hbGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgaGFzRmVtYWxlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJyZWVkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gdGhpcy5nZXRCeUlkKHRoaXMuYnJlZWRlcnNbaV0pO1xyXG4gICAgICAgICAgICBpZiAodW5pdC5oYXNUcmFpdCgnTWFsZScpKSBoYXNNYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZSBoYXNGZW1hbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoaGFzTWFsZSAmJiBoYXNGZW1hbGUpIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzTWFsZSAmJiBoYXNGZW1hbGU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldEJ5SWQgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXQuaWQgPT09IGlkO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRCeUdlbmVyYXRpb24gPSBmdW5jdGlvbihnZW5lcmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdC5nZW5lcmF0aW9uID09PSBnZW5lcmF0aW9uO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5icmVlZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBpZiAoIXNlbGYuaXNCcmVlZGluZygpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICB2YXIgcDEgPSBzZWxmLmdldEJ5SWQoc2VsZi5icmVlZGVyc1swXSk7XHJcbiAgICAgICAgdmFyIHAyID0gc2VsZi5nZXRCeUlkKHNlbGYuYnJlZWRlcnNbMV0pO1xyXG4gICAgICAgIHZhciBjaGlsZCA9IHAxLmJyZWVkKHAyLCBzZWxmLm1lbWJlcnMubGVuZ3RoKTtcclxuICAgICAgICBzZWxmLm1lbWJlcnMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gUG9wdWxhdGlvbjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcblxyXG5nYW1lLmNvbnN0YW50KCdnZW5lRGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgZ2VuZURlZmluaXRpb25zID0gW107XHJcbiAgICAvL2dlbmUgOnIsZyxiIHI6cmVjZXNzaXZlLCBnOmRvbWluYW50LCBiOm11dGF0aW9ucmF0ZVxyXG4gICAgZ2VuZURlZmluaXRpb25zWzBdID0geyBkb206ICdCcm9hZCBTaG91bGRlcnMnLCByZWM6ICdTbGVuZGVyIFNob3VsZGVycycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxXSA9IHsgZG9tOiAnVGhpY2sgU2t1bGwnLCByZWM6ICdTb2Z0IFNrdWxsJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzJdID0geyBkb206ICdMYXJnZSBBcm1zJywgcmVjOiAnU21hbGwgQXJtcycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szXSA9IHsgZG9tOiAnTGFyZ2UgTGVncycsIHJlYzogJ1NtYWxsIExlZ3MnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNF0gPSB7IGRvbTogJ0JpZyBDaGVzdCcsIHJlYzogJ1dlYWsgQ2hlc3QnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNV0gPSB7IGRvbTogJ1RvdWdoIEphdycsIHJlYzogJ1dlYWsgSmF3JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzZdID0geyBkb206ICdPYWZpc2gnLCByZWM6ICdNb3VzZXknLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzEwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzExXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE0XSA9IHsgZG9tOiAnQ2FsY3VsYXRlZCBEZWNpc2lvbnMnLCByZWM6ICdSZWNrbGVzcycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNV0gPSB7IGRvbTogJ0xhdGVyYWwgVGhpbmtlcicsIHJlYzogJ1NpbmdsZSBNaW5kZWQnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTZdID0geyBkb206ICdRdWljayBMZWFybmVyJywgcmVjOiAnRm9yZ2V0ZnVsJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydJTlQnXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1syMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnRU5EJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzBdID0geyBkb206ICdFbG9xdWVudCcsIHJlYzogJ0NhdGF0b25pYycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMV0gPSB7IGRvbTogJ1Bvd2VyZnVsIFZvaWNlJywgcmVjOiAnUXVpZXQgVm9pY2UnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzJdID0geyBkb206ICdGdWxsIExpcHMnLCByZWM6ICdUaGluIExpcHMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzNdID0geyBkb206ICdEYXJrIFNraW4nLCByZWM6ICdGYWlyIFNraW4nLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzQwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQxXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQyXSA9IHsgZG9tOiAnRmVtYWxlJywgcmVjOiAnTWFsZScsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0M10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Nl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0N10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuXHJcbiAgICByZXR1cm4gZ2VuZURlZmluaXRpb25zO1xyXG59KSgpKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ3RyYWl0RGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdHJhaXRzID0gW3tcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAyMDBdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDUwLCAyNTVdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ01hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnUHJldHR5JyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAtMTAwXSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMCwgMjQwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydGZW1hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQWdncmVzc2l2ZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzIsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNSwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzE0LCAtMjU1LCAtMTUwXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdGZW1hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAwLCAyNTVdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ01hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAtMjU1LCAtMV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUgQWdncmVzc2l2ZSBhbmQgc29tZXRoaW5nJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFszMCwgMCwgMF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnSGFuZHNvbWUnLCAnQWdncmVzc2l2ZSddXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuXHJcbiAgICB2YXIgY2hlY2tlZCA9IFtdO1xyXG4gICAgdmFyIGdldFRyYWl0QnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0cmFpdHMuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IHQubmFtZTtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRyYWl0LnJlcXVpcmVkVHJhaXRzKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyYWl0LnJlcXVpcmVkVHJhaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRUcmFpdCA9IHRyYWl0LnJlcXVpcmVkVHJhaXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGdldFRyYWl0QnlOYW1lKHJlcXVpcmVkVHJhaXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQuaW5kZXhPZihyZXEubmFtZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUocmVxKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcmVxLmdlbmVzLmxlbmd0aDsgZysrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0LmdlbmVzLnB1c2gocmVxLmdlbmVzW2ddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja2VkLnB1c2godHJhaXQubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBidWlsZFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFpdCA9IHRyYWl0c1tpXTtcclxuICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSh0cmFpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2codHJhaXRzKTtcclxuICAgICAgICByZXR1cm4gdHJhaXRzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBidWlsZFRyYWl0cygpO1xyXG59KSgpKTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ1RyYWl0SW5zcGVjdG9yJywgWyckZmlsdGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJGZpbHRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFRyYWl0SW5zcGVjdG9yID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICAvL3RoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwOyAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXREZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gdHJhaXREZWZpbml0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCB0ZC5nZW5lcy5sZW5ndGggJiYgbWV0ID09PSB0cnVlOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGRnID0gdGQuZ2VuZXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBnZW5lc1t0ZGdbMF1dWzFdIC0gZ2VuZXNbdGRnWzBdXVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IHRkZ1sxXSB8fCB2ID4gdGRnWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSB7XHJcbiAgICAgICAgICAgIFwiU1RSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiSU5UXCI6IDAsXHJcbiAgICAgICAgICAgIFwiRU5EXCI6IDAsXHJcbiAgICAgICAgICAgIFwiQ0hSXCI6IDAsXHJcbiAgICAgICAgICAgIFwiTENLXCI6IDBcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHN0ckJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgaW50QmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBlbmRCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGNockJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgbGNrQmFzZSA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChnIDwgMTApXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDIwKVxyXG4gICAgICAgICAgICAgICAgICAgIGludEJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAzMClcclxuICAgICAgICAgICAgICAgICAgICBlbmRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgNDApXHJcbiAgICAgICAgICAgICAgICAgICAgY2hyQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGxja0Jhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXQuU1RSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKHN0ckJhc2UpICsgMjApIC8gMjUpKSAqIChzdHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5JTlQgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoaW50QmFzZSkgKyAyMCkgLyAyNSkpICogKGludEJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkVORCA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhlbmRCYXNlKSArIDIwKSAvIDI1KSkgKiAoZW5kQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuQ0hSID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGNockJhc2UpICsgMjApIC8gMjUpKSAqIChjaHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5MQ0sgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMobGNrQmFzZSkgKyAyMCkgLyAyNSkpICogKGxja0Jhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG5cclxuICAgIHJldHVybiBUcmFpdEluc3BlY3RvcjtcclxufV0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWRHYW1lQ29udHJvbCcsIHtcclxuICAgIHRlbXBsYXRlOiAnPGRpdj4nICtcclxuICAgICAgICAnPGJ1dHRvbiB0aXRsZT1cIkhhcmQgUmVzZXRcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY3RybC5yZXNldFNhdmUoKTtcIj48aSBjbGFzcz1cImZhIGZhLXJlY3ljbGVcIj48L2k+PC9idXR0b24+JyArXHJcbiAgICAgICAgJzxidXR0b24gdGl0bGU9XCJQbGF5L1BhdXNlXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlU3RhdGUoKTtcIj48aSBjbGFzcz1cImZhXCIgbmctY2xhc3M9XCIkY3RybC5nZXRJY29uKClcIj48L2k+PC9idXR0b24+JyArXHJcbiAgICAgICAgJzwvZGl2PicsXHJcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICdnYW1lU2VydmljZScsICdnYW1lTG9vcFNlcnZpY2UnLCAnZ2FtZVN0YXRlcycsIGZ1bmN0aW9uKCRzY29wZSwgZ2FtZVNlcnZpY2UsIGdhbWVMb29wU2VydmljZSwgZ2FtZVN0YXRlcykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBnYW1lTG9vcFNlcnZpY2UuZ2V0U3RhdGUoKS5jdXJyZW50U3RhdGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnRvZ2dsZVN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gKHNlbGYuY3VycmVudFN0YXRlID09PSBnYW1lU3RhdGVzLlJVTk5JTkcgPyBnYW1lU3RhdGVzLlBBVVNFRCA6IGdhbWVTdGF0ZXMuUlVOTklORyk7XHJcbiAgICAgICAgICAgIGdhbWVMb29wU2VydmljZS5zZXRTdGF0ZShzZWxmLmN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldEljb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudFN0YXRlID09PSBnYW1lU3RhdGVzLlJVTk5JTkcgPyAnZmEtcGF1c2UnIDogJ2ZhLXBsYXknO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yZXNldFNhdmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZ2FtZVNlcnZpY2UuaGFyZFJlc2V0KCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1dXHJcbn0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZFBsYXllckJveCcsIHtcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICByZXF1aXJlOiB7XHJcbiAgICAgICAgbWFpbkN0cmw6IFwiXmJsb3FoZWFkLmNvbXBvbmVudHMuaG9tZVwiXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMucGxheWVyQm94JyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdGl0bGU6ICdAJyxcclxuICAgICAgICBmb290ZXI6ICdAJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnBsYXllckJveCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi51bml0ID0gc2VsZi5tYWluQ3RybC51bml0O1xyXG4gICAgfTtcclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnXHJcbn0pO1xyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnLCBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIH07XHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZSdcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnLCBbXHJcbiAgICAnJHNjb3BlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgJ2FjaGlldmVtZW50U2VydmljZScsICdyZXNvdXJjZVNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBwb3B1bGF0aW9uU2VydmljZSwgYWNoaWV2ZW1lbnRTZXJ2aWNlLCByZXNvdXJjZVNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRlcnMgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gW107XHJcbiAgICAgICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYubWF4QnJlZWRlcnMgPSAwO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQoJHNjb3BlLCBzZWxmLnVwZGF0ZVBvcHVsYXRpb24pO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQoJHNjb3BlLCBzZWxmLnVwZGF0ZUJyZWVkZXJzKTtcclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLlN1YnNjcmliZU5ld1Jld2FyZEV2ZW50KCRzY29wZSwgc2VsZi5yZXdhcmRFYXJuZWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmV3YXJkRWFybmVkID0gZnVuY3Rpb24oZXZlbnQsIHJld2FyZCkge1xyXG4gICAgICAgICAgICAvLyBldmVudHVhbGx5IHRoaXMgd2lsbCBzaG93IGEgcG9wdXBcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmV3YXJkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnVwZGF0ZU1lbWJlcihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFkZEJyZWVkZXIgPSBmdW5jdGlvbih1bml0aWQpIHtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuYWRkQnJlZWRlcih1bml0aWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5yZW1vdmVCcmVlZGVyKHVuaXRpZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi51cGRhdGVCcmVlZGVycyA9IGZ1bmN0aW9uKGV2ZW50LCBicmVlZGVycykge1xyXG4gICAgICAgICAgICBzZWxmLmJyZWVkZXJzID0gYnJlZWRlcnM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnVwZGF0ZVBvcHVsYXRpb24gPSBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24gPSBkYXRhLnBvcHVsYXRpb247XHJcbiAgICAgICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IGRhdGEubWF4U2l6ZTtcclxuICAgICAgICAgICAgc2VsZi5icmVlZGVyTGltaXQgPSBkYXRhLmJyZWVkZXJMaW1pdDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKTtcclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudChcImJsb3FoZWFkQnJlZWRlclwiLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIixcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJzwnLFxyXG4gICAgICAgIGFsbG93QXNzaWduOiAnPCcsXHJcbiAgICAgICAgYXNzaWduOiAnJidcclxuICAgIH1cclxufSk7XHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmFsbG93QXNzaWduID0gYW5ndWxhci5pc0RlZmluZWQoc2VsZi5hbGxvd0Fzc2lnbikgPyBzZWxmLmFsbG93QXNzaWduIDogdHJ1ZTtcclxuXHJcbiAgICB9O1xyXG4gICAgc2VsZi5hc3NpZ25NZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuYXNzaWduKHsgJGlkOiBzZWxmLnVuaXQuaWQgfSk7XHJcbiAgICB9O1xyXG5cclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkTG9nJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xvZy9sb2cuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMubG9nJ1xyXG59KTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ2xvZ1R5cGVzJywge1xyXG4gICAgR0VORVJBTDogMSxcclxuICAgIEJSRUVEOiAyLFxyXG4gICAgQUNISUVWRU1FTlQ6IDNcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubG9nJywgW1xyXG4gICAgJyRzY29wZScsICdsb2dTZXJ2aWNlJywgJ2xvZ1R5cGVzJyxcclxuICAgIGZ1bmN0aW9uKCRzY29wZSwgbG9nU2VydmljZSwgbG9nVHlwZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICAgICAgbG9nU2VydmljZS5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQoJHNjb3BlLCBzZWxmLnJlY2VpdmVNZXNzYWdlcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRMb2dDbGFzcyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgdmFyIHByZWZpeCA9ICdsaXN0LWdyb3VwLWl0ZW0tJztcclxuICAgICAgICAgICAgdmFyIGEgPSAnJztcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkdFTkVSQUw6XHJcbiAgICAgICAgICAgICAgICAgICAgYSA9ICdjb2xvci1nZW5lcmFsJztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgbG9nVHlwZXMuQUNISUVWRU1FTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYSA9ICdjb2xvci1hY2hpZXZlbWVudCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkJSRUVEOlxyXG4gICAgICAgICAgICAgICAgICAgIGEgPSAnY29sb3ItYnJlZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBhID0gcHJlZml4ICsgJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmVjZWl2ZU1lc3NhZ2VzID0gZnVuY3Rpb24oZXZlbnQsIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMgPSBtZXNzYWdlcztcclxuICAgICAgICAgICAgJCgnLmxvZy1jb21wb25lbnQnKVswXS5zY3JvbGxUb3AgPSAkKCcubG9nLWNvbXBvbmVudCcpWzBdLnNjcm9sbEhlaWdodDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKTtcclxuXHJcbmdhbWUuc2VydmljZSgnbG9nU2VydmljZScsIFsnJHJvb3RTY29wZScsICdsb2dUeXBlcycsIGZ1bmN0aW9uKCRyb290U2NvcGUsIGxvZ1R5cGVzKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihjbGVhckxvZykge1xyXG4gICAgICAgIGlmIChjbGVhckxvZykge1xyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgICAgIHNlbGYubG9nR2VuZXJhbE1lc3NhZ2UoXCJXZWxjb21lIHRvIEdlbmV0aXghXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkdFTkVSQUwsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuICAgIHNlbGYubG9nQnJlZWRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkJSRUVELCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0FjaGlldmVtZW50TWVzc2FnZSA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzLnB1c2goeyB0eXBlOiBsb2dUeXBlcy5BQ0hJRVZFTUVOVCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignbmV3TWVzc2FnZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2FjaGlldmVtZW50U2V0dXAnLCB7XHJcbiAgICBhY2hpZXZlbWVudHM6IHtcclxuICAgICAgICBBX0JJUlRIUzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0JJUlRIUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdUaGUgQ2hvc2VuIE9uZScsXHJcbiAgICAgICAgICAgIGRlc2M6ICdDcmVhdGUgYSBuZXcgdW5pdCcsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMSwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX0JPTlVTJywgJ0dPTEQnLCA1XSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9CT05VUycsICdXT09EJywgMTAwXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9CT05VUycsICdESVJUJywgNTAwMF0sXHJcbiAgICAgICAgICAgICAgICBdXSxcclxuICAgICAgICAgICAgICAgIFsyMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX0JPTlVTJywgJ0dPTEQnLCA1MF0sXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX01fSEFQUElORVNTJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX0dfRU5IQU5DRUQnLCAxNCwgMTBdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0RJUlQ6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9ESVJUJyxcclxuICAgICAgICAgICAgbmFtZTogJ0l0cyBEaXJ0Li4uLicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIGRpcnQuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9ESVJUX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9ESVJUX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnRGlydCBIb2FyZGVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSBkaXJ0Li4uIGxvdHMgYW5kIGxvdHMgb2YgZGlydCEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9CUklDS1M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9CUklDS1MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnYnJpY2tzJyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gYnJpY2tzLicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfQlJJQ0tTX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9CUklDS1NfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdCcmljayBIb2FyZGVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSBicmlja3MuLi4gbG90cyBhbmQgbG90cyBvZiBicmlja3MhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfV0FURVI6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9XQVRFUicsXHJcbiAgICAgICAgICAgIG5hbWU6ICdvbW5vbW5vbScsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIHdhdGVyLicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfV0FURVJfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX1dBVEVSX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnV2F0ZXIgSG9hcmRlcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgd2F0ZXIuLi4gbG90cyBhbmQgbG90cyBvZiB3YXRlciEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9XT09EOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfV09PRCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICd0cmVlIGd1dHMnLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiB3b29kLicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfV09PRF9DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfV09PRF9DJyxcclxuICAgICAgICAgICAgbmFtZTogJ1dvb2QgSG9hcmRlcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgd29vZC4uLiBsb3RzIGFuZCBsb3RzIG9mIHdvb2QhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfR09MRDoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0dPTEQnLFxyXG4gICAgICAgICAgICBuYW1lOiAnT29vb2hoaCBTaGlpaWlpbnknLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiBnb2xkLicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfR09MRF9DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfR09MRF9DJyxcclxuICAgICAgICAgICAgbmFtZTogJ0dvbGQgSG9hcmRlcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdBcXVpcmUgZ29sZC4uLiBsb3RzIGFuZCBsb3RzIG9mIGdvbGQhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfSEFQUElORVNTOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfSEFQUElORVNTJyxcclxuICAgICAgICAgICAgbmFtZTogJ2JlIGhhcHB5IG1vbicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIGhhcHBpbmVzcy4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0hBUFBJTkVTU19DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfSEFQUElORVNTX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnSGFwcHluZXNzJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSBoYXBwaW5lc3MuLi4gbG90cyBhbmQgbG90cyBvZiBoYXBwaW5lc3MhJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFsxMDAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMl1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcGVya3M6IHtcclxuICAgICAgICAvLyBtZWNoYW5pY3NcclxuICAgICAgICBQX01fSEFQUElORVNTOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfTV9IQVBQSU5FU1MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnTmV3IE1lY2hhbmljOiBIYXBwaW5lc3MnLFxyXG4gICAgICAgICAgICBkZXNjOiAnSGFwcGluZXNzIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaG93IGNvbnRlbnQgeW91ciBwb3B1bGF0aW9uIGlzLicsXHJcbiAgICAgICAgICAgIG9uY2U6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFBfUl9NVUxUSVBMSUVSOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfUl9NVUxUSVBMSUVSJyxcclxuICAgICAgICAgICAgbmFtZTogJ1Jlc291cmNlIE11bGlwbGllcicsXHJcbiAgICAgICAgICAgIGRlc2M6ICdUaGUgcmF0ZSB0aGF0IHlvdSBhcXVpcmUgWyUxXSBoYXMgYmVlbiBpbmNyZWFzZWQgYnkgWyUyXXguJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUF9SX0JPTlVTOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfUl9CT05VUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdCb251cyBSZXNvdXJjZXMnLFxyXG4gICAgICAgICAgICBkZXNjOiAnWyUyXSBbJTFdIGhhcyBiZWVuIGFkZGVkIHRvIHlvdXIgY29mZmVycy4nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQX0dfRU5IQU5DRUQ6IHtcclxuICAgICAgICAgICAgcGlkOiAnUF9HX0VOSEFOQ0VEJyxcclxuICAgICAgICAgICAgbmFtZTogJ0dlbmUgRW5oYW5jZW1lbnQnLFxyXG4gICAgICAgICAgICBkZXNjOiAnVGhlIGJvdW5kYXJ5IGhhcyBiZWVuIGluY3JlYXNlZCBieSBbJWFtdF0gZm9yIG9uZSBvZiB5b3VyIFslYXR0cl0gZ2VuZXMuIChbJWRvbV0vWyVyZWNdKSdcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5zZXJ2aWNlKCdhY2hpZXZlbWVudFNlcnZpY2UnLCBbXHJcbiAgICAnJHJvb3RTY29wZScsICckZmlsdGVyJywgJ2xvZ1NlcnZpY2UnLCAnYWNoaWV2ZW1lbnRTZXR1cCcsICdnZW5lRGVmaW5pdGlvbnMnLCAncmVzb3VyY2VUeXBlcycsXHJcbiAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZmlsdGVyLCBsb2dTZXJ2aWNlLCBhY2hpZXZlbWVudFNldHVwLCBnZW5lRGVmaW5pdGlvbnMsIHJlc291cmNlVHlwZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RhdGUpXHJcbiAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzID0geyBhY2hpZXZlbWVudHM6IHN0YXRlLmFjaGlldmVtZW50cywgcGVya3M6IHN0YXRlLnBlcmtzIH07XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSB7IGFjaGlldmVtZW50czogW10sIHBlcmtzOiBbXSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgYWNoaWV2ZW1lbnRzOiBzZWxmLnByb2dyZXNzLmFjaGlldmVtZW50cyxcclxuICAgICAgICAgICAgICAgIHBlcmtzOiBzZWxmLnByb2dyZXNzLnBlcmtzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlUHJvZ3Jlc3MgPSBmdW5jdGlvbihhaWQsIGFtb3VudCkge1xyXG4gICAgICAgICAgICB2YXIgYWNoUHJvZ3Jlc3MgPSBzZWxmLnByb2dyZXNzLmFjaGlldmVtZW50c1thaWRdO1xyXG4gICAgICAgICAgICBpZiAoIWFjaFByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBhY2hQcm9ncmVzcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBhaWQ6IGFpZCxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IDBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBzZWxmLnByb2dyZXNzLmFjaGlldmVtZW50c1thaWRdID0gYWNoUHJvZ3Jlc3M7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBvbGR2YWwgPSBhY2hQcm9ncmVzcy5hbW91bnQ7XHJcbiAgICAgICAgICAgIHZhciBuZXd2YWwgPSBhY2hQcm9ncmVzcy5hbW91bnQgKyBhbW91bnQ7XHJcblxyXG4gICAgICAgICAgICBhY2hQcm9ncmVzcy5hbW91bnQgPSBuZXd2YWw7XHJcblxyXG4gICAgICAgICAgICB2YXIgYWNoU2V0dXAgPSBhY2hpZXZlbWVudFNldHVwLmFjaGlldmVtZW50c1thaWRdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciByYyA9IDA7IHJjIDwgYWNoU2V0dXAucmFua3MubGVuZ3RoOyByYysrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW1vdW50UmVxdWlyZWQgPSBhY2hTZXR1cC5yYW5rc1tyY11bMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW1vdW50UmVxdWlyZWQgPiBvbGR2YWwgJiYgYW1vdW50UmVxdWlyZWQgPD0gbmV3dmFsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXdhcmQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjaGlldmVtZW50OiBhY2hTZXR1cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50UmVxdWlyZWQ6IGFtb3VudFJlcXVpcmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJrczogW11cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0FjaGlldmVtZW50TWVzc2FnZSgnQWNoaWV2ZW1lbnQgRWFybmVkIC0gJyArIGFjaFNldHVwLm5hbWUgKyAnICgnICsgYW1vdW50UmVxdWlyZWQgKyAnKScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSBwZXJrc1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBjID0gMDsgcGMgPCBhY2hTZXR1cC5yYW5rc1tyY11bMV0ubGVuZ3RoOyBwYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gc2VsZi5hcHBseVBlcmsoYWNoU2V0dXAucmFua3NbcmNdWzFdW3BjXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXdhcmQucGVya3MucHVzaChwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3UmV3YXJkRXZlbnQnLCByZXdhcmQpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYXBwbHlQZXJrID0gZnVuY3Rpb24oYXJyKSB7XHJcbiAgICAgICAgICAgIHZhciBwaWQgPSBhcnJbMF07XHJcbiAgICAgICAgICAgIHZhciBwZXJrU2V0dXAgPSBhY2hpZXZlbWVudFNldHVwLnBlcmtzW3BpZF07XHJcblxyXG4gICAgICAgICAgICAvLyBpZiB0aGlzIHBlcmsgY2FuIG9ubHkgYmUgZWFybmVkIG9uY2UgYW5kIHRoZSBwbGF5ZXIgaGFzIGVhcm5lZCBpdCBhbHJlYWR5LFxyXG4gICAgICAgICAgICAvLyB3ZSBkbyBub3QgaGF2ZSB0byBkbyBhbnl0aGluZ1xyXG4gICAgICAgICAgICBpZiAocGVya1NldHVwLm9uY2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwZXJrU2VhcmNoID0gJGZpbHRlcignZmlsdGVyJykoc2VsZi5wcm9ncmVzcy5wZXJrcywgeyBwaWQ6IHBpZCB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJrU2VhcmNoLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gbG9nIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgIHZhciBtc2cgPSBwZXJrU2V0dXAubmFtZSArICcgLSAnICsgcGVya1NldHVwLmRlc2M7XHJcbiAgICAgICAgICAgIHN3aXRjaCAocGVya1NldHVwLnBpZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUF9HX0VOSEFOQ0VEJzpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VuZSA9IGdlbmVEZWZpbml0aW9uc1thcnJbMV1dO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJWRvbV0nLCBnZW5lLmRvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slcmVjXScsIGdlbmUucmVjKTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVhdHRyXScsIGdlbmUuYXR0clswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slYW10XScsIGFyclsyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQX1JfQk9OVVMnOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnUF9SX01VTFRJUExJRVInOlxyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJTFdJywgcmVzb3VyY2VUeXBlc1thcnJbMV1dLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJTJdJywgYXJyWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJScgKyBpICsgJ10nLCBhcnJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0FjaGlldmVtZW50TWVzc2FnZShtc2cpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJldCA9IHtcclxuICAgICAgICAgICAgICAgIHBpZDogcGlkLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBtc2csXHJcbiAgICAgICAgICAgICAgICBhcnI6IGFycixcclxuICAgICAgICAgICAgICAgIGR0OiAobmV3IERhdGUoKSkudG9VVENTdHJpbmcoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnByb2dyZXNzLnBlcmtzLnB1c2gocmV0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVOZXdSZXdhcmRFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdSZXdhcmRFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ2RlZmF1bHRCdWlsZGluZ3MnLCB7XHJcbiAgICBCVU5HQUxPVzoge1xyXG4gICAgICAgIG5hbWU6ICdCcmVlZGluZyBCdW5nYWxvdycsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdBIHByaXZhdGUgYnVuZ2Fsb3cgd2hlcmUgdGhlIG1hZ2ljIGhhcHBlbnMuJyxcclxuICAgICAgICB1c2U6ICdicmVlZGluZycsXHJcbiAgICAgICAgc2l6ZTogMixcclxuICAgICAgICBiYXNlQ29zdDogW3tcclxuICAgICAgICAgICAgcmVzb3VyY2U6ICdESVJUJyxcclxuICAgICAgICAgICAgYW1vdW50OiAyNSxcclxuICAgICAgICAgICAgY29zdE11bHRpcGxpZXI6IDEuMDVcclxuICAgICAgICB9XSxcclxuICAgICAgICBwdXJjaGFzZWQ6IDAsXHJcbiAgICAgICAgZ2lmdGVkOiAxLFxyXG4gICAgICAgIHVubG9ja2VkOiAxXHJcblxyXG4gICAgfSxcclxuICAgIERJUlRQSUxFOiB7XHJcbiAgICAgICAgbmFtZTogJ0RpcnQgcGlsZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdXaGVyZSBlbHNlIHdvdWxkIHlvdSBzdG9yZSBkaXJ0PycsXHJcbiAgICAgICAgdXNlOiAnc3RvcmFnZScsXHJcbiAgICAgICAgc3RvcmVzOiAnRElSVCcsXHJcbiAgICAgICAgc2l6ZTogMjUsXHJcbiAgICAgICAgYmFzZUNvc3Q6IFt7XHJcbiAgICAgICAgICAgIHJlc291cmNlOiAnRElSVCcsXHJcbiAgICAgICAgICAgIGFtb3VudDogMTAsXHJcbiAgICAgICAgICAgIGNvc3RNdWx0aXBsaWVyOiAxLjI1XHJcbiAgICAgICAgfV0sXHJcbiAgICAgICAgcHVyY2hhc2VkOiAwLFxyXG4gICAgICAgIGdpZnRlZDogMSxcclxuICAgICAgICB1bmxvY2tlZDogMVxyXG4gICAgfSxcclxuICAgIFNPREhPVVNFOiB7XHJcbiAgICAgICAgbmFtZTogJ1NvZCBob3VzZScsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdQcm92aWRlcyBtaW5pbWFsIHNoZWx0ZXIgZm9yIHtzaXplfSB0aGluZ3MuJyxcclxuICAgICAgICB1c2U6ICdob3VzaW5nJyxcclxuICAgICAgICBzaXplOiA1LFxyXG4gICAgICAgIGJhc2VDb3N0OiBbe1xyXG4gICAgICAgICAgICByZXNvdXJjZTogJ0RJUlQnLFxyXG4gICAgICAgICAgICBhbW91bnQ6IDUsXHJcbiAgICAgICAgICAgIGNvc3RNdWx0aXBsaWVyOiAxLjA1XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICByZXNvdXJjZTogJ1dBVEVSJyxcclxuICAgICAgICAgICAgYW1vdW50OiA1LFxyXG4gICAgICAgICAgICBjb3N0TXVsdGlwbGllcjogMS4wNVxyXG4gICAgICAgIH1dLFxyXG4gICAgICAgIHB1cmNoYXNlZDogMCxcclxuICAgICAgICBnaWZ0ZWQ6IDEsXHJcbiAgICAgICAgdW5sb2NrZWQ6IDFcclxuICAgIH0sXHJcbiAgICBXRUxMOiB7XHJcbiAgICAgICAgbmFtZTogJ1dlbGwnLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVXNlZCBmb3Igd2F0ZXIgcHJvZHVjdGlvbi4nLFxyXG4gICAgICAgIHVzZTogJ3Byb2R1Y3Rpb24nLFxyXG4gICAgICAgIHByb2R1Y2VzOiAnV0FURVInLFxyXG4gICAgICAgIHNpemU6IDUsXHJcbiAgICAgICAgYmFzZUNvc3Q6IFt7XHJcbiAgICAgICAgICAgIHJlc291cmNlOiAnQlJJQ0tTJyxcclxuICAgICAgICAgICAgYW1vdW50OiAxMDAsXHJcbiAgICAgICAgICAgIGNvc3RNdWx0aXBsaWVyOiAxLjA1XHJcbiAgICAgICAgfV0sXHJcbiAgICAgICAgcHVyY2hhc2VkOiAwLFxyXG4gICAgICAgIGdpZnRlZDogMCxcclxuICAgICAgICB1bmxvY2tlZDogMFxyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIGdhbWUuZmFjdG9yeSgnQnVpbGRpbmcnLCBbJ2J1aWxkaW5nVHlwZXMnLCBmdW5jdGlvbihidWlsZGluZ1R5cGVzKSB7XHJcbi8vICAgICB2YXIgQnVpbGRpbmcgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4vLyAgICAgICAgIHRoaXMudXBkYXRlKHN0YXRlKTtcclxuLy8gICAgIH07XHJcbi8vICAgICBCdWlsZGluZy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuLy8gICAgICAgICB0aGlzLmJ1aWxkaW5nVHlwZSA9IHN0YXRlLmJ1aWxkaW5nVHlwZSB8fCB0aGlzLmJ1aWxkaW5nVHlwZTtcclxuLy8gICAgIH07XHJcbi8vICAgICByZXR1cm4gQnVpbGRpbmc7XHJcbi8vIH1dKTtcclxuXHJcblxyXG5nYW1lLnNlcnZpY2UoJ2J1aWxkaW5nU2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJ2RlZmF1bHRCdWlsZGluZ3MnLCAncmVzb3VyY2VUeXBlcycsICdyZXNvdXJjZVNlcnZpY2UnLCAncG9wdWxhdGlvblNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZGVmYXVsdEJ1aWxkaW5ncywgcmVzb3VyY2VUeXBlcywgcmVzb3VyY2VTZXJ2aWNlLCBwb3B1bGF0aW9uU2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICBzZWxmLnN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuc3RhdGUuYnVpbGRpbmdzID0gYW5ndWxhci5tZXJnZSh7fSwgZGVmYXVsdEJ1aWxkaW5ncywgc3RhdGUuYnVpbGRpbmdzKTtcclxuICAgICAgICAgICAgc2VsZi51cGRhdGVTdG9yYWdlKCk7XHJcbiAgICAgICAgICAgIHNlbGYudXBkYXRlQnJlZWRlcnMoKTtcclxuICAgICAgICAgICAgc2VsZi51cGRhdGVIb3VzaW5nKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnN0YXRlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRCdWlsZGluZ1NuYXBzaG90ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2VsZi5zdGF0ZS5idWlsZGluZ3MpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnN0YXRlLmJ1aWxkaW5ncy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1aWxkaW5nID0gc2VsZi5zdGF0ZS5idWlsZGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVpbGRpbmcudW5sb2NrZWQgfHwgMCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGJ1aWxkaW5nLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2VsZi5mb3JtYXREZXNjcmlwdGlvbihidWlsZGluZyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lZDogYnVpbGRpbmcucHVyY2hhc2VkICsgYnVpbGRpbmcuZ2lmdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zdFRvQnVpbGQ6IHNlbGYuY2FsY3VsYXRlTmV4dENvc3QoYnVpbGRpbmcpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5mb3JtYXREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGJ1aWxkaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IGJ1aWxkaW5nLmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24uaW5kZXhPZigne3NpemV9JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGJ1aWxkaW5nLnNpemUgKiAoYnVpbGRpbmcubXVsdGlwbGllciB8fCAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZy51c2UgPT09ICdicmVlZGluZycpIHNpemUgKj0gKHNlbGYuc3RhdGUuYnJlZWRpbmdTaXplTXVsdGlwbGllciB8fCAxKTtcclxuICAgICAgICAgICAgICAgIGlmIChidWlsZGluZy51c2UgPT09ICdzdG9yYWdlJykgc2l6ZSAqPSAoc2VsZi5zdGF0ZS5zdG9yYWdlU2l6ZU11bHRpcGxpZXIgfHwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnVpbGRpbmcudXNlID09PSAnaG91c2luZycpIHNpemUgKj0gKHNlbGYuc3RhdGUuaG91c2luZ1NpemVNdWx0aXBsaWVyIHx8IDEpO1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5yZXBsYWNlKC97c2l6ZX0vZywgc2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuY2FsY3VsYXRlTmV4dENvc3QgPSBmdW5jdGlvbihidWlsZGluZykge1xyXG4gICAgICAgICAgICB2YXIgY29zdHMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWlsZGluZy5iYXNlQ29zdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvc3QgPSBidWlsZGluZy5iYXNlQ29zdFtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0QW1vdW50ID0gY29zdC5hbW91bnQgKiBNYXRoLnBvdyhjb3N0LmNvc3RNdWx0aXBsaWVyLCBidWlsZGluZy5wdXJjaGFzZWQpO1xyXG4gICAgICAgICAgICAgICAgY29zdHMucHVzaCh7IHJlc291cmNlOiByZXNvdXJjZVR5cGVzW2Nvc3QucmVzb3VyY2VdLm5hbWUsIGFtb3VudDogbmV4dEFtb3VudCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29zdHM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi51cGRhdGVCcmVlZGVycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgbWF4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHR5cGVNdWx0ID0gc2VsZi5zdGF0ZS5icmVlZGluZ1NpemVNdWx0aXBsaWVyIHx8IDE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzZWxmLnN0YXRlLmJ1aWxkaW5ncykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuYnVpbGRpbmdzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnVpbGRpbmcgPSBzZWxmLnN0YXRlLmJ1aWxkaW5nc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWlsZGluZy51c2UgPT09ICdicmVlZGluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11bHRpcGxpZXIgPSBidWlsZGluZy5zaXplTXVsdGlwbGllciB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggKz0gTWF0aC5mbG9vcihidWlsZGluZy5zaXplICogbXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1heCAqPSB0eXBlTXVsdDtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2Uuc2V0QnJlZWRlckxpbWl0KE1hdGguZmxvb3IobWF4KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnVwZGF0ZVN0b3JhZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHR5cGVNdWx0ID0gc2VsZi5zdGF0ZS5zdG9yYWdlU2l6ZU11bHRpcGxpZXIgfHwgMTtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlcyA9IHJlc291cmNlU2VydmljZS5nZXRSZXNvdXJjZXNTbmFwc2hvdCgpO1xyXG4gICAgICAgICAgICB2YXIgcnQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNlbGYuc3RhdGUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5idWlsZGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWlsZGluZyA9IHNlbGYuc3RhdGUuYnVpbGRpbmdzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1aWxkaW5nLnVzZSA9PT0gJ3N0b3JhZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ0LnB1c2goYnVpbGRpbmcuc3RvcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG11bHRpcGxpZXIgPSBidWlsZGluZy5tdWx0aXBsaWVyIHx8IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlc1tidWlsZGluZy5zdG9yZXNdLm5ld0Ftb3VudCA9IHJlc291cmNlc1tidWlsZGluZy5zdG9yZXNdLm5ld0Ftb3VudCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXNbYnVpbGRpbmcuc3RvcmVzXS5uZXdBbW91bnQgKz0gTWF0aC5mbG9vcigoYnVpbGRpbmcuc2l6ZSAqIG11bHRpcGxpZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJ0LmZpbHRlcihmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZXNbdF0ubmV3QW1vdW50ID0gTWF0aC5mbG9vcihyZXNvdXJjZXNbdF0ubmV3QW1vdW50ICogdHlwZU11bHQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlc1t0XVsxXSAhPSByZXNvdXJjZXNbdF0ubmV3QW1vdW50KVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlU2VydmljZS5zZXRSZXNvdXJjZUxpbWl0KHQsIHJlc291cmNlc1t0XS5uZXdBbW91bnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudXBkYXRlSG91c2luZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdHlwZU11bHQgPSBzZWxmLnN0YXRlLmhvdXNpbmdTaXplTXVsdGlwbGllciB8fCAxO1xyXG4gICAgICAgICAgICB2YXIgbWF4ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNlbGYuc3RhdGUuYnVpbGRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZS5idWlsZGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWlsZGluZyA9IHNlbGYuc3RhdGUuYnVpbGRpbmdzW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1aWxkaW5nLnVzZSA9PT0gJ2hvdXNpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtdWx0aXBsaWVyID0gYnVpbGRpbmcubXVsdGlwbGllciB8fCAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggKz0gTWF0aC5mbG9vcihidWlsZGluZy5zaXplICogbXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnNldFBvcHVsYXRpb25MaW1pdChNYXRoLmZsb29yKG1heCAqIHR5cGVNdWx0KSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCdWlsZGluZ3NDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnVpbGRpbmdzQ2hhbmdlZEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGlmIChzY29wZSkgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdidWlsZGluZ3NDaGFuZ2VkRXZlbnQnLCBzZWxmLmdldEJ1aWxkaW5nU25hcHNob3QoKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5nYW1lLnNlcnZpY2UoJ3BvcHVsYXRpb25TZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnZ2FtZUxvb3BTZXJ2aWNlJywgJ1BvcHVsYXRpb24nLCAnbG9nU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZ2FtZUxvb3BTZXJ2aWNlLCBQb3B1bGF0aW9uLCBsb2dTZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRTdGVwcyA9IHN0YXRlLmJyZWVkU3RlcHMgfHwgc3RhdGUuYnJlZWRTdGVwcyB8fCA2O1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IHN0YXRlLnN0ZXBzU2luY2VCcmVlZCB8fCBzZWxmLnN0ZXBzU2luY2VCcmVlZCB8fCAwO1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb25TdGF0ZSA9IHN0YXRlLnBvcHVsYXRpb25TdGF0ZSB8fCBzZWxmLnBvcHVsYXRpb25TdGF0ZTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gKHNlbGYucG9wdWxhdGlvblN0YXRlKSA/IG5ldyBQb3B1bGF0aW9uKHNlbGYucG9wdWxhdGlvblN0YXRlKSA6IHNlbGYucG9wdWxhdGlvbiB8fCBuZXcgUG9wdWxhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlID0gbG9nU2VydmljZTtcclxuICAgICAgICAgICAgc2VsZi5zZW5kQnJlZWRlclVwZGF0ZUV2ZW50KCk7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZFBvcHVsYXRpb25VcGRhdGVFdmVudCgpO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgYnJlZWRTdGVwczogc2VsZi5icmVlZFN0ZXBzLFxyXG4gICAgICAgICAgICAgICAgc3RlcHNTaW5jZUJyZWVkOiBzZWxmLnN0ZXBzU2luY2VCcmVlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzdGF0ZS5wb3B1bGF0aW9uU3RhdGUgPSBzZWxmLnBvcHVsYXRpb24uZ2V0U3RhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuaGFuZGxlR2FtZUxvb3AgPSBmdW5jdGlvbihldmVudCwgc3RlcHMpIHtcclxuICAgICAgICAgICAgdmFyIHBvcFVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm5hbWUgIT09ICdnYW1lTG9vcEV2ZW50Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BvcHVsYXRlU2VydmljZS5oYW5kbGVHYW1lTG9vcCAtIEludmFsaWQgZXZlbnQ6ICcgKyBldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkICs9IHN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHNlbGYuc3RlcHNTaW5jZUJyZWVkID49IHNlbGYuYnJlZWRTdGVwcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkIC09IHNlbGYuYnJlZWRTdGVwcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc3ByaW5nID0gc2VsZi5wb3B1bGF0aW9uLmJyZWVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNwcmluZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIk5ldyBvZmZzcHJpbmchIFwiICsgb2Zmc3ByaW5nLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hyQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsY2tCYXNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVzID0gb2Zmc3ByaW5nLmdlbmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVzLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZyA8IDEwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ckJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAyMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgMzApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDQwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNockJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsY2tCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyQmFzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV9CSVJUSFMnLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcFVwZGF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kUG9wdWxhdGlvblVwZGF0ZUV2ZW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRCcmVlZGVyID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKSA9PT0gLTEgJiYgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzLmxlbmd0aCA8IHNlbGYucG9wdWxhdGlvbi5icmVlZGVyTGltaXQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5wdXNoKGlkKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc2VuZEJyZWVkZXJVcGRhdGVFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIkJyZWVkZXIgYWRkZWQ6IFwiICsgc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlbW92ZUJyZWVkZXIgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLnBvcHVsYXRpb24uaXNCcmVlZGluZygpKSBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnNlbmRCcmVlZGVyVXBkYXRlRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nU2VydmljZS5sb2dCcmVlZE1lc3NhZ2UoXCJCcmVlZGVyIHJlbW92ZWQ6IFwiICsgc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnVwZGF0ZU1lbWJlciA9IGZ1bmN0aW9uKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlciA9IHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKTtcclxuICAgICAgICAgICAgbWVtYmVyLmdlbmVzW2dlbmVJbmRleF0gPSBnZW5lVmFsdWVzO1xyXG4gICAgICAgICAgICBtZW1iZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZFBvcHVsYXRpb25VcGRhdGVFdmVudCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZXRCcmVlZGVyTGltaXQgPSBmdW5jdGlvbihuZXdMaW1pdCkge1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24uYnJlZWRlckxpbWl0ID0gbmV3TGltaXQ7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZFBvcHVsYXRpb25VcGRhdGVFdmVudCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZXRQb3B1bGF0aW9uTGltaXQgPSBmdW5jdGlvbihuZXdMaW1pdCkge1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24ubWF4U2l6ZSA9IG5ld0xpbWl0O1xyXG4gICAgICAgICAgICBzZWxmLnNlbmRQb3B1bGF0aW9uVXBkYXRlRXZlbnQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc2VuZEJyZWVkZXJVcGRhdGVFdmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZW5kUG9wdWxhdGlvblVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIHsgcG9wdWxhdGlvbjogc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMsIG1heFNpemU6IHNlbGYucG9wdWxhdGlvbi5tYXhTaXplLCBicmVlZGVyTGltaXQ6IHNlbGYucG9wdWxhdGlvbi5icmVlZGVyTGltaXQgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnJlZWRlclVwZGF0ZUV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZEJyZWVkZXJVcGRhdGVFdmVudCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgIHNlbGYuc2VuZFBvcHVsYXRpb25VcGRhdGVFdmVudCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGdhbWVMb29wU2VydmljZS5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50KCRyb290U2NvcGUsIHNlbGYuaGFuZGxlR2FtZUxvb3ApO1xyXG4gICAgfVxyXG5dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCdyZXNvdXJjZVR5cGVzJywge1xyXG4gICAgRElSVDoge1xyXG4gICAgICAgIG5hbWU6ICdEaXJ0JyxcclxuICAgICAgICBkZXNjOiAnVXNlZCBpbiBjb25zdHJ1Y3Rpb24gYW5kIG1pbmluZy4nLFxyXG4gICAgICAgIGF0dHI6ICdTVFInXHJcbiAgICB9LFxyXG4gICAgQlJJQ0tTOiB7XHJcbiAgICAgICAgbmFtZTogJ0JyaWNrcycsXHJcbiAgICAgICAgZGVzYzogJ1VzZWQgaW4gY29uc3RydWN0aW9uIGFuZCBzbWVsdGluZy4nLFxyXG4gICAgICAgIGF0dHI6ICdTVFInXHJcbiAgICB9LFxyXG4gICAgU1RFRUw6IHtcclxuICAgICAgICBuYW1lOiAnU3RlZWwnLFxyXG4gICAgICAgIGRlc2M6ICdVc2VkIGluIGFkdmFuY2VkIGNvbnN0cnVjdGlvbi4nLFxyXG4gICAgICAgIGF0dHI6ICdTVFInXHJcbiAgICB9LFxyXG4gICAgV0FURVI6IHtcclxuICAgICAgICBuYW1lOiAnV2F0ZXInLFxyXG4gICAgICAgIGRlc2M6ICdVc2VkIGluIGNvbnN0cnVjdGlvbiwgbWluaW5nIGFuZCBwb3B1bGF0aW9uIGV4cGFuc2lvbi4nLFxyXG4gICAgICAgIGF0dHI6ICdFTkQnXHJcbiAgICB9LFxyXG4gICAgV09PRDoge1xyXG4gICAgICAgIG5hbWU6ICdXb29kJyxcclxuICAgICAgICBkZXNjOiAnVXNlZCBpbiBjb25zdHJ1Y3Rpb24gYW5kIG1pbmluZy4nLFxyXG4gICAgICAgIGF0dHI6ICdFTkQnXHJcbiAgICB9LFxyXG4gICAgR09MRDoge1xyXG4gICAgICAgIG5hbWU6ICdHb2xkJyxcclxuICAgICAgICBkZXNjOiAnVXNlZCBmb3IgcHVyY2hhc2luZyBnZW5lIHJlc2VhcmNoIHRlY2hub2xvZ2llcy4nLFxyXG4gICAgICAgIGF0dHI6ICdJTlQnXHJcbiAgICB9LFxyXG4gICAgU0NJRU5DRToge1xyXG4gICAgICAgIG5hbWU6ICdTY2llbmNlJyxcclxuICAgICAgICBkZXNjOiAnVXNlZCBpbiBnZW5ldGljIG1vZGlmaWNhdGlvbiBhbmQgYWR2YW5jZWQgY29uc3RydWN0aW9uLicsXHJcbiAgICAgICAgYXR0cjogJ0lOVCdcclxuICAgIH0sXHJcbiAgICBIQVBQSU5FU1M6IHtcclxuICAgICAgICBuYW1lOiAnSGFwcGluZXNzJyxcclxuICAgICAgICBkZXNjOiAnR29vZCB0aGluZ3MgaGFwcGVuIHRvIHRob3NlIHRoYXQgYXJlIGhhcHB5Li4uJyxcclxuICAgICAgICBhdHRyOiAnQ0hSJ1xyXG4gICAgfSxcclxuICAgIEVWT0NPSU46IHtcclxuICAgICAgICBuYW1lOiAnRXZvLUNvaW5zJyxcclxuICAgICAgICBkZXNjOiAnQSByYXJlIGNvbW1vZGl0eSBpbmRlZWQuIFVzZWQgdG8gZGlzY292ZXIgdHJhaXRzLicsXHJcbiAgICAgICAgYXR0cjogJ0xDSydcclxuICAgIH1cclxufSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ3Jlc291cmNlU2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJyRmaWx0ZXInLCAnbG9nU2VydmljZScsICdnZW5lRGVmaW5pdGlvbnMnLCAncmVzb3VyY2VUeXBlcycsICdhY2hpZXZlbWVudFNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGZpbHRlciwgbG9nU2VydmljZSwgZ2VuZURlZmluaXRpb25zLCByZXNvdXJjZVR5cGVzLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGluaXRpYWxpemVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS5TdWJzY3JpYmVOZXdSZXdhcmRFdmVudCgkcm9vdFNjb3BlLCBzZWxmLnJld2FyZEVhcm5lZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHR1cm4gdGhlbSBhbGwgb24gZm9yIHRlc3RpbmcgcHVycG9zZXNcclxuICAgICAgICAgICAgdmFyIG92ZXJyaWRlQWxsT24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0TGltaXRzID0ge1xyXG4gICAgICAgICAgICAgICAgRElSVDogWzAsIDAsIHRydWUgfHwgb3ZlcnJpZGVBbGxPbl0sXHJcbiAgICAgICAgICAgICAgICBCUklDS1M6IFswLCAwLCBmYWxzZSB8fCBvdmVycmlkZUFsbE9uXSxcclxuICAgICAgICAgICAgICAgIFdBVEVSOiBbMCwgMCwgZmFsc2UgfHwgb3ZlcnJpZGVBbGxPbl0sXHJcbiAgICAgICAgICAgICAgICBXT09EOiBbMCwgMCwgZmFsc2UgfHwgb3ZlcnJpZGVBbGxPbl0sXHJcbiAgICAgICAgICAgICAgICBHT0xEOiBbMCwgMCwgZmFsc2UgfHwgb3ZlcnJpZGVBbGxPbl0sXHJcbiAgICAgICAgICAgICAgICBIQVBQSU5FU1M6IFswLCAtMSwgZmFsc2UgfHwgb3ZlcnJpZGVBbGxPbl0sXHJcbiAgICAgICAgICAgICAgICBTQ0lFTkNFOiBbMCwgLTEsIGZhbHNlIHx8IG92ZXJyaWRlQWxsT25dLFxyXG4gICAgICAgICAgICAgICAgU1RFRUw6IFswLCAwLCBmYWxzZSB8fCBvdmVycmlkZUFsbE9uXSxcclxuICAgICAgICAgICAgICAgIEVWT0NPSU46IFswLCAtMSwgZmFsc2UgfHwgb3ZlcnJpZGVBbGxPbl1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHJlc291cmNlVHlwZSBpbiByZXNvdXJjZVR5cGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VUeXBlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZVR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBzZWxmLnN0YXRlLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgciA9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByID0gZGVmYXVsdExpbWl0c1tyZXNvdXJjZVR5cGVdIHx8IFswLCA5MTEsIGZhbHNlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXSA9IHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlQ2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdyZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdyZXNvdXJjZUVuYWJsZWRFdmVudCcsIHJlc291cmNlVHlwZSwgclsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RhdGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZXdhcmRFYXJuZWQgPSBmdW5jdGlvbihldmVudCwgcmV3YXJkKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcmV3YXJkLnBlcmtzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGVyayA9IHJld2FyZC5wZXJrc1twXTtcclxuICAgICAgICAgICAgICAgIGlmIChwZXJrLnBpZCA9PT0gJ1BfUl9CT05VUycpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmFkZFJlc291cmNlKHBlcmsuYXJyWzFdLCBwZXJrLmFyclsyXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocGVyay5waWQgPT09ICdQX01fSEFQUElORVNTJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUucmVzb3VyY2VzLkhBUFBJTkVTU1syXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncmVzb3VyY2VFbmFibGVkRXZlbnQnLCAnSEFQUElORVNTJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmdldFJlc291cmNlc1NuYXBzaG90ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmNvcHkoc2VsZi5zdGF0ZS5yZXNvdXJjZXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkUmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZVR5cGUsIGFtb3VudCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IHNlbGYuc3RhdGUucmVzb3VyY2VzW3Jlc291cmNlVHlwZV07XHJcbiAgICAgICAgICAgIGlmIChyWzJdID09PSBmYWxzZSAmJiByWzFdICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXNvdXJjZVR5cGUgKyBcIiBpcyBub3QgZW5hYmxlZCwgY2Fubm90IGluY3JlYXNlIGFtb3VudC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICByWzBdICs9IGFtb3VudDtcclxuICAgICAgICAgICAgaWYgKHJbMV0gIT0gLTEgJiYgclswXSA+IHJbMV0pIHJbMF0gPSByWzFdO1xyXG4gICAgICAgICAgICBpZiAoclswXSA8IDApIHJbMF0gPSAwO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UudXBkYXRlUHJvZ3Jlc3MoJ0FfJyArIHJlc291cmNlVHlwZSwgYW1vdW50KTtcclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLnVwZGF0ZVByb2dyZXNzKCdBXycgKyByZXNvdXJjZVR5cGUgKyAnX0MnLCByWzBdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyWzJdID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncmVzb3VyY2VFbmFibGVkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgclsyXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlQ2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzBdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc2V0UmVzb3VyY2VMaW1pdCA9IGZ1bmN0aW9uKHJlc291cmNlVHlwZSwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gc2VsZi5zdGF0ZS5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXTtcclxuICAgICAgICAgICAgaWYgKHJbMV0gPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IHNldCByZXNvdXJjZSBsaW1pdCBvbjogXCIgKyByZXNvdXJjZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJbMV0gPSBhbW91bnQ7XHJcbiAgICAgICAgICAgIGlmIChyWzJdID09PSBmYWxzZSAmJiAoYW1vdW50ID4gMCkpIHtcclxuICAgICAgICAgICAgICAgIHJbMl0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncmVzb3VyY2VFbmFibGVkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHJbMV0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUmVzb3VyY2VDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncmVzb3VyY2VDaGFuZ2VkRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgaWYgKHNjb3BlKSBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLlN1YnNjcmliZVJlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncmVzb3VyY2VMaW1pdENoYW5nZWRFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBpZiAoc2NvcGUpIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUmVzb3VyY2VFbmFibGVkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncmVzb3VyY2VFbmFibGVkRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgaWYgKHNjb3BlKSBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfVxyXG5dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRSZXNvdXJjZUxpc3QnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcmVzb3VyY2VMaXN0L3Jlc291cmNlTGlzdC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5yZXNvdXJjZUxpc3QnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5yZXNvdXJjZUxpc3QnLCBbXHJcbiAgICAnJHNjb3BlJywgJ3Jlc291cmNlU2VydmljZScsICdyZXNvdXJjZVR5cGVzJyxcclxuICAgIGZ1bmN0aW9uKCRzY29wZSwgcmVzb3VyY2VTZXJ2aWNlLCByZXNvdXJjZVR5cGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYucmVzb3VyY2VUeXBlcyA9IHJlc291cmNlVHlwZXM7XHJcbiAgICAgICAgc2VsZi5yZXNvdXJjZXMgPSB7fTtcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmVzb3VyY2VTZXJ2aWNlLlN1YnNjcmliZVJlc291cmNlQ2hhbmdlZEV2ZW50KCRzY29wZSwgc2VsZi5yZXNvdXJjZUNoYW5nZWQpO1xyXG4gICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UuU3Vic2NyaWJlUmVzb3VyY2VMaW1pdENoYW5nZWRFdmVudCgkc2NvcGUsIHNlbGYucmVzb3VyY2VMaW1pdENoYW5nZWQpO1xyXG4gICAgICAgICAgICByZXNvdXJjZVNlcnZpY2UuU3Vic2NyaWJlUmVzb3VyY2VFbmFibGVkRXZlbnQoJHNjb3BlLCBzZWxmLnJlc291cmNlRW5hYmxlZCk7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzID0gcmVzb3VyY2VTZXJ2aWNlLmdldFJlc291cmNlc1NuYXBzaG90KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRVbmxvY2tlZFJlc291cmNlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0ge307XHJcbiAgICAgICAgICAgIGZvciAodmFyIHJlcyBpbiBzZWxmLnJlc291cmNlcylcclxuICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlc291cmNlcy5oYXNPd25Qcm9wZXJ0eShyZXMpKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnJlc291cmNlc1tyZXNdWzJdID09PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRbcmVzXSA9IHNlbGYucmVzb3VyY2VzW3Jlc107XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICBzZWxmLnJlc291cmNlQ2hhbmdlZCA9IGZ1bmN0aW9uKGV2ZW50LCByZXNvdXJjZVR5cGUsIGFtb3VudCkge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV0pXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdID0gW107XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV1bMF0gPSBhbW91bnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlc291cmNlTGltaXRDaGFuZ2VkID0gZnVuY3Rpb24oZXZlbnQsIHJlc291cmNlVHlwZSwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXSlcclxuICAgICAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXVsxXSA9IGFtb3VudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmVzb3VyY2VFbmFibGVkID0gZnVuY3Rpb24oZXZlbnQsIHJlc291cmNlVHlwZSwgYml0KSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV1bMl0gPSBiaXQ7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbi8vIHRhYiBjb21wb25lbnRzXHJcbmFwcC5jb21wb25lbnQoJ2JyZWVkZXJUYWInLCB7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXRzOiAnPScsXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmxhc3RCcmVlZGVySUQgPSAwO1xyXG4gICAgICAgIHNlbGYubmV3QnJlZWRlckdlbmRlciA9ICdNYWxlJztcclxuICAgICAgICBcclxuICAgICAgICBzZWxmLmtpbGxCcmVlZGVyID0gZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXRzLnNwbGljZShzZWxmLnVuaXRzLmluZGV4T2YodW5pdCksIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxmLmFkZE5ld0JyZWVkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZURlZmluaXRpb25zLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcy5wdXNoKFswLDAsMF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHNlbGYubGFzdEJyZWVkZXJJRCsrLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiA2LFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IGdlbmVzXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgc2VsZi51bml0cy51bnNoaWZ0KHVuaXQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJ1xyXG59KTtcclxuYXBwLmNvbXBvbmVudCgnbWF0aW5nVGFiJywge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0czogJz0nLFxyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL21hdGluZ1RhYi5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbXBvbmVudCgnZ2Vub21lRWRpdG9yJyx7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXQ6ICc9J1xyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2VuZURlZmluaXRpb25zJywgZnVuY3Rpb24oZ2VuZURlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICAgICAgc2VsZi5leHBhbmRvID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZU5hbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0Lm5hbWUgPSBzZWxmLnVuaXQuZ2V0UmFuZG9tTmFtZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbaW5kZXhdID0gW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkscmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSxyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi51bml0LmdlbmVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5yYW5kb21pemUoaSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsMSkgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuICAgICAgICAgICAgc2VsZi51bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIHNlbGYudHJhaXREZWZpbml0aW9ucyA9IHRyYWl0RGVmaW5pdGlvbnM7XHJcbiAgICAgICAgLy9zZWxmLmRpZ2dlcnMgPSBnYW1lU2VydmljZS5kaWdnZXJzO1xyXG4gICAgICAgIHNlbGYudW5pdHMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZUJyZWVkRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgb2Zmc3ByaW5nKSB7XHJcbiAgICAgICAgLy8gICAgLy8kc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgeyBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IG9mZnNwcmluZzsgfSk7XHJcbiAgICAgICAgLy99KTtcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZU5ld0dlbmVyYXRpb25FdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgLy8gICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgc2VsZi5kaWdnZXJzID0gZGF0YS5EaWdnZXJzO1xyXG4gICAgICAgIC8vICAgICAgICAvL3NlbGYuZGlnZ2VyQW5jZXN0b3JzID0gZGF0YS5BbmNlc3RvcnM7XHJcbiAgICAgICAgLy8gICAgfSk7XHJcbiAgICAgICAgLy99KTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihkaWdnZXJJbmRleCwgZ2VuZUluZGV4LCB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBzZWxmLnVuaXRzW2RpZ2dlckluZGV4XTtcclxuICAgICAgICAgICAgZGlnZ2VyLmdlbmVzW2dlbmVJbmRleF0gPSB2YWx1ZXM7XHJcbiAgICAgICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICovXHJcblxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9ob21lLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtbWQtNiBjb2wtbGctNFwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJMb2dcIj48YmxvcWhlYWQtbG9nPjwvYmxvcWhlYWQtbG9nPjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUmVzb3VyY2VzXCI+PGJsb3FoZWFkLXJlc291cmNlLWxpc3Q+PC9ibG9xaGVhZC1yZXNvdXJjZS1saXN0PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1tZC02IGNvbC1sZy04XCI+PGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJBY2hpZXZlbWVudHNcIj48ZGl2IGNsYXNzPVwicm93IGJyZWVkZXItY29udGFpbmVyXCI+PGRpdiBuZy1yZXBlYXQ9XCJjaGlsZCBpbiAkY3RybC5wb3B1bGF0aW9uXCIgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTYgY29sLWxnLTRcIj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiY2hpbGRcIiBhc3NpZ249XCIkY3RybC5hZGRCcmVlZGVyKCRpZClcIj48L2Jsb3FoZWFkLWJyZWVkZXI+PC9kaXY+PC9kaXY+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2J1aWxkaW5nTGlzdC9idWlsZGluZ0xpc3QuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIiB0aXRsZT1cIlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTJcIj5CdWlsZGluZzwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtb2Zmc2V0LTEgY29sLXhzLTJcIj5Pd25lZDwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtNFwiPkNvc3QgdG8gQnVpbGQ8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCIgbmctcmVwZWF0PVwiYnVpbGRpbmcgaW4gJGN0cmwuYnVpbGRpbmdzXCI+PGRpdiBjbGFzcz1cImNvbC14cy01XCI+PGg1IHVpYi10b29sdGlwPVwie3tidWlsZGluZy5kZXNjcmlwdGlvbn19XCI+e3tidWlsZGluZy5uYW1lfX08L2g1PjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtb2Zmc2V0LTEgY29sLXhzLTJcIj48c3BhbiBuZy1iaW5kPVwiYnVpbGRpbmcub3duZWRcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy00XCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiB1aWItdG9vbHRpcD1cInt7YnVpbGRpbmcudG9vbHRpcH19XCI+QnVpbGQ8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPjxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+PGgzIGNsYXNzPVwicGFuZWwtdGl0bGVcIiBuZy1iaW5kPVwiJGN0cmwudGl0bGVcIj48L2gzPjwvZGl2PjxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPjwvZGl2PjxkaXYgbmctaWY9XCJhbmd1bGFyLmlzRGVmaW5lZCgkY3RybC5mb290ZXIpXCIgY2xhc3M9XCJwYW5lbC1mb290ZXJcIj48c3BhbiBuZy1iaW5kPVwiJGN0cmwuZm9vdGVyXCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJibG9xaGVhZC1jb21wb25lbnRcIj48aDU+e3skY3RybC51bml0Lm5hbWV9fSA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBuZy1yZXBlYXQ9XCJ0cmFpdCBpbiAkY3RybC51bml0LnRyYWl0c1wiIGRhdGEtY29udGFpbmVyPVwiYm9keVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRpdGxlPVwie3t0cmFpdC5uYW1lfX1cIj48L2k+PC9oNT48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3JcIj48dGhlYWQ+PHRyPjx0aCBjb2xzcGFuPVwiNVwiPjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIj48L3RoPjwvdHI+PHRyPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5TVFI8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5JTlQ8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5FTkQ8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5DSFI8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5MQ0s8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLlNUUlwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLklOVFwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkVORFwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkNIUlwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkxDS1wiPjwvc3Bhbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjxkaXYgbmctc2hvdz1cIiRjdHJsLmFsbG93QXNzaWduXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLmFzc2lnbk1lKCkgXCI+QnJlZWQgTWU8L2J1dHRvbj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCIgcm9sZT1cIm1lbnVcIiBkYXRhLWNvbnRhaW5lcj1cImJvZHlcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeSBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5Xb3JrIDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9idXR0b24+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaSBuZy1yZXBlYXQ9XCJqb2IgaW4gW1xcJ0RpZ1xcJywgXFwnRmFybVxcJywgXFwnQ2hvcFxcJywgXFwnQnVpbGRcXCddXCI+PGEgbmctYmluZD1cImpvYlwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUG9wdWxhdGlvbiBbe3skY3RybC5wb3B1bGF0aW9uLmxlbmd0aH19IC8ge3skY3RybC5tYXhQb3B1bGF0aW9ufX1dIC0tLUZJTFRFUlMgSEVSRT8/Py0tLS1cIj48ZGl2IGNsYXNzPVwicm93IGJyZWVkZXItY29udGFpbmVyXCI+PGRpdiBuZy1yZXBlYXQ9XCJjaGlsZCBpbiAkY3RybC5wb3B1bGF0aW9uXCIgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTYgY29sLWxnLTRcIj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiY2hpbGRcIiBhc3NpZ249XCIkY3RybC5hZGRCcmVlZGVyKCRpZClcIj48L2Jsb3FoZWFkLWJyZWVkZXI+PC9kaXY+PC9kaXY+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0xMCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQnVpbGRpbmdzXCI+PGJsb3FoZWFkLWJ1aWxkaW5nLWxpc3Q+PC9ibG9xaGVhZC1idWlsZGluZy1saXN0PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0xMCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQnJlZWRlcnMgW3t7JGN0cmwuYnJlZWRlcnMubGVuZ3RofX0gLyB7eyRjdHJsLmJyZWVkZXJMaW1pdH19XVwiPjxkaXYgY2xhc3M9XCJyb3cgYnJlZWRlci1jb250YWluZXJcIj48ZGl2IG5nLXJlcGVhdD1cImJyZWVkZXJpZCBpbiAkY3RybC5icmVlZGVyc1wiIGNsYXNzPVwiY29sLXhzLTEyIGNvbC1sZy0xMlwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUJyZWVkZXIoYnJlZWRlcmlkKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cIiRjdHJsLnBvcHVsYXRpb25bYnJlZWRlcmlkXVwiIGFsbG93LWFzc2lnbj1cImZhbHNlXCI+PC9ibG9xaGVhZC1icmVlZGVyPjwvZGl2PjwvZGl2PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9sb2cvbG9nLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwibG9nLWNvbXBvbmVudFwiPjx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj48bGkgbmctcmVwZWF0PVwiaXRlbSBpbiAkY3RybC5tZXNzYWdlcyB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGFzcz1cIiRjdHJsLmdldExvZ0NsYXNzKGl0ZW0udHlwZSlcIj5bPHNwYW4gbmctYmluZD1cIml0ZW0udGltZXN0YW1wfGRhdGU6XFwnTU0vZGQgSEg6bW06c3NcXCdcIj48L3NwYW4+XSZuYnNwOyA8c3BhbiBuZy1iaW5kPVwiaXRlbS5tZXNzYWdlXCI+PC9zcGFuPjwvbGk+PC91bD48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9yZXNvdXJjZUxpc3QvcmVzb3VyY2VMaXN0Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicmVzb3VyY2UtbGlzdCBjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwicm93XCIgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluICRjdHJsLnJlc291cmNlc1wiIG5nLWlmPVwidmFsdWVbMl0gPT09IHRydWVcIiBkYXRhLWF0dHI9XCJ7eyRjdHJsLnJlc291cmNlVHlwZXNba2V5XS5hdHRyfX1cIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0yXCI+PGg1IHVpYi10b29sdGlwPVwie3skY3RybC5yZXNvdXJjZVR5cGVzW2tleV0uZGVzY319XCI+e3skY3RybC5yZXNvdXJjZVR5cGVzW2tleV0ubmFtZX19PC9oNT48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0xMFwiPjxkaXYgY2xhc3M9XCJwcm9ncmVzc1wiPjxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXJcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBhcmlhLXZhbHVlbm93PVwie3t2YWx1ZVswXX19XCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwie3t2YWx1ZVsxXX19XCIgbmctc3R5bGU9XCJ7d2lkdGg6ICgxMDAqKHZhbHVlWzBdL3ZhbHVlWzFdKSkgKyBcXCclXFwnfVwiPjxzcGFuIG5nLWJpbmQ9XCJ2YWx1ZVswXSArIFxcJyAvIFxcJyArIHZhbHVlWzFdXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIodW5pdClcIj48c3Bhbj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjxnZW5vbWUtZWRpdG9yIHVuaXQ9XCJ1bml0XCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg0PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplTmFtZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+IHt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIiBuZy1jbGljaz1cIiRjdHJsLmV4cGFuZG8gPSAhJGN0cmwuZXhwYW5kb1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cIkNsaWNrIHRvIGV4cGFuZC9jb2xsYXBzZVwiPjxkaXYgbmctc2hvdz1cIiRjdHJsLmV4cGFuZG9cIiBzdHlsZT1cImhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IHNjcm9sbDsgbWFyZ2luLXRvcDo1cHhcIj48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3IgdGFibGUgdGFibGUtY29uZGVuc2VkXCI+PHRoZWFkPjx0cj48dGg+Jm5ic3A7PC90aD48dGg+RG9taW5hbnQ8L3RoPjx0aD5SZWNlc3NpdmU8L3RoPjx0aD5WYWx1ZXMgKEQvUi9NKTwvdGg+PHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIG5nLXJlcGVhdD1cImdlbmUgaW4gJGN0cmwuZ2VuZURlZmluaXRpb25zXCI+PHRkIG5nLWJpbmQ9XCIkaW5kZXhcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb21cIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5yZWNcIj48L3RkPjx0ZD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVsxXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMF1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPjwvdGQ+PHRkPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvbWF0aW5nVGFiLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPk1vdGhlcjoge3skY3RybC5tb3RoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubW90aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdGZW1hbGVcXCdcIiBuZy1iaW5kPVwidW5pdC5uYW1lXCI+PC9hPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkZhdGhlcjoge3skY3RybC5mYXRoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwuZmF0aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdNYWxlXFwnXCIgbmctYmluZD1cInVuaXQubmFtZVwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5tYXRlKClcIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5mYXRoZXIgfHwgISRjdHJsLm1vdGhlclwiPk1hdGU8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48dWwgY2xhc3M9XCJuYXYgbmF2LXRhYnNcIiByb2xlPVwidGFibGlzdFwiPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCIgY2xhc3M9XCJhY3RpdmVcIj48YSBkYXRhLXRhcmdldD1cIiNicmVlZGVyc1wiIHJvbGU9XCJ0YWJcIiBkYXRhLXRvZ2dsZT1cInRhYlwiPkJyZWVkZXJzPC9hPjwvbGk+PGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIj48YSBkYXRhLXRhcmdldD1cIiNtYXRpbmdcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5NYXRpbmc8L2E+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiPjxkaXYgcm9sZT1cInRhYnBhbmVsXCIgY2xhc3M9XCJ0YWItcGFuZSBhY3RpdmVcIiBpZD1cImJyZWVkZXJzXCI+PGJyZWVkZXItdGFiIHVuaXRzPVwiJGN0cmwudW5pdHNcIj48L2JyZWVkZXItdGFiPjwvZGl2PjxkaXYgcm9sZT1cInRhYnBhbmVsXCIgY2xhc3M9XCJ0YWItcGFuZVwiIGlkPVwibWF0aW5nXCI+PG1hdGluZy10YWIgdW5pdHM9XCIkY3RybC51bml0c1wiPjwvbWF0aW5nLXRhYj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iXX0=
