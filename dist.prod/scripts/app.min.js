function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,r,a,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(r=0;r<i;r++)a=e[n][r],l.push(String.fromCharCode(a[2])+String.fromCharCode(a[1])+String.fromCharCode(a[0]));l.push(s)}return l.join("")}function n(e,t){var n,r,a,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),d=[];for(a=0;a<i;a++)for(d.push(n=[]),r=0;r<l;r++)n.push(e[parseInt(a/t)][parseInt(r/t)]);return d}window.generateBitmapDataURL=function(r,a){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;a=a||1,1!=a&&(r=n(r,a));var o,i=r.length,s=i?r[0].length:0,l=(4-3*s%4)%4,d=(3*s+l)*i,c=54+d;return i=e(i,4),s=e(s,4),d=e(d,4),c=e(c,4),o="BM"+c+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+d+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(r,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function r(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,r=[];if(3==n)for(;t<n;t++)r.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)r.push(parseInt("0x"+e.substring(t,t+2)));return r}:alert("Unparseable color: "+e)}function a(e){var a=t.getElementById(e).style.backgroundColor;return""===a?[255,255,255]:(o===n&&r(a),o(a))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var r,o,i,s,l,d=50,c=49,u=[];c>=0;c--)for(u.push(o=[]),r=0;r<d;r++)o.push(a(r+"_"+c));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var r=[];r.push({name:"home",url:"/",templateUrl:"components/home.html"}),r.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),r.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),r.forEach(function(t){e.state(t)})}]).run(["gameService","populationService","logService",function(e,t,n){e.init(),t.init(),n.init()}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div class="bloqhead-component"><button type="button" class="btn btn-xs btn-danger" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["gameService","gameStates",function(e,t){var n=this;n.$onInit=function(){n.currentState=e.getState()},n.toggleState=function(){n.currentState=n.currentState===t.RUNNING?t.PAUSED:t.RUNNING,e.setState(n.currentState)},n.getIcon=function(){return n.currentState===t.RUNNING?"fa-pause":"fa-play"}}]});var game=angular.module("bloqhead.genetixApp");game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t){for(var n=Math.random(),r=angular.copy(n<=d.crossoverrate?e:t),a=r[2]/255,o="",i="",s=0;s<8;s++)o+=Math.random()<a?"1":"0",i+=Math.random()<a?"1":"0";r[0],r[1];return r[0]^=parseInt(o,2),r[1]^=parseInt(i,2),r}function r(e,t){return generateBitmapDataURL(s(o(e),e.length),20)}function a(e,t){return generateBitmapDataURL(s(i(e),e.length),t)}function o(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],a=e[n][1],o=Math.abs(r-a)/255;r>a?a=0:r=0,r*=o,a*=o,t.push([r,a,0])}return t}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],r=0;r<e.length/t;r++){for(var a=[],o=0;o<t;o++)a.push(e[o+r*t]);n.push(a)}return n}var l=function(e){this.traitInspector=new t,this.update(e),this.setRandomName()};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.generation=e.generation||this.generation||0,this.scale=e.scale||this.scale||6,this.genes=e.genes||this.genes||[],this.redGreenImage=r(this.genes,this.scale),this.blueImage=a(this.genes,this.scale),this.traits=this.traitInspector.getTraits(this.genes)},l.prototype.breed=function(e,t){for(var r=this,a=e,o=new l({id:t,generation:r.generation+1,genes:[]}),i=0;i<r.genes.length;i++){var s=r.genes[i],d=a.genes[i];o.genes.push(n(s,d))}return o.update({scale:20}),o},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.setRandomName=function(){this.name=this.getRandomName()},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?c[randomIntFromInterval(0,c.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+g[randomIntFromInterval(0,g.length-1)]+m[randomIntFromInterval(0,m.length-1)];return e+t};var d={crossoverrate:.5},c=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],g=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],m=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.members=e.members|this.members||this.createInitialPopulation(e.size),this.breeders=e.breeders|this.breeders||[]},r.prototype.createInitialPopulation=function(e){for(var n=this,r=[],a=0;a<e;a++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]);var s=a%2===0?255:0,l=a%2===0?0:255;o[42][0]=s,o[42][1]=l;var d=new t({id:a,generation:0,scale:6,genes:angular.copy(o)});d.update(),r.push(d)}return r},r.prototype.isBreeding=function(){for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var r=this.getById(this.breeders[n]);if(r.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},r.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},r.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},r}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["STR"]},e[11]={dom:"",rec:"",attr:["STR"]},e[12]={dom:"",rec:"",attr:["STR"]},e[13]={dom:"",rec:"",attr:["STR"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["INT"]},e[21]={dom:"",rec:"",attr:["INT"]},e[22]={dom:"",rec:"",attr:["INT"]},e[23]={dom:"",rec:"",attr:["INT"]},e[24]={dom:"",rec:"",attr:["INT"]},e[25]={dom:"",rec:"",attr:["INT"]},e[26]={dom:"",rec:"",attr:["INT"]},e[27]={dom:"",rec:"",attr:["INT"]},e[28]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[29]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"",rec:"",attr:["CHR"]},e[33]={dom:"",rec:"",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["CHR"]},e[41]={dom:"",rec:"",attr:["CHR"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},r=function(e){if(angular.isDefined(e.requiredTraits))for(var a=0;a<e.requiredTraits.length;a++){var o=e.requiredTraits[a],i=n(o);t.indexOf(i.name)===-1&&r(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},a=function(){for(var t=0;t<e.length;t++){var n=e[t];r(n)}return e};return a()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){"undefined"==typeof e&&(e={})},r.prototype.getTraits=function(e){var t=[];if(e.length)for(var r=0;r<n.length;r++){for(var a=n[r],o=!0,i=0;i<a.genes.length&&o===!0;i++){var s=a.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(a)}return t},r}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),app.controller("bloqhead.controllers.log",["$scope","logService",function(e,t){var n=this;n.$onInit=function(){n.messages=[],t.SubscribeNewMessageEvent(e,n.receiveMessages)},n.receiveMessages=function(e,t){n.messages=t}}]),app.service("logService",["$rootScope",function(e){var t=this;t.init=function(){t.messages=[],t.messages.push("Welcome to Genetix!")},t.logMessage=function(n){t.messages.push(n),t.messages.length>100&&t.messages.splice(0,1),e.$emit("newMessageEvent",t.messages)},t.SubscribeNewMessageEvent=function(n,r){var a=e.$on("newMessageEvent",r.bind(this));n.$on("$destroy",a),e.$emit("newMessageEvent",t.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService",function(e,t){var n=this;n.$onInit=function(){n.breeders=[],n.population=[],t.SubscribePopulationUpdateEvent(e,n.updatePopulation),t.SubscribeBreederUpdateEvent(e,n.updateBreeders)},n.updateGene=function(e,n,r){t.updateMember(e,n,r)},n.addBreeder=function(e){t.addBreeder(e)},n.removeBreeder=function(e){t.removeBreeder(e)},n.updateBreeders=function(e,t){n.breeders=t},n.updatePopulation=function(e,t){n.population=t}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.mainGame"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.service("gameService",["$window","$rootScope","gameStates","logService",function(e,t,n,r){var a=this;a.init=function(e){angular.isDefined(e)||(e={}),a.stepTimeMs=e.stepTimeMs||1e3,a.lastTime=0,a.currentState=n.PAUSED,a.gameLoop(0)},a.getState=function(){return a.currentState},a.setState=function(e){a.currentState=e,e===n.PAUSED?r.logMessage("Game paused."):r.logMessage("Game resumed.")},a.gameLoop=function(r){for(var a=this,o=0;a.lastTime+r>a.stepTimeMs*(o+1);)o++;a.lastTime=a.lastTime-a.stepTimeMs*o,a.currentState==n.RUNNING&&o>0&&t.$emit("gameLoopEvent",o),e.requestAnimationFrame(this.gameLoop.bind(this))},a.SubscribeGameLoopEvent=function(e,n){var r=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",r)}}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameService","Population","logService",function(e,t,n,r){var a=this;a.init=function(o){angular.isDefined(o)||(o={}),a.breedSteps=o.breedSteps||a.breedSteps||6,a.stepsSinceBreed=0,a.population=o.population||new n({size:10}),a.logService=r,t.SubscribeGameLoopEvent(e,a.handleGameLoop)},a.handleGameLoop=function(t,n){if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(a.population.isBreeding())for(a.stepsSinceBreed+=n;a.stepsSinceBreed>=a.breedSteps;)a.stepsSinceBreed-=a.breedSteps,console.log("BREED!"),e.$apply(a.logService.logMessage("BREED!")),e.$emit("populationUpdateEvent",a.population.members)},a.addBreeder=function(t){a.population.breeders.indexOf(t)===-1&&(a.population.breeders.push(t),e.$emit("breederUpdateEvent",a.population.breeders),a.logService.logMessage("Breeder added: "+a.population.getById(t).name))},a.removeBreeder=function(t){var n=a.population.breeders.indexOf(t);n!==-1&&(a.population.breeders.splice(n,1),a.population.isBreeding()||(a.stepsSinceBreed=0),e.$emit("breederUpdateEvent",a.population.breeders),a.logService.logMessage("Breeder removed: "+a.population.getById(t).name))},a.updateMember=function(t,n,r){var o=a.population.getById(t);o.genes[n]=r,o.update(),e.$emit("populationUpdateEvent",a.population.members)},a.SubscribeBreederUpdateEvent=function(t,n){var r=e.$on("breederUpdateEvent",n);t.$on("$destroy",r),e.$emit("breederUpdateEvent",a.population.breeders)},a.SubscribePopulationUpdateEvent=function(t,n){var r=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",r),e.$emit("populationUpdateEvent",a.population.members)}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("genomeEditor",{bindings:{unit:"<",updateGene:"&"},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomize=function(e){var n=[];n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),t.updateGene({$geneIndex:e,$values:n})},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?"Male":"Female",r="Male"==n?255:0,a="Male"==n?0:255;t.updateGene({$geneIndex:42,$values:[r,a,0]}),t.unit.setRandomName()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,r,a,o){var i=this;i.lastBreederID=0,i.newBreederGender="Male",i.killBreeder=function(e){i.diggers.splice(i.diggers.indexOf(e),1)},i.addNewBreeder=function(){for(var e=[],t=0;t<a.length;t++)e.push([0,0,0]);var n="Male"==i.newBreederGender?255:0,o="Male"==i.newBreederGender?0:255;e[42][0]=n,e[42][1]=o;var s=new r({id:i.lastBreederID++,generation:0,scale:6,genes:e});s.update(),i.diggers.unshift(s)},i.$onInit=function(){i.geneDefinitions=a,i.traitDefinitions=o,i.diggers=[],i.updateGene=function(e,t,n){var r=i.diggers[e];r.genes[t]=n,r.update()}}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<ul class="nav nav-pills"><li><a ui-sref="home.main">Main</a></li><li><a ui-sref="home.test">Test Interface</a></li></ul><div class="row"><div class="col-xs-1"><bloqhead-game-control></bloqhead-game-control></div></div><div ui-view=""></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="message in $ctrl.messages track by $index"><span ng-bind="message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-2"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"></bloqhead-player-box></div></div></div><div class="col-xs-8"><div class="row"><div class="col-xs-6"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div><div class="col-xs-6"><bloqhead-player-box title="???"></bloqhead-player-box></div></div><div class="row"><div class="col-xs-6" ng-repeat="breederid in $ctrl.breeders"><bloqhead-player-box title="Breeder"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><genome-editor unit="$ctrl.population[breederid]" update-gene="$ctrl.updateGene(breederid, $geneIndex, $values, true)"></genome-editor></bloqhead-player-box></div></div></div><div class="col-xs-2"><bloqhead-player-box title="Population"><div ng-repeat="child in $ctrl.population"><genome-editor unit="child" update-gene="$ctrl.updateGene($index, $geneIndex, $values, false)"></genome-editor><button class="btn btn-sm btn-primary" ng-click="$ctrl.addBreeder(child.id)">Breed Me</button></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values</th><th><button type="button " class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll(); "><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions "><td ng-bind="$index "></td><td ng-bind="gene.dom "></td><td ng-bind="gene.rec "></td><td>D <input type="number " min="0 " max="255 " ng-model="$ctrl.unit.genes[$index][1] " ng-change="$ctrl.unit.update() "> R <input type="number " min="0 " max="255 " ng-model="$ctrl.unit.genes[$index][0] " ng-change="$ctrl.unit.update() "> M <input type="number " min="0 " max="255 " ng-model="$ctrl.unit.genes[$index][2] " ng-change="$ctrl.unit.update() "></td><td><button type="button " class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index); "><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#other" role="tab" data-toggle="tab">Other</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><fieldset><div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-4" ng-repeat="digger in $ctrl.diggers"><button type="button" class="close" ng-click="$ctrl.killBreeder(digger)"><span>&times;</span></button><genome-editor unit="digger" update-gene="$ctrl.updateGene($index, $geneIndex, $values)"></genome-editor></div></div></fieldset></div><div role="tabpanel" class="tab-pane" id="other"><div class="well"><h3>Nothing to see here....</h3></div></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvZ2FtZUNvbnRyb2wvZ2FtZUNvbnRyb2wuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL2JyZWVkZXIuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvcG9wdWxhdGlvbi5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy90cmFpdC5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL3BvcHVsYXRpb25TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCIkIiwidG9vbHRpcCIsInNlbGVjdG9yIiwialF1ZXJ5IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb21wb25lbnQiLCJmb3JFYWNoIiwic3RhdGUiLCJydW4iLCJnYW1lU2VydmljZSIsInBvcHVsYXRpb25TZXJ2aWNlIiwibG9nU2VydmljZSIsImluaXQiLCJhcHAiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCJnYW1lU3RhdGVzIiwic2VsZiIsIiRvbkluaXQiLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZSIsInRvZ2dsZVN0YXRlIiwiUlVOTklORyIsIlBBVVNFRCIsInNldFN0YXRlIiwiZ2V0SWNvbiIsImdhbWUiLCJmYWN0b3J5IiwiJGZpbHRlciIsIlRyYWl0SW5zcGVjdG9yIiwiY3Jvc3NvdmVyIiwiZzEiLCJnMiIsImciLCJjb3B5IiwiZ2VuZXRpY09wdGlvbnMiLCJjcm9zc292ZXJyYXRlIiwibXV0YXRpb25SYXRlIiwiYml0U3RyaW5nUiIsImJpdFN0cmluZ0ciLCJnZXRSZWRHcmVlbkltYWdlIiwiZ2VuZXMiLCJhZGRSb3dzIiwiY29udmVydFJlZEdyZWVuTWFwIiwiZ2V0Qmx1ZUltYWdlIiwiY29udmVydEJsdWVNYXAiLCJyIiwiYnJpZ2h0IiwiYWJzIiwiY29scyIsIkJyZWVkZXIiLCJ0cmFpdEluc3BlY3RvciIsInVwZGF0ZSIsInNldFJhbmRvbU5hbWUiLCJwcm90b3R5cGUiLCJnZW5lcmF0aW9uIiwicmVkR3JlZW5JbWFnZSIsImJsdWVJbWFnZSIsInRyYWl0cyIsImdldFRyYWl0cyIsImJyZWVkIiwicGFydG5lciIsIm5ld0lkIiwicDEiLCJwMiIsImNoaWxkIiwicDFnIiwicDJnIiwiaGFzVHJhaXQiLCJ0cmFpdCIsImZpbHRlciIsIm15VHJhaXQiLCJnZXRSYW5kb21OYW1lIiwiZmlyc3ROYW1lIiwibmFtZUxpc3QxIiwibmFtZUxpc3QyIiwibGFzdE5hbWUiLCJuYW1lTGlzdDMiLCJuYW1lTGlzdDQiLCJuYW1lTGlzdDUiLCJnZW5lRGVmaW5pdGlvbnMiLCJQb3B1bGF0aW9uIiwiY3VycmVudEdlbmVyYXRpb24iLCJtZW1iZXJzIiwiY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24iLCJzaXplIiwiYnJlZWRlcnMiLCJjb3VudCIsInBvcHVsYXRpb24iLCJnbiIsInVuaXQiLCJpc0JyZWVkaW5nIiwiaGFzTWFsZSIsImhhc0ZlbWFsZSIsImdldEJ5SWQiLCJnZXRCeUdlbmVyYXRpb24iLCJjb25zdGFudCIsImRvbSIsInJlYyIsImF0dHIiLCJyZXF1aXJlZFRyYWl0cyIsImNoZWNrZWQiLCJnZXRUcmFpdEJ5TmFtZSIsInQiLCJnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlIiwiaXNEZWZpbmVkIiwicmVxdWlyZWRUcmFpdCIsInJlcSIsImluZGV4T2YiLCJidWlsZFRyYWl0cyIsInRyYWl0RGVmaW5pdGlvbnMiLCJyZXQiLCJ0ZCIsIm1ldCIsImgiLCJ0ZGciLCJ2IiwiJHNjb3BlIiwibWVzc2FnZXMiLCJTdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQiLCJyZWNlaXZlTWVzc2FnZXMiLCJldmVudCIsInNlcnZpY2UiLCIkcm9vdFNjb3BlIiwibG9nTWVzc2FnZSIsIm1lc3NhZ2UiLCJzcGxpY2UiLCIkZW1pdCIsInNjb3BlIiwiY2FsbGJhY2siLCJoYW5kbGVyIiwiJG9uIiwiYmluZCIsIlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCIsInVwZGF0ZVBvcHVsYXRpb24iLCJTdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQiLCJ1cGRhdGVCcmVlZGVycyIsInVwZGF0ZUdlbmUiLCJnZW5lSW5kZXgiLCJnZW5lVmFsdWVzIiwidXBkYXRlTWVtYmVyIiwiYWRkQnJlZWRlciIsInVuaXRpZCIsInJlbW92ZUJyZWVkZXIiLCJ0cmFuc2NsdWRlIiwicmVxdWlyZSIsIm1haW5DdHJsIiwiYmluZGluZ3MiLCJmb290ZXIiLCIkd2luZG93Iiwic3RlcFRpbWVNcyIsImxhc3RUaW1lIiwiZ2FtZUxvb3AiLCJuZXdTdGF0ZSIsInN0ZXAiLCJzdGVwcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIlN1YnNjcmliZUdhbWVMb29wRXZlbnQiLCJicmVlZFN0ZXBzIiwic3RlcHNTaW5jZUJyZWVkIiwiaGFuZGxlR2FtZUxvb3AiLCJjb25zb2xlIiwibG9nIiwiJGFwcGx5IiwiaW5kZXgiLCJtZW1iZXIiLCJleHBhbmRvIiwicmFuZG9taXplIiwibmV3VmFsdWVzIiwiJGdlbmVJbmRleCIsIiR2YWx1ZXMiLCJyYW5kb21pemVBbGwiLCJnZW5kZXIiLCIkdGltZW91dCIsImxhc3RCcmVlZGVySUQiLCJuZXdCcmVlZGVyR2VuZGVyIiwia2lsbEJyZWVkZXIiLCJkaWdnZXIiLCJkaWdnZXJzIiwiYWRkTmV3QnJlZWRlciIsInJ2IiwiZ3YiLCJ1bnNoaWZ0IiwiZGlnZ2VySW5kZXgiLCJ2YWx1ZXMiLCJlIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUM0QkEsV0FFQSxRQUFBSyxHQUFBQyxFQUFBQyxHQVdBLElBRkEsR0FBQUMsTUFFQUQsRUFBQSxFQUFBQSxJQUNBQyxFQUFBQyxLQUFBQyxPQUFBQyxhQUFBLElBQUFMLElBQ0FBLElBQUEsQ0FHQSxPQUFBRSxHQUFBSSxLQUFBLElBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FVQSxJQVJBLEdBQUFDLEdBRUFDLEVBRUFDLEVBSEFDLEVBQUFMLEVBQUFNLE9BRUFDLEVBQUFGLEVBQUFMLEVBQUEsR0FBQU0sT0FBQSxFQUVBRSxFQUFBLEdBQ0FkLEtBRUFPLEVBQUEsRUFBQUEsSUFDQU8sR0FBQSxJQUdBLEtBQUFOLEVBQUEsRUFBQUEsRUFBQUcsRUFBQUgsSUFBQSxDQUNBLElBQUFDLEVBQUEsRUFBQUEsRUFBQUksRUFBQUosSUFDQUMsRUFBQUosRUFBQUUsR0FBQUMsR0FDQVQsRUFBQUMsS0FBQUMsT0FBQUMsYUFBQU8sRUFBQSxJQUNBUixPQUFBQyxhQUFBTyxFQUFBLElBQ0FSLE9BQUFDLGFBQUFPLEVBQUEsSUFFQVYsR0FBQUMsS0FBQWEsR0FHQSxNQUFBZCxHQUFBSSxLQUFBLElBR0EsUUFBQVcsR0FBQVQsRUFBQVUsR0FFQSxHQUtBQyxHQUFBQyxFQUFBQyxFQUxBQyxFQUFBZCxFQUFBTSxPQUNBUyxFQUFBQyxTQUFBRixFQUFBSixHQUNBTyxFQUFB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LGFBQUFDLElBQUEsYUFBQUMsTUFBQSxRQUNBbkIsRUFBQSxJQUFBaUIsSUFBQSxZQUFBQyxJQUFBLGFBQUFDLE1BQUEsUUFDQW5CLEVBQUEsSUFBQWlCLElBQUEsWUFBQUMsSUFBQSxXQUFBQyxNQUFBLFFBQ0FuQixFQUFBLElBQUFpQixJQUFBLFNBQUFDLElBQUEsU0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxJQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsSUFBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLElBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQW5CLEVBQUEsS0FBQWlCLElBQUEsdUJBQUFDLElBQUEsV0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxrQkFBQUMsSUFBQSxnQkFBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxnQkFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQW5CLEVBQUEsS0FBQWlCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxXQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsaUJBQUFDLElBQUEsY0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQW5CLEVBQUEsS0FBQWlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FuQixFQUFBLEtBQUFpQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBbkIsRUFBQSxLQUFBaUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQW5CLEVBQUEsS0FBQWlCLElBQUEs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QUFBOEwsR0FDQTlMLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQWtMLEdBQ0FBLEVBQUFDLElBQUEsMEJBQ0EscUtDUkEsU0FBQWhNLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBOEwsR0FDQTlMLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQWtMLEdBQ0FBLEVBQUFDLElBQUEsb0NBQ0EsdXpDQ1JBLFNBQUFoTSxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQThMLEdBQ0E5TCxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBYSxLQUFBLGlCQUFBLFNBQUFrTCxHQUNBQSxFQUFBQyxJQUFBLHNDQUNBLHNRQ1JBLFNBQUFoTSxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQThMLEdBQ0E5TCxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBYSxLQUFBLGlCQUFBLFNBQUFrTCxHQUNBQSxFQUFBQyxJQUFBLDZDQUNBLCszQ0NSQSxTQUFBaE0sR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUE4TCxHQUNBOUwsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQWEsS0FBQSxpQkFBQSxTQUFBa0wsR0FDQUEsRUFBQUMsSUFBQSw4Q0FDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tSW50RnJvbUludGVydmFsKG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxufVxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2FtZVN0YXRlcycsIHtcclxuICAgIFBBVVNFRDogMCxcclxuICAgIFJVTk5JTkc6IDFcclxufSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2dhbWVTZXJ2aWNlJywgW1xyXG4gICAgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICdnYW1lU3RhdGVzJywgJ2xvZ1NlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHdpbmRvdywgJHJvb3RTY29wZSwgZ2FtZVN0YXRlcywgbG9nU2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChjb25maWcpKSBjb25maWcgPSB7fTtcclxuICAgICAgICAgICAgc2VsZi5zdGVwVGltZU1zID0gY29uZmlnLnN0ZXBUaW1lTXMgfHwgMTAwMDtcclxuICAgICAgICAgICAgc2VsZi5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVN0YXRlcy5QQVVTRUQ7XHJcbiAgICAgICAgICAgIHNlbGYuZ2FtZUxvb3AoMCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnNldFN0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSBnYW1lU3RhdGVzLlBBVVNFRCkgbG9nU2VydmljZS5sb2dNZXNzYWdlKFwiR2FtZSBwYXVzZWQuXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGxvZ1NlcnZpY2UubG9nTWVzc2FnZShcIkdhbWUgcmVzdW1lZC5cIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nYW1lTG9vcCA9IGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5sYXN0VGltZSArIHN0ZXAgPiAoc2VsZi5zdGVwVGltZU1zICogKHN0ZXBzICsgMSkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAoc2VsZi5sYXN0VGltZSAtIChzZWxmLnN0ZXBUaW1lTXMgKiBzdGVwcykpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW50U3RhdGUgPT0gZ2FtZVN0YXRlcy5SVU5OSU5HICYmIHN0ZXBzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnZ2FtZUxvb3BFdmVudCcsIHN0ZXBzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlR2FtZUxvb3BFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdnYW1lTG9vcEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7IiwiLyohXHJcbiAqIEdlbmVyYXRlIEJpdG1hcCBEYXRhIFVSTFxyXG4gKiBodHRwOi8vbXJjb2xlcy5jb20vbG93LXJlcy1wYWludC9cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTAsIFBldGVyIENvbGVzXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZXMuXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9tZWRpYS9taXQtbGljZW5zZS50eHRcclxuICpcclxuICogRGF0ZTogVHVlIE9jdCAyNiAwMDowMDowMCAyMDEwIC0wNTAwXHJcbiAqL1xyXG5cclxuLypcclxuICogQ29kZSB0byBnZW5lcmF0ZSBCaXRtYXAgaW1hZ2VzICh1c2luZyBkYXRhIHVybHMpIGZyb20gcm93cyBvZiBSR0IgYXJyYXlzLlxyXG4gKiBTcGVjaWZpY2FsbHkgZm9yIHVzZSB3aXRoIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzdC1wYWludC9cclxuICpcclxuICogUmVzZWFyY2g6XHJcbiAqXHJcbiAqIFJGQyAyMzk3IGRhdGEgVVJMXHJcbiAqIGh0dHA6Ly93d3cueHM0YWxsLm5sL353cmIvQXJ0aWNsZXMvQXJ0aWNsZV9JTUdfUkZDMjM5N19QMV8wMS5odG1cclxuICpcclxuICogQk1QIGZpbGUgRm9ybWF0XHJcbiAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQk1QX2ZpbGVfZm9ybWF0I0V4YW1wbGVfb2ZfYV8yLkMzLjk3Ml9QaXhlbC4yQ18yNC1CaXRfQml0bWFwXy4yOFdpbmRvd3NfVjNfRElCLjI5XHJcbiAqXHJcbiAqIEJNUCBOb3Rlc1xyXG4gKlxyXG4gKiAtIEludGVnZXIgdmFsdWVzIGFyZSBsaXR0bGUtZW5kaWFuLCBpbmNsdWRpbmcgUkdCIHBpeGVscywgZS5nLiwgKDI1NSwgMCwgMCkgLT4gXFx4MDBcXHgwMFxceEZGXHJcbiAqIC0gQml0bWFwIGRhdGEgc3RhcnRzIGF0IGxvd2VyIGxlZnQgKGFuZCByZWFkcyBhY3Jvc3Mgcm93cylcclxuICogLSBJbiB0aGUgQk1QIGRhdGEsIHBhZGRpbmcgYnl0ZXMgYXJlIGluc2VydGVkIGluIG9yZGVyIHRvIGtlZXAgdGhlIGxpbmVzIG9mIGRhdGEgaW4gbXVsdGlwbGVzIG9mIGZvdXIsXHJcbiAqICAgZS5nLiwgYSAyNC1iaXQgYml0bWFwIHdpdGggd2lkdGggMSB3b3VsZCBoYXZlIDMgYnl0ZXMgb2YgZGF0YSBwZXIgcm93IChSLCBHLCBCKSArIDEgYnl0ZSBvZiBwYWRkaW5nXHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGZ1bmN0aW9uIF9hc0xpdHRsZUVuZGlhbkhleCh2YWx1ZSwgYnl0ZXMpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHZhbHVlIGludG8gbGl0dGxlIGVuZGlhbiBoZXggYnl0ZXNcclxuICAgICAgICAvLyB2YWx1ZSAtIHRoZSBudW1iZXIgYXMgYSBkZWNpbWFsIGludGVnZXIgKHJlcHJlc2VudGluZyBieXRlcylcclxuICAgICAgICAvLyBieXRlcyAtIHRoZSBudW1iZXIgb2YgYnl0ZXMgdGhhdCB0aGlzIHZhbHVlIHRha2VzIHVwIGluIGEgc3RyaW5nXHJcblxyXG4gICAgICAgIC8vIEV4YW1wbGU6XHJcbiAgICAgICAgLy8gX2FzTGl0dGxlRW5kaWFuSGV4KDI4MzUsIDQpXHJcbiAgICAgICAgLy8gPiAnXFx4MTNcXHgwYlxceDAwXFx4MDAnXHJcblxyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICg7IGJ5dGVzID4gMDsgYnl0ZXMtLSkge1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHZhbHVlICYgMjU1KSk7XHJcbiAgICAgICAgICAgIHZhbHVlID4+PSA4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfY29sbGFwc2VEYXRhKHJvd3MsIHJvd19wYWRkaW5nKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCByb3dzIG9mIFJHQiBhcnJheXMgaW50byBCTVAgZGF0YVxyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICByb3dzX2xlbiA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBqLFxyXG4gICAgICAgICAgICBwaXhlbHNfbGVuID0gcm93c19sZW4gPyByb3dzWzBdLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgIHBpeGVsLFxyXG4gICAgICAgICAgICBwYWRkaW5nID0gJycsXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgcm93X3BhZGRpbmcgPiAwOyByb3dfcGFkZGluZy0tKSB7XHJcbiAgICAgICAgICAgIHBhZGRpbmcgKz0gJ1xceDAwJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCByb3dzX2xlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBwaXhlbHNfbGVuOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsID0gcm93c1tpXVtqXTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMl0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzFdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFswXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhZGRpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfc2NhbGVSb3dzKHJvd3MsIHNjYWxlKSB7XHJcbiAgICAgICAgLy8gU2ltcGxlc3Qgc2NhbGluZyBwb3NzaWJsZVxyXG4gICAgICAgIHZhciByZWFsX2ggPSByb3dzLmxlbmd0aCxcclxuICAgICAgICAgICAgc2NhbGVkX2ggPSBwYXJzZUludChyZWFsX2ggKiBzY2FsZSksXHJcbiAgICAgICAgICAgIHJlYWxfdyA9IHJlYWxfaCA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgc2NhbGVkX3cgPSBwYXJzZUludChyZWFsX3cgKiBzY2FsZSksXHJcbiAgICAgICAgICAgIG5ld19yb3dzID0gW10sXHJcbiAgICAgICAgICAgIG5ld19yb3csIHgsIHk7XHJcblxyXG4gICAgICAgIGZvciAoeSA9IDA7IHkgPCBzY2FsZWRfaDsgeSsrKSB7XHJcbiAgICAgICAgICAgIG5ld19yb3dzLnB1c2gobmV3X3JvdyA9IFtdKTtcclxuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHNjYWxlZF93OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIG5ld19yb3cucHVzaChyb3dzW3BhcnNlSW50KHkgLyBzY2FsZSldW3BhcnNlSW50KHggLyBzY2FsZSldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3X3Jvd3M7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTCA9IGZ1bmN0aW9uKHJvd3MsIHNjYWxlKSB7XHJcbiAgICAgICAgLy8gRXhwZWN0cyByb3dzIHN0YXJ0aW5nIGluIGJvdHRvbSBsZWZ0XHJcbiAgICAgICAgLy8gZm9ybWF0dGVkIGxpa2UgdGhpczogW1tbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAwXSwgLi4uXSwgLi4uXVxyXG4gICAgICAgIC8vIHdoaWNoIHJlcHJlc2VudHM6IFtbcmVkLCB5ZWxsb3csIC4uLl0sIC4uLl1cclxuXHJcbiAgICAgICAgaWYgKCF3aW5kb3cuYnRvYSkge1xyXG4gICAgICAgICAgICBhbGVydCgnT2ggbm8sIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGJhc2U2NCBlbmNvZGluZyAtIHdpbmRvdy5idG9hKCkhIScpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDE7XHJcbiAgICAgICAgaWYgKHNjYWxlICE9IDEpIHtcclxuICAgICAgICAgICAgcm93cyA9IF9zY2FsZVJvd3Mocm93cywgc2NhbGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHJvd3MubGVuZ3RoLCAvLyB0aGUgbnVtYmVyIG9mIHJvd3NcclxuICAgICAgICAgICAgd2lkdGggPSBoZWlnaHQgPyByb3dzWzBdLmxlbmd0aCA6IDAsIC8vIHRoZSBudW1iZXIgb2YgY29sdW1ucyBwZXIgcm93XHJcbiAgICAgICAgICAgIHJvd19wYWRkaW5nID0gKDQgLSAod2lkdGggKiAzKSAlIDQpICUgNCwgLy8gcGFkIGVhY2ggcm93IHRvIGEgbXVsdGlwbGUgb2YgNCBieXRlc1xyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyA9ICh3aWR0aCAqIDMgKyByb3dfcGFkZGluZykgKiBoZWlnaHQsIC8vIHNpemUgaW4gYnl0ZXMgb2YgQk1QIGRhdGFcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgPSA1NCArIG51bV9kYXRhX2J5dGVzLCAvLyBmdWxsIGhlYWRlciBzaXplIChvZmZzZXQpICsgc2l6ZSBvZiBkYXRhXHJcbiAgICAgICAgICAgIGZpbGU7XHJcblxyXG4gICAgICAgIGhlaWdodCA9IF9hc0xpdHRsZUVuZGlhbkhleChoZWlnaHQsIDQpO1xyXG4gICAgICAgIHdpZHRoID0gX2FzTGl0dGxlRW5kaWFuSGV4KHdpZHRoLCA0KTtcclxuICAgICAgICBudW1fZGF0YV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZGF0YV9ieXRlcywgNCk7XHJcbiAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgPSBfYXNMaXR0bGVFbmRpYW5IZXgobnVtX2ZpbGVfYnl0ZXMsIDQpO1xyXG5cclxuICAgICAgICAvLyB0aGVzZSBhcmUgdGhlIGFjdHVhbCBieXRlcyBvZiB0aGUgZmlsZS4uLlxyXG5cclxuICAgICAgICBmaWxlID0gKCdCTScgKyAvLyBcIk1hZ2ljIE51bWJlclwiXHJcbiAgICAgICAgICAgIG51bV9maWxlX2J5dGVzICsgLy8gc2l6ZSBvZiB0aGUgZmlsZSAoYnl0ZXMpKlxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMCcgKyAvLyByZXNlcnZlZFxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMCcgKyAvLyByZXNlcnZlZFxyXG4gICAgICAgICAgICAnXFx4MzZcXHgwMFxceDAwXFx4MDAnICsgLy8gb2Zmc2V0IG9mIHdoZXJlIEJNUCBkYXRhIGxpdmVzICg1NCBieXRlcylcclxuICAgICAgICAgICAgJ1xceDI4XFx4MDBcXHgwMFxceDAwJyArIC8vIG51bWJlciBvZiByZW1haW5pbmcgYnl0ZXMgaW4gaGVhZGVyIGZyb20gaGVyZSAoNDAgYnl0ZXMpXHJcbiAgICAgICAgICAgIHdpZHRoICsgLy8gdGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAgaW4gcGl4ZWxzKlxyXG4gICAgICAgICAgICBoZWlnaHQgKyAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAgaW4gcGl4ZWxzKlxyXG4gICAgICAgICAgICAnXFx4MDFcXHgwMCcgKyAvLyB0aGUgbnVtYmVyIG9mIGNvbG9yIHBsYW5lcyAoMSlcclxuICAgICAgICAgICAgJ1xceDE4XFx4MDAnICsgLy8gMjQgYml0cyAvIHBpeGVsXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyBObyBjb21wcmVzc2lvbiAoMClcclxuICAgICAgICAgICAgbnVtX2RhdGFfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBCTVAgZGF0YSAoYnl0ZXMpKlxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSBob3Jpem9udGFsIHJlc29sdXRpb25cclxuICAgICAgICAgICAgJ1xceDEzXFx4MEJcXHgwMFxceDAwJyArIC8vIDI4MzUgcGl4ZWxzL21ldGVyIC0gdGhlIHZlcnRpY2FsIHJlc29sdXRpb25cclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE51bWJlciBvZiBjb2xvcnMgaW4gdGhlIHBhbGV0dGUgKGtlZXAgMCBmb3IgMjQtYml0KVxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gMCBpbXBvcnRhbnQgY29sb3JzIChtZWFucyBhbGwgY29sb3JzIGFyZSBpbXBvcnRhbnQpXHJcbiAgICAgICAgICAgIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICdkYXRhOmltYWdlL2JtcDtiYXNlNjQsJyArIGJ0b2EoZmlsZSk7XHJcbiAgICB9O1xyXG5cclxufSkoKTtcclxuXHJcblxyXG5cclxuLy9cclxuLy8gQ29kZSBzcGVjaWZpYyB0byBsb3cgcmVzIHBhaW50XHJcbi8vXHJcblxyXG4oZnVuY3Rpb24od2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgdmFyICRiZ190cmFuc2Zvcm07XHJcblxyXG4gICAgZnVuY3Rpb24gX2Fzc2lnbl9iZ190cmFuc2Zvcm0oYmcpIHtcclxuICAgICAgICAvLyBkaWZmZXJlbnQgYnJvd3NlcnMgcmV0dXJuIHRoZSBjb2xvciBkaWZmZXJlbnRseVxyXG4gICAgICAgIC8vIGxldCdzIHN1cHBvcnQgXCJyZ2IoMTIzLCAwLCA1KVwiLCBcIiNmZmZcIiwgYW5kIFwiI2ZmMDA5OVwiXHJcbiAgICAgICAgaWYgKC9ecmdiXFwoXFxkKywgXFxkKywgXFxkK1xcKSQvLnRlc3QoYmcpKSB7XHJcbiAgICAgICAgICAgICRiZ190cmFuc2Zvcm0gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geC5zcGxpdCgnLCcpO1xyXG4gICAgICAgICAgICAgICAgeFswXSA9IHhbMF0uc3Vic3RyKDQpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHQ7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB4W2ldID0gcGFyc2VJbnQoeFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJnLnN1YnN0cmluZygwLCAxKSA9PSAnIycpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSB4Lmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoJzB4JyArIHguc3Vic3RyaW5nKGksIGkgKyAxKSArIHguc3Vic3RyaW5nKGksIGkgKyAxKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbGVydCgnVW5wYXJzZWFibGUgY29sb3I6ICcgKyBiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uICRiZ0FzUkdCKGlkKSB7XHJcbiAgICAgICAgdmFyIGJnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnN0eWxlLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICBpZiAoYmcgPT09ICcnKSByZXR1cm4gWzI1NSwgMjU1LCAyNTVdO1xyXG4gICAgICAgIGlmICgkYmdfdHJhbnNmb3JtID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgX2Fzc2lnbl9iZ190cmFuc2Zvcm0oYmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJGJnX3RyYW5zZm9ybShiZyk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwID0gZnVuY3Rpb24oc2NhbGUpIHtcclxuICAgICAgICAvLyBwaXhlbHMgYXJlIHhfeSBzdGFydGluZyBpbiB0b3AgbGVmdCwgd2UgbmVlZCB0byBpdGVyYXRlIGZyb20gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBkaW1lbnNpb25zIGFyZSBhIDUweDUwIHNxdWFyZSAoMCwgMCwgNDksIDQ5KVxyXG5cclxuICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDEwO1xyXG5cclxuICAgICAgICB2YXIgeCxcclxuICAgICAgICAgICAgeF9sZW4gPSA1MCxcclxuICAgICAgICAgICAgeSA9IDQ5LFxyXG4gICAgICAgICAgICByb3dzID0gW10sXHJcbiAgICAgICAgICAgIHJvdyxcclxuICAgICAgICAgICAgaW1nX3BhcmVudCxcclxuICAgICAgICAgICAgaW1nLFxyXG4gICAgICAgICAgICBzcmM7XHJcblxyXG4gICAgICAgIGZvciAoOyB5ID49IDA7IHktLSkge1xyXG4gICAgICAgICAgICByb3dzLnB1c2gocm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgeF9sZW47IHgrKykge1xyXG4gICAgICAgICAgICAgICAgcm93LnB1c2goJGJnQXNSR0IoeCArICdfJyArIHkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogdGVzdCBpbWFnZSAqIC9cclxuICAgICAgICByb3dzID0gW1xyXG4gICAgICAgICAgICBbWzI1NSwgMCwgMF0sIFsyNTUsIDI1NSwgMjU1XV0sXHJcbiAgICAgICAgICAgIFtbMCwgMCwgMjU1XSwgWzAsIDI1NSwwXV1cclxuICAgICAgICBdO1xyXG4gICAgICAgIC8qICovXHJcblxyXG4gICAgICAgIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgIHNyYyA9IHdpbmRvdy5nZW5lcmF0ZUJpdG1hcERhdGFVUkwocm93cywgc2NhbGUpO1xyXG4gICAgICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgICAgICAgaW1nLmFsdCA9ICdJZiB5b3UgY2FuIHJlYWQgdGhpcywgeW91ciBicm93c2VyIHByb2JhYmx5IGRvZXNuXFwndCBzdXBwb3J0IHRoZSBkYXRhIFVSTCBzY2hlbWUgZm9ybWF0ISBPaCBubyEnO1xyXG4gICAgICAgIGltZy50aXRsZSA9ICdZb3UgZ2VuZXJhdGVkIGFuIGltYWdlLCBncmVhdCBqb2IhIFRvIHNhdmUgaXQsIGRyYWcgaXQgdG8geW91ciBEZXNrdG9wIG9yIHJpZ2h0IGNsaWNrIGFuZCBzZWxlY3Qgc2F2ZSBhcy4nO1xyXG4gICAgICAgIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgaWYgKGltZ19wYXJlbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50LmlkID0gJ2ltZyc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3cmFwJykuYXBwZW5kQ2hpbGQoaW1nX3BhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGltZ19wYXJlbnQuaW5uZXJIVE1MID0gJzxkaXYgY2xhc3M9XCJpbWctaGVhZGVyXCI+R2VuZXJhdGVkIEltYWdlICZuYnNwOzxhIHRpdGxlPVwiaGlkZSBpbWFnZVwiIGhyZWY9XCIjXCI+eDwvYT48L2Rpdj4nO1xyXG4gICAgICAgIGltZ19wYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBpbWdfcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nX3BhcmVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGltZ19wYXJlbnQuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcC5hc2tUb1NjYWxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNjYWxlID0gcHJvbXB0KCdQaWNrIGEgc2NhbGluZyBmYWN0b3IuLi5cXG4xID0gYWN0dWFsIHNpemUsIC41ID0gaGFsZiwgMiA9IGRvdWJsZVxcbihub3RlOiBsYXJnZSBudW1iZXJzIG1pZ2h0IGNyYXNoIHlvdXIgYnJvd3NlciknKTtcclxuICAgICAgICBpZiAoc2NhbGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gcGFyc2VGbG9hdChzY2FsZSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gTmFOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc05hTihzY2FsZSkpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGF0IGlzIG5vdCBhIG51bWJlciEnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlID0gc2NhbGUgKiAxMDsgLy8gc2luY2UgYWN0dWFsIHNpemUgaXMgYWN0dWFsbHkgMTB4IVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwKHNjYWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG59KSh0aGlzLCB0aGlzLmRvY3VtZW50KTsiLCIoZnVuY3Rpb24oJCkge1xyXG4gICAgJChmdW5jdGlvbigpIHtcclxuICAgICAgICAkKCdib2R5JykudG9vbHRpcCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnW3JlbD10b29sdGlwXSdcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KShqUXVlcnkpO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgWyd1aS5yb3V0ZXInXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUubWFpbicsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdtYWluJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWUnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICBdKS5ydW4oWydnYW1lU2VydmljZScsICdwb3B1bGF0aW9uU2VydmljZScsICdsb2dTZXJ2aWNlJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UsIHBvcHVsYXRpb25TZXJ2aWNlLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLmluaXQoKTtcclxuICAgICAgICBsb2dTZXJ2aWNlLmluaXQoKTtcclxuICAgIH1dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2Jsb3FoZWFkR2FtZUNvbnRyb2wnLCB7XHJcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJibG9xaGVhZC1jb21wb25lbnRcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiJGN0cmwudG9nZ2xlU3RhdGUoKTtcIj48aSBjbGFzcz1cImZhXCIgbmctY2xhc3M9XCIkY3RybC5nZXRJY29uKClcIj48L2k+PC9idXR0b24+PC9kaXY+JyxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2FtZVNlcnZpY2UnLCAnZ2FtZVN0YXRlcycsIGZ1bmN0aW9uKGdhbWVTZXJ2aWNlLCBnYW1lU3RhdGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTZXJ2aWNlLmdldFN0YXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnRvZ2dsZVN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gKHNlbGYuY3VycmVudFN0YXRlID09PSBnYW1lU3RhdGVzLlJVTk5JTkcgPyBnYW1lU3RhdGVzLlBBVVNFRCA6IGdhbWVTdGF0ZXMuUlVOTklORyk7XHJcbiAgICAgICAgICAgIGdhbWVTZXJ2aWNlLnNldFN0YXRlKHNlbGYuY3VycmVudFN0YXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0SWNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/ICdmYS1wYXVzZScgOiAnZmEtcGxheSc7XHJcbiAgICAgICAgfTtcclxuICAgIH1dXHJcbn0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ0JyZWVkZXInLCBbJyRmaWx0ZXInLCAnVHJhaXRJbnNwZWN0b3InLCBmdW5jdGlvbigkZmlsdGVyLCBUcmFpdEluc3BlY3Rvcikge1xyXG5cclxuXHJcblxyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBCcmVlZGVyID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy50cmFpdEluc3BlY3RvciA9IG5ldyBUcmFpdEluc3BlY3RvcigpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5zZXRSYW5kb21OYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuaWQgfHwgMDtcclxuICAgICAgICB0aGlzLmdlbmVyYXRpb24gPSBjb25maWcuZ2VuZXJhdGlvbiB8fCB0aGlzLmdlbmVyYXRpb24gfHwgMDtcclxuICAgICAgICB0aGlzLnNjYWxlID0gY29uZmlnLnNjYWxlIHx8IHRoaXMuc2NhbGUgfHwgNjtcclxuICAgICAgICB0aGlzLmdlbmVzID0gY29uZmlnLmdlbmVzIHx8IHRoaXMuZ2VuZXMgfHwgW107XHJcbiAgICAgICAgdGhpcy5yZWRHcmVlbkltYWdlID0gZ2V0UmVkR3JlZW5JbWFnZSh0aGlzLmdlbmVzLCB0aGlzLnNjYWxlKTtcclxuICAgICAgICB0aGlzLmJsdWVJbWFnZSA9IGdldEJsdWVJbWFnZSh0aGlzLmdlbmVzLCB0aGlzLnNjYWxlKTtcclxuICAgICAgICB0aGlzLnRyYWl0cyA9IHRoaXMudHJhaXRJbnNwZWN0b3IuZ2V0VHJhaXRzKHRoaXMuZ2VuZXMpO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmJyZWVkID0gZnVuY3Rpb24ocGFydG5lciwgbmV3SWQpIHtcclxuICAgICAgICB2YXIgcDEgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwMiA9IHBhcnRuZXI7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICBpZDogbmV3SWQsXHJcbiAgICAgICAgICAgIGdlbmVyYXRpb246IHAxLmdlbmVyYXRpb24gKyAxLFxyXG4gICAgICAgICAgICBnZW5lczogW11cclxuICAgICAgICB9KTtcclxuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHAxLmdlbmVzLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgIHZhciBwMWcgPSBwMS5nZW5lc1tnXTtcclxuICAgICAgICAgICAgdmFyIHAyZyA9IHAyLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICBjaGlsZC5nZW5lcy5wdXNoKGNyb3Nzb3ZlcihwMWcsIHAyZykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGlsZC51cGRhdGUoeyBzY2FsZTogMjAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWl0cztcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5oYXNUcmFpdCA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudHJhaXRzLmZpbHRlcihmdW5jdGlvbihteVRyYWl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBteVRyYWl0Lm5hbWUgPT09IHRyYWl0O1xyXG4gICAgICAgIH0pLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0ID4gMDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5zZXRSYW5kb21OYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5nZXRSYW5kb21OYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZW5lcyB8fCB0aGlzLmdlbmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gR2VuZGVyJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKSA/XHJcbiAgICAgICAgICAgIG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QxLmxlbmd0aCAtIDEpXSA6XHJcbiAgICAgICAgICAgIG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QyLmxlbmd0aCAtIDEpXTtcclxuXHJcbiAgICAgICAgdmFyIGxhc3ROYW1lID0gbmFtZUxpc3QzW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDMubGVuZ3RoIC0gMSldICtcclxuICAgICAgICAgICAgbmFtZUxpc3Q0W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDQubGVuZ3RoIC0gMSldICtcclxuICAgICAgICAgICAgbmFtZUxpc3Q1W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDUubGVuZ3RoIC0gMSldO1xyXG5cclxuICAgICAgICByZXR1cm4gZmlyc3ROYW1lICsgbGFzdE5hbWU7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcbiAgICB2YXIgZ2VuZXRpY09wdGlvbnMgPSB7XHJcbiAgICAgICAgY3Jvc3NvdmVycmF0ZTogMC41XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuICAgIC8vIG1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDEgPSBbJ0RpZ2d5ICcsICdEZWFuICcsICdEdWtlICcsICdEb3lsZSAnLCAnRGlyayAnLCAnRGFnICcsICdEaW1pdHJpICcsICdEcnUgJ107XHJcbiAgICAvLyBmZW1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDIgPSBbJ0RhZ2d5ICcsICdEYWlzeSAnLCAnRGluYWggJywgJ0RoYXJtYSAnLCAnRGVlICcsICdEYXBobmUgJywgJ0RpeGllICcsICdEYXJjeSAnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBwcmVmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDMgPSBbJycsICcnLCAnJywgJycsICcnLCAnVmFuICcsICdWb24gJywgJ09cXCcnLCAnTWMnLCAnTWMnXTtcclxuICAgIC8vIGxhc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDQgPSBbJ0Rvb2cnLCAnRGliYicsICdEYWJiJywgJ0RpZycsICdEYW5nJywgJ0R1Z2cnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBzdWZmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDUgPSBbJycsICcnLCAnJywgJ2xlcicsICdsZXInLCAnZXInLCAnZXInLCAnZXInLCAnd3VlcnN0JywgJ2Vyd3VlcnN0JywgJ2VydG9uJywgJ2VydG9uJywgJ3NraSddO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgZnVuY3Rpb25zICovXHJcbiAgICBmdW5jdGlvbiBjcm9zc292ZXIoZzEsIGcyKSB7XHJcbiAgICAgICAgdmFyIGNyb3Nzb3ZlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgLy92YXIgbXV0YXRpb24gPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgMjU1KTtcclxuICAgICAgICB2YXIgZyA9IGFuZ3VsYXIuY29weShjcm9zc292ZXIgPD0gZ2VuZXRpY09wdGlvbnMuY3Jvc3NvdmVycmF0ZSA/IGcxIDogZzIpO1xyXG4gICAgICAgIHZhciBtdXRhdGlvblJhdGUgPSBnWzJdIC8gMjU1LjA7XHJcbiAgICAgICAgLy92YXIgbXIgPSBtdXRhdGlvbiA8IGdbMl0gPyByYW5kb21JbnRGcm9tSW50ZXJ2YWwoLTI1LCAyNSkgOiAwO1xyXG4gICAgICAgIC8vdmFyIG1nID0gbXV0YXRpb24gPCBnWzJdID8gcmFuZG9tSW50RnJvbUludGVydmFsKC0yNSwgMjUpIDogMDtcclxuICAgICAgICAvL3ZhciBtYiA9IG11dGF0aW9uIDwgZ1syXSA/IHJhbmRvbUludEZyb21JbnRlcnZhbCgtMjUsIDI1KSA6IDA7XHJcbiAgICAgICAgdmFyIGJpdFN0cmluZ1IgPSAnJztcclxuICAgICAgICB2YXIgYml0U3RyaW5nRyA9ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdHICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvbGRSID0gZ1swXTtcclxuICAgICAgICB2YXIgb2xkRyA9IGdbMV07XHJcbiAgICAgICAgZ1swXSBePSBwYXJzZUludChiaXRTdHJpbmdSLCAyKTtcclxuICAgICAgICBnWzFdIF49IHBhcnNlSW50KGJpdFN0cmluZ0csIDIpO1xyXG4gICAgICAgIC8vaWYob2xkUiAhPT0gZ1swXSkgY29uc29sZS5sb2coJ011dGF0aW9uISBSOiAnK29sZFIrJyB0byAnK2dbMF0pO1xyXG4gICAgICAgIC8vaWYob2xkRyAhPT0gZ1sxXSkgY29uc29sZS5sb2coJ011dGF0aW9uISBHOiAnK29sZEcrJyB0byAnK2dbMV0pO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBpZiAoZ1swXSArIG1yIDwgMCkgZ1swXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnWzBdICsgbXIgPiAyNTUpIGdbMF0gPSAyNTU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGdbMF0gKz0gbXI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGdbMV0gKyBtZyA8IDApIGdbMV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ1sxXSArIG1nID4gMjU1KSBnWzFdID0gMjU1O1xyXG4gICAgICAgICAgICAgICAgZWxzZSBnWzFdICs9IG1nO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChnWzJdICsgbWIgPCAwKSBnWzJdID0gMDtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdbMl0gKyBtYiA+IDI1NSkgZ1syXSA9IDI1NTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZ1syXSArPSBtYjtcclxuICAgICAgICAqL1xyXG4gICAgICAgIHJldHVybiBnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJlZEdyZWVuSW1hZ2UoZ2VuZXMsIHNjYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQml0bWFwRGF0YVVSTChhZGRSb3dzKGNvbnZlcnRSZWRHcmVlbk1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRCbHVlSW1hZ2UoZ2VuZXMsIHNjYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQml0bWFwRGF0YVVSTChhZGRSb3dzKGNvbnZlcnRCbHVlTWFwKGdlbmVzKSwgZ2VuZXMubGVuZ3RoKSwgc2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRSZWRHcmVlbk1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZ2VuZXNbaV1bMF07XHJcbiAgICAgICAgICAgIHZhciBnID0gZ2VuZXNbaV1bMV07XHJcbiAgICAgICAgICAgIHZhciBicmlnaHQgPSAoTWF0aC5hYnMociAtIGcpIC8gMjU1LjApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHIgPiBnKSBnID0gMDtcclxuICAgICAgICAgICAgZWxzZSByID0gMDtcclxuICAgICAgICAgICAgciAqPSBicmlnaHQ7XHJcbiAgICAgICAgICAgIGcgKj0gYnJpZ2h0O1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbciwgZywgMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRCbHVlTWFwKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goWzAsIDAsIGdlbmVzW2ldWzJdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUm93cyhnZW5lcywgY29scykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IChnZW5lcy5sZW5ndGggLyBjb2xzKTsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKGdlbmVzW2kgKyAoaiAqIGNvbHMpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQnJlZWRlcjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuZmFjdG9yeSgnUG9wdWxhdGlvbicsIFsnJGZpbHRlcicsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRmaWx0ZXIsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucykge1xyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFBvcHVsYXRpb24gPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpO1xyXG4gICAgfTtcclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoY29uZmlnKSA9PSAndW5kZWZpbmVkJykgY29uZmlnID0ge307XHJcbiAgICAgICAgdGhpcy5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiA9IGNvbmZpZy5jdXJyZW50R2VuZXJhdGlvbiB8fCB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uIHx8IDA7XHJcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gY29uZmlnLm1lbWJlcnMgfCB0aGlzLm1lbWJlcnMgfHwgdGhpcy5jcmVhdGVJbml0aWFsUG9wdWxhdGlvbihjb25maWcuc2l6ZSk7XHJcbiAgICAgICAgdGhpcy5icmVlZGVycyA9IGNvbmZpZy5icmVlZGVycyB8IHRoaXMuYnJlZWRlcnMgfHwgW107XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uID0gZnVuY3Rpb24oY291bnQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGduID0gMDsgZ24gPCBzZWxmLmdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGduKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA9PT0gMCA/IDI1NSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBnID0gaSAlIDIgPT09IDAgPyAwIDogMjU1O1xyXG5cclxuICAgICAgICAgICAgZ2VuZXNbNDJdWzBdID0gcjtcclxuICAgICAgICAgICAgZ2VuZXNbNDJdWzFdID0gZztcclxuXHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IDYsXHJcbiAgICAgICAgICAgICAgICBnZW5lczogYW5ndWxhci5jb3B5KGdlbmVzKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgcG9wdWxhdGlvbi5wdXNoKHVuaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9wdWxhdGlvbjtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuaXNCcmVlZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBhcmUgYXQgbGVhc3QgMSBtYWxlIGFuZCAxIGZlbWFsZSBpbiB0aGUgYnJlZWRlcnNcclxuICAgICAgICB2YXIgaGFzTWFsZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBoYXNGZW1hbGUgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnJlZWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSB0aGlzLmdldEJ5SWQodGhpcy5icmVlZGVyc1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh1bml0Lmhhc1RyYWl0KCdNYWxlJykpIGhhc01hbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlIGhhc0ZlbWFsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChoYXNNYWxlICYmIGhhc0ZlbWFsZSkgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNNYWxlICYmIGhhc0ZlbWFsZTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuZ2V0QnlJZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdC5pZCA9PT0gaWQ7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldEJ5R2VuZXJhdGlvbiA9IGZ1bmN0aW9uKGdlbmVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbih1bml0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bml0LmdlbmVyYXRpb24gPT09IGdlbmVyYXRpb247XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBvcHVsYXRpb247XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2VuZURlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGdlbmVEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgLy9nZW5lIDpyLGcsYiByOnJlY2Vzc2l2ZSwgZzpkb21pbmFudCwgYjptdXRhdGlvbnJhdGVcclxuICAgIGdlbmVEZWZpbml0aW9uc1swXSA9IHsgZG9tOiAnQnJvYWQgU2hvdWxkZXJzJywgcmVjOiAnU2xlbmRlciBTaG91bGRlcnMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMV0gPSB7IGRvbTogJ1RoaWNrIFNrdWxsJywgcmVjOiAnU29mdCBTa3VsbCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syXSA9IHsgZG9tOiAnTGFyZ2UgQXJtcycsIHJlYzogJ1NtYWxsIEFybXMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbM10gPSB7IGRvbTogJ0xhcmdlIExlZ3MnLCByZWM6ICdTbWFsbCBMZWdzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzRdID0geyBkb206ICdCaWcgQ2hlc3QnLCByZWM6ICdXZWFrIENoZXN0JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzVdID0geyBkb206ICdUb3VnaCBKYXcnLCByZWM6ICdXZWFrIEphdycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s2XSA9IHsgZG9tOiAnT2FmaXNoJywgcmVjOiAnTW91c2V5JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzExXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNF0gPSB7IGRvbTogJ0NhbGN1bGF0ZWQgRGVjaXNpb25zJywgcmVjOiAnUmVja2xlc3MnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTVdID0geyBkb206ICdMYXRlcmFsIFRoaW5rZXInLCByZWM6ICdTaW5nbGUgTWluZGVkJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE2XSA9IHsgZG9tOiAnUXVpY2sgTGVhcm5lcicsIHJlYzogJ0ZvcmdldGZ1bCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjhdID0geyBkb206ICdGdWxsIExpcHMnLCByZWM6ICdUaGluIExpcHMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjldID0geyBkb206ICdEYXJrIFNraW4nLCByZWM6ICdGYWlyIFNraW4nLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzBdID0geyBkb206ICdFbG9xdWVudCcsIHJlYzogJ0NhdGF0b25pYycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMV0gPSB7IGRvbTogJ1Bvd2VyZnVsIFZvaWNlJywgcmVjOiAnUXVpZXQgVm9pY2UnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzQyXSA9IHsgZG9tOiAnRmVtYWxlJywgcmVjOiAnTWFsZScsIGF0dHI6IFsnTENLJ119O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG5cclxuICAgIHJldHVybiBnZW5lRGVmaW5pdGlvbnM7XHJcbn0pKCkpO1xyXG5cclxuZ2FtZS5jb25zdGFudCgndHJhaXREZWZpbml0aW9ucycsIChmdW5jdGlvbigpIHtcclxuICAgIHZhciB0cmFpdHMgPSBbe1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIDIwMF0sXHJcbiAgICAgICAgICAgICAgICBbNSwgNTAsIDI1NV1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnTWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdQcmV0dHknLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIC0xMDBdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwLCAyNDBdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ0ZlbWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdBZ2dyZXNzaXZlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMiwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs1LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMTQsIC0yNTUsIC0xNTBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0ZlbWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIDAsIDI1NV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnTWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIC0yNTUsIC0xXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdIYW5kc29tZSBBZ2dyZXNzaXZlIGFuZCBzb21ldGhpbmcnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzMwLCAwLCAwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydIYW5kc29tZScsICdBZ2dyZXNzaXZlJ11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBjaGVja2VkID0gW107XHJcbiAgICB2YXIgZ2V0VHJhaXRCeU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWl0cy5maWx0ZXIoZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gdC5uYW1lO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlID0gZnVuY3Rpb24odHJhaXQpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodHJhaXQucmVxdWlyZWRUcmFpdHMpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJhaXQucmVxdWlyZWRUcmFpdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXF1aXJlZFRyYWl0ID0gdHJhaXQucmVxdWlyZWRUcmFpdHNbal07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxID0gZ2V0VHJhaXRCeU5hbWUocmVxdWlyZWRUcmFpdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZC5pbmRleE9mKHJlcS5uYW1lKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZShyZXEpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCByZXEuZ2VuZXMubGVuZ3RoOyBnKyspXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhaXQuZ2VuZXMucHVzaChyZXEuZ2VuZXNbZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoZWNrZWQucHVzaCh0cmFpdC5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJ1aWxkVHJhaXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRyYWl0ID0gdHJhaXRzW2ldO1xyXG4gICAgICAgICAgICBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlKHRyYWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFpdHMpO1xyXG4gICAgICAgIHJldHVybiB0cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGJ1aWxkVHJhaXRzKCk7XHJcbn0pKCkpO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnVHJhaXRJbnNwZWN0b3InLCBbJyRmaWx0ZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgVHJhaXRJbnNwZWN0b3IgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIC8vdGhpcy5pZCA9IGNvbmZpZy5pZCB8fCB0aGlzLmlkIHx8IDA7ICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdERlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSB0cmFpdERlZmluaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IHRkLmdlbmVzLmxlbmd0aCAmJiBtZXQgPT09IHRydWU7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZGcgPSB0ZC5nZW5lc1toXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGdlbmVzW3RkZ1swXV1bMV0gLSBnZW5lc1t0ZGdbMF1dWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2IDwgdGRnWzFdIHx8IHYgPiB0ZGdbMl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuXHJcbiAgICByZXR1cm4gVHJhaXRJbnNwZWN0b3I7XHJcbn1dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2Jsb3FoZWFkTG9nJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL2xvZy9sb2cuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMubG9nJ1xyXG59KTtcclxuXHJcbmFwcC5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnLCBbJyRzY29wZScsICdsb2dTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgbG9nU2VydmljZS5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQoJHNjb3BlLCBzZWxmLnJlY2VpdmVNZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYucmVjZWl2ZU1lc3NhZ2VzID0gZnVuY3Rpb24oZXZlbnQsIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xyXG4gICAgfTtcclxufV0pO1xyXG5cclxuYXBwLnNlcnZpY2UoJ2xvZ1NlcnZpY2UnLCBbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLm1lc3NhZ2VzID0gW107XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKFwiV2VsY29tZSB0byBHZW5ldGl4IVwiKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ01lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignbmV3TWVzc2FnZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZSdcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnLCBbJyRzY29wZScsICdwb3B1bGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgcG9wdWxhdGlvblNlcnZpY2UpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuYnJlZWRlcnMgPSBbXTtcclxuICAgICAgICBzZWxmLnBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQoJHNjb3BlLCBzZWxmLnVwZGF0ZVBvcHVsYXRpb24pO1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlQnJlZWRlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UudXBkYXRlTWVtYmVyKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmFkZEJyZWVkZXIgPSBmdW5jdGlvbih1bml0aWQpIHtcclxuICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5hZGRCcmVlZGVyKHVuaXRpZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnJlbW92ZUJyZWVkZXIodW5pdGlkKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi51cGRhdGVCcmVlZGVycyA9IGZ1bmN0aW9uKGV2ZW50LCBicmVlZGVycykge1xyXG4gICAgICAgIHNlbGYuYnJlZWRlcnMgPSBicmVlZGVycztcclxuICAgIH07XHJcbiAgICBzZWxmLnVwZGF0ZVBvcHVsYXRpb24gPSBmdW5jdGlvbihldmVudCwgcG9wdWxhdGlvbikge1xyXG4gICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IHBvcHVsYXRpb247XHJcbiAgICB9O1xyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkUGxheWVyQm94Jywge1xyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIHJlcXVpcmU6IHtcclxuICAgICAgICBtYWluQ3RybDogXCJeYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZVwiXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMucGxheWVyQm94JyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdGl0bGU6ICdAJyxcclxuICAgICAgICBmb290ZXI6ICdAJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnBsYXllckJveCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi51bml0ID0gc2VsZi5tYWluQ3RybC51bml0O1xyXG4gICAgfTtcclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5nYW1lLnNlcnZpY2UoJ3BvcHVsYXRpb25TZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnZ2FtZVNlcnZpY2UnLCAnUG9wdWxhdGlvbicsICdsb2dTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsIGdhbWVTZXJ2aWNlLCBQb3B1bGF0aW9uLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGNvbmZpZykpIGNvbmZpZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgc2VsZi5icmVlZFN0ZXBzID0gY29uZmlnLmJyZWVkU3RlcHMgfHwgc2VsZi5icmVlZFN0ZXBzIHx8IDY7XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkID0gMDtcclxuXHJcbiAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IGNvbmZpZy5wb3B1bGF0aW9uIHx8IG5ldyBQb3B1bGF0aW9uKHsgc2l6ZTogMTAgfSk7XHJcbiAgICAgICAgICAgIHNlbGYubG9nU2VydmljZSA9IGxvZ1NlcnZpY2U7XHJcblxyXG4gICAgICAgICAgICBnYW1lU2VydmljZS5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50KCRyb290U2NvcGUsIHNlbGYuaGFuZGxlR2FtZUxvb3ApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuaGFuZGxlR2FtZUxvb3AgPSBmdW5jdGlvbihldmVudCwgc3RlcHMpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm5hbWUgIT09ICdnYW1lTG9vcEV2ZW50Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BvcHVsYXRlU2VydmljZS5oYW5kbGVHYW1lTG9vcCAtIEludmFsaWQgZXZlbnQ6ICcgKyBldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkICs9IHN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHNlbGYuc3RlcHNTaW5jZUJyZWVkID49IHNlbGYuYnJlZWRTdGVwcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkIC09IHNlbGYuYnJlZWRTdGVwcztcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkJSRUVEIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShzZWxmLmxvZ1NlcnZpY2UubG9nTWVzc2FnZShcIkJSRUVEIVwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMucHVzaChpZCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ01lc3NhZ2UoXCJCcmVlZGVyIGFkZGVkOiBcIiArIHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yZW1vdmVCcmVlZGVyID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzLmluZGV4T2YoaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIGlmICghc2VsZi5wb3B1bGF0aW9uLmlzQnJlZWRpbmcoKSkgc2VsZi5zdGVwc1NpbmNlQnJlZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnYnJlZWRlclVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzKTtcclxuICAgICAgICAgICAgICAgIHNlbGYubG9nU2VydmljZS5sb2dNZXNzYWdlKFwiQnJlZWRlciByZW1vdmVkOiBcIiArIHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi51cGRhdGVNZW1iZXIgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCk7XHJcbiAgICAgICAgICAgIG1lbWJlci5nZW5lc1tnZW5lSW5kZXhdID0gZ2VuZVZhbHVlcztcclxuICAgICAgICAgICAgbWVtYmVyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdwb3B1bGF0aW9uVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24ubWVtYmVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnJlZWRlclVwZGF0ZUV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2dlbm9tZUVkaXRvcicsIHtcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJzwnLFxyXG4gICAgICAgIHVwZGF0ZUdlbmU6ICcmJ1xyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2VuZURlZmluaXRpb25zJywgZnVuY3Rpb24oZ2VuZURlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICAgICAgc2VsZi5leHBhbmRvID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgbmV3VmFsdWVzLnB1c2gocmFuZG9tSW50RnJvbUludGVydmFsKDAsIDI1NSkpO1xyXG4gICAgICAgICAgICBuZXdWYWx1ZXMucHVzaChyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgMjU1KSk7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlcy5wdXNoKHJhbmRvbUludEZyb21JbnRlcnZhbCgwLCAyNTUpKTtcclxuICAgICAgICAgICAgc2VsZi51cGRhdGVHZW5lKHsgJGdlbmVJbmRleDogaW5kZXgsICR2YWx1ZXM6IG5ld1ZhbHVlcyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi51bml0LmdlbmVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5yYW5kb21pemUoaSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsIDEpID09PSAwID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgICAgIHZhciByID0gKGdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgdmFyIGcgPSAoZ2VuZGVyID09ICdNYWxlJykgPyAwIDogMjU1O1xyXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZUdlbmUoeyAkZ2VuZUluZGV4OiA0MiwgJHZhbHVlczogW3IsIGcsIDBdIH0pO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuc2V0UmFuZG9tTmFtZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuaHRtbCdcclxuXHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHNlbGYubGFzdEJyZWVkZXJJRCA9IDA7XHJcbiAgICBzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPSAnTWFsZSc7XHJcblxyXG4gICAgc2VsZi5raWxsQnJlZWRlciA9IGZ1bmN0aW9uKGRpZ2dlcikge1xyXG4gICAgICAgIHNlbGYuZGlnZ2Vycy5zcGxpY2Uoc2VsZi5kaWdnZXJzLmluZGV4T2YoZGlnZ2VyKSwgMSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBzZWxmLmFkZE5ld0JyZWVkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZ2VuZXMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICBnZW5lcy5wdXNoKFswLCAwLCAwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBydiA9IChzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPT0gJ01hbGUnKSA/IDI1NSA6IDA7XHJcbiAgICAgICAgdmFyIGd2ID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMCA6IDI1NTtcclxuXHJcbiAgICAgICAgZ2VuZXNbNDJdWzBdID0gcnY7XHJcbiAgICAgICAgZ2VuZXNbNDJdWzFdID0gZ3Y7XHJcblxyXG5cclxuICAgICAgICB2YXIgZGlnZ2VyID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICBpZDogc2VsZi5sYXN0QnJlZWRlcklEKyssXHJcbiAgICAgICAgICAgIGdlbmVyYXRpb246IDAsXHJcbiAgICAgICAgICAgIHNjYWxlOiA2LFxyXG4gICAgICAgICAgICBnZW5lczogZ2VuZXNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGlnZ2VyLnVwZGF0ZSgpO1xyXG4gICAgICAgIHNlbGYuZGlnZ2Vycy51bnNoaWZ0KGRpZ2dlcik7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgc2VsZi50cmFpdERlZmluaXRpb25zID0gdHJhaXREZWZpbml0aW9ucztcclxuICAgICAgICAvL3NlbGYuZGlnZ2VycyA9IGdhbWVTZXJ2aWNlLmRpZ2dlcnM7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJzID0gW107XHJcblxyXG4gICAgICAgIC8vZ2FtZVNlcnZpY2UuU3Vic2NyaWJlQnJlZWRFdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBvZmZzcHJpbmcpIHtcclxuICAgICAgICAvLyAgICAvLyRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7IHNlbGYuZGlnZ2VyT2Zmc3ByaW5nID0gb2Zmc3ByaW5nOyB9KTtcclxuICAgICAgICAvL30pO1xyXG4gICAgICAgIC8vZ2FtZVNlcnZpY2UuU3Vic2NyaWJlTmV3R2VuZXJhdGlvbkV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAvLyAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vICAgICAgICBzZWxmLmRpZ2dlcnMgPSBkYXRhLkRpZ2dlcnM7XHJcbiAgICAgICAgLy8gICAgICAgIC8vc2VsZi5kaWdnZXJBbmNlc3RvcnMgPSBkYXRhLkFuY2VzdG9ycztcclxuICAgICAgICAvLyAgICB9KTtcclxuICAgICAgICAvL30pO1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihkaWdnZXJJbmRleCwgZ2VuZUluZGV4LCB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIGRpZ2dlciA9IHNlbGYuZGlnZ2Vyc1tkaWdnZXJJbmRleF07XHJcbiAgICAgICAgICAgIGRpZ2dlci5nZW5lc1tnZW5lSW5kZXhdID0gdmFsdWVzO1xyXG4gICAgICAgICAgICBkaWdnZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9ob21lLmh0bWwnLFxuICAgICc8dWwgY2xhc3M9XCJuYXYgbmF2LXBpbGxzXCI+PGxpPjxhIHVpLXNyZWY9XCJob21lLm1haW5cIj5NYWluPC9hPjwvbGk+PGxpPjxhIHVpLXNyZWY9XCJob21lLnRlc3RcIj5UZXN0IEludGVyZmFjZTwvYT48L2xpPjwvdWw+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMVwiPjxibG9xaGVhZC1nYW1lLWNvbnRyb2w+PC9ibG9xaGVhZC1nYW1lLWNvbnRyb2w+PC9kaXY+PC9kaXY+PGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbG9nL2xvZy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImxvZy1jb21wb25lbnRcIj48dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+PGxpIG5nLXJlcGVhdD1cIm1lc3NhZ2UgaW4gJGN0cmwubWVzc2FnZXMgdHJhY2sgYnkgJGluZGV4XCI+PHNwYW4gbmctYmluZD1cIm1lc3NhZ2VcIj48L3NwYW4+PC9saT48L3VsPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJHb2Fsc1wiPjxibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJSZXNvdXJjZXNcIj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy04XCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiTG9nXCI+PGJsb3FoZWFkLWxvZz48L2Jsb3FoZWFkLWxvZz48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCI/Pz9cIj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiIG5nLXJlcGVhdD1cImJyZWVkZXJpZCBpbiAkY3RybC5icmVlZGVyc1wiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQnJlZWRlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUJyZWVkZXIoYnJlZWRlcmlkKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGdlbm9tZS1lZGl0b3IgdW5pdD1cIiRjdHJsLnBvcHVsYXRpb25bYnJlZWRlcmlkXVwiIHVwZGF0ZS1nZW5lPVwiJGN0cmwudXBkYXRlR2VuZShicmVlZGVyaWQsICRnZW5lSW5kZXgsICR2YWx1ZXMsIHRydWUpXCI+PC9nZW5vbWUtZWRpdG9yPjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTJcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIlBvcHVsYXRpb25cIj48ZGl2IG5nLXJlcGVhdD1cImNoaWxkIGluICRjdHJsLnBvcHVsYXRpb25cIj48Z2Vub21lLWVkaXRvciB1bml0PVwiY2hpbGRcIiB1cGRhdGUtZ2VuZT1cIiRjdHJsLnVwZGF0ZUdlbmUoJGluZGV4LCAkZ2VuZUluZGV4LCAkdmFsdWVzLCBmYWxzZSlcIj48L2dlbm9tZS1lZGl0b3I+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc20gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLmFkZEJyZWVkZXIoY2hpbGQuaWQpXCI+QnJlZWQgTWU8L2J1dHRvbj48L2Rpdj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiPjxoMyBjbGFzcz1cInBhbmVsLXRpdGxlXCIgbmctYmluZD1cIiRjdHJsLnRpdGxlXCI+PC9oMz48L2Rpdj48ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPjxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT48L2Rpdj48ZGl2IGNsYXNzPVwicGFuZWwtZm9vdGVyXCI+PHNwYW4gbmctYmluZD1cIiRjdHJsLmZvb3RlclwiPjwvc3Bhbj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImJsb3FoZWFkLWNvbXBvbmVudFwiPjxoND57eyRjdHJsLnVuaXQubmFtZX19IDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIG5nLXJlcGVhdD1cInRyYWl0IGluICRjdHJsLnVuaXQudHJhaXRzXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgcmVsPVwidG9vbHRpcFwiIHRpdGxlPVwie3t0cmFpdC5uYW1lfX1cIj48L2k+PC9oND48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7eyRjdHJsLnVuaXQucmVkR3JlZW5JbWFnZX19XCIgbmctY2xpY2s9XCIkY3RybC5leHBhbmRvID0gISRjdHJsLmV4cGFuZG9cIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJDbGljayB0byBleHBhbmQvY29sbGFwc2VcIj48ZGl2IG5nLXNob3c9XCIkY3RybC5leHBhbmRvXCIgc3R5bGU9XCJoZWlnaHQ6IDQwMHB4OyBvdmVyZmxvdy15OiBzY3JvbGw7IG1hcmdpbi10b3A6NXB4XCI+PHRhYmxlIGNsYXNzPVwiZ2Vub21lRWRpdG9yIHRhYmxlIHRhYmxlLWNvbmRlbnNlZFwiPjx0aGVhZD48dHI+PHRoPiZuYnNwOzwvdGg+PHRoPkRvbWluYW50PC90aD48dGg+UmVjZXNzaXZlPC90aD48dGg+VmFsdWVzPC90aD48dGg+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uIFwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7IFwiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+PC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0ciBuZy1yZXBlYXQ9XCJnZW5lIGluICRjdHJsLmdlbmVEZWZpbml0aW9ucyBcIj48dGQgbmctYmluZD1cIiRpbmRleCBcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb20gXCI+PC90ZD48dGQgbmctYmluZD1cImdlbmUucmVjIFwiPjwvdGQ+PHRkPkQgPGlucHV0IHR5cGU9XCJudW1iZXIgXCIgbWluPVwiMCBcIiBtYXg9XCIyNTUgXCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMV0gXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKSBcIj4gUiA8aW5wdXQgdHlwZT1cIm51bWJlciBcIiBtaW49XCIwIFwiIG1heD1cIjI1NSBcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVswXSBcIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpIFwiPiBNIDxpbnB1dCB0eXBlPVwibnVtYmVyIFwiIG1pbj1cIjAgXCIgbWF4PVwiMjU1IFwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdIFwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKCkgXCI+PC90ZD48dGQ+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uIFwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7IFwiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXY+PHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGEgZGF0YS10YXJnZXQ9XCIjYnJlZWRlcnNcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5CcmVlZGVyczwvYT48L2xpPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGEgZGF0YS10YXJnZXQ9XCIjb3RoZXJcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5PdGhlcjwvYT48L2xpPjwvdWw+PGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCI+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lIGFjdGl2ZVwiIGlkPVwiYnJlZWRlcnNcIj48ZmllbGRzZXQ+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNFwiIG5nLXJlcGVhdD1cImRpZ2dlciBpbiAkY3RybC5kaWdnZXJzXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIoZGlnZ2VyKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGdlbm9tZS1lZGl0b3IgdW5pdD1cImRpZ2dlclwiIHVwZGF0ZS1nZW5lPVwiJGN0cmwudXBkYXRlR2VuZSgkaW5kZXgsICRnZW5lSW5kZXgsICR2YWx1ZXMpXCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PjwvZmllbGRzZXQ+PC9kaXY+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lXCIgaWQ9XCJvdGhlclwiPjxkaXYgY2xhc3M9XCJ3ZWxsXCI+PGgzPk5vdGhpbmcgdG8gc2VlIGhlcmUuLi4uPC9oMz48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iXX0=
