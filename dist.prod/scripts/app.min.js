function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,a,r,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(a=0;a<i;a++)r=e[n][a],l.push(String.fromCharCode(r[2])+String.fromCharCode(r[1])+String.fromCharCode(r[0]));l.push(s)}return l.join("")}function n(e,t){var n,a,r,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),d=[];for(r=0;r<i;r++)for(d.push(n=[]),a=0;a<l;a++)n.push(e[parseInt(r/t)][parseInt(a/t)]);return d}window.generateBitmapDataURL=function(a,r){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;r=r||1,1!=r&&(a=n(a,r));var o,i=a.length,s=i?a[0].length:0,l=(4-3*s%4)%4,d=(3*s+l)*i,c=54+d;return i=e(i,4),s=e(s,4),d=e(d,4),c=e(c,4),o="BM"+c+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+d+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(a,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function a(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,a=[];if(3==n)for(;t<n;t++)a.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)a.push(parseInt("0x"+e.substring(t,t+2)));return a}:alert("Unparseable color: "+e)}function r(e){var r=t.getElementById(e).style.backgroundColor;return""===r?[255,255,255]:(o===n&&a(r),o(r))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var a,o,i,s,l,d=50,c=49,u=[];c>=0;c--)for(u.push(o=[]),a=0;a<d;a++)o.push(r(a+"_"+c));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var a=[];a.push({name:"home",url:"/",templateUrl:"components/home.html"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)})}]).run(["gameService","populationService","logService",function(e,t,n){e.init(),t.init(),n.init()}]);var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],a=0;a<e.length;a++)e[a].hasTrait(t)&&n.push(e[a]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t){for(var n=Math.random(),a=angular.copy(n<=d.crossoverrate?e:t),r=a[2]/255,o="",i="",s=0;s<8;s++)o+=Math.random()<r?"1":"0",i+=Math.random()<r?"1":"0";a[0],a[1];return a[0]^=parseInt(o,2),a[1]^=parseInt(i,2),a}function a(e,t){return generateBitmapDataURL(s(o(e),e.length),20)}function r(e,t){return generateBitmapDataURL(s(i(e),e.length),t)}function o(e){for(var t=[],n=0;n<e.length;n++){var a=e[n][0],r=e[n][1],o=Math.abs(a-r)/255;a>r?r=0:a=0,a*=o,r*=o,t.push([a,r,0])}return t}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],a=0;a<e.length/t;a++){for(var r=[],o=0;o<t;o++)r.push(e[o+a*t]);n.push(r)}return n}var l=function(e){this.traitInspector=new t,this.update(e),this.name=this.getRandomName()};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.scale=e.scale||this.scale||6,this.genes=e.genes||this.genes||[],this.redGreenImage=a(this.genes,this.scale),this.blueImage=r(this.genes,this.scale),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes)},l.prototype.breed=function(e,t){for(var a=this,r=e,o=this.hasTrait("Male")?"Male":"Female",i=new l({id:t,generation:a.generation+1,genes:[],mother:"Female"==o?a:r,father:"Male"==o?a:r}),s=0;s<a.genes.length;s++){var d=a.genes[s],c=r.genes[s];i.genes.push(n(d,c))}return i.name=i.getRandomName(),i.update({scale:20}),i},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?c[randomIntFromInterval(0,c.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+m[randomIntFromInterval(0,m.length-1)]+g[randomIntFromInterval(0,g.length-1)];return e+t};var d={crossoverrate:.5},c=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],g=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.members=e.members|this.members||this.createInitialPopulation(e.size),this.breeders=e.breeders|this.breeders||[],this.maxSize=e.maxSize|this.maxSize||5},a.prototype.createInitialPopulation=function(e){for(var n=this,a=[],r=0;r<e;r++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),i%5===0&&(o[i][2]=10);var s=r%2===0?255:0,l=r%2===0?0:255;o[42][0]=s,o[42][1]=l;var d=new t({id:r,generation:0,scale:6,genes:angular.copy(o)});d.update(),a.push(d)}return a},a.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var a=this.getById(this.breeders[n]);if(a.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},a.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},a.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},a.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),a=t.breed(n,e.members.length);return e.members.push(a),a},a}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},a=function(e){if(angular.isDefined(e.requiredTraits))for(var r=0;r<e.requiredTraits.length;r++){var o=e.requiredTraits[r],i=n(o);t.indexOf(i.name)===-1&&a(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},r=function(){for(var t=0;t<e.length;t++){var n=e[t];a(n)}return e};return r()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={})},a.prototype.getTraits=function(e){var t=[];if(e.length)for(var a=0;a<n.length;a++){for(var r=n[a],o=!0,i=0;i<r.genes.length&&o===!0;i++){var s=r.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(r)}return t},a.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,a=0,r=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?a+=e[s][1]-e[s][0]:s<30?r+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt(Math.abs(n)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt(Math.abs(a)/25))*(a<0?-1:1),t.END=Math.floor(Math.sqrt(Math.abs(r)/25))*(r<0?-1:1),t.CHR=Math.floor(Math.sqrt(Math.abs(o)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt(Math.abs(i)/25))*(i<0?-1:1)}return t},a}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div class="bloqhead-component"><button type="button" class="btn btn-xs btn-danger" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["gameService","gameStates",function(e,t){var n=this;n.$onInit=function(){n.currentState=e.getState()},n.toggleState=function(){n.currentState=n.currentState===t.RUNNING?t.PAUSED:t.RUNNING,e.setState(n.currentState)},n.getIcon=function(){return n.currentState===t.RUNNING?"fa-pause":"fa-play"}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var a=this;a.$onInit=function(){a.messages=[],t.SubscribeNewMessageEvent(e,a.receiveMessages)},a.getLogClass=function(e){var t="list-group-item-",a="";switch(e){case n.GENERAL:a="success";break;case n.BREED:a="info";break;default:a="none"}return t+a},a.receiveMessages=function(e,t){a.messages=t}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(){n.messages=[],n.logGeneralMessage("Welcome to Genetix!")},n.logGeneralMessage=function(a){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(a){n.messages.push({type:t.BREED,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,a){var r=e.$on("newMessageEvent",a.bind(this));t.$on("$destroy",r),e.$emit("newMessageEvent",n.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService",function(e,t){var n=this;n.$onInit=function(){n.breeders=[],n.population=[],t.SubscribePopulationUpdateEvent(e,n.updatePopulation),t.SubscribeBreederUpdateEvent(e,n.updateBreeders)},n.updateGene=function(e,n,a){t.updateMember(e,n,a)},n.addBreeder=function(e){t.addBreeder(e)},n.removeBreeder=function(e){t.removeBreeder(e)},n.updateBreeders=function(e,t){n.breeders=t},n.updatePopulation=function(e,t){n.population=t}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.mainGame"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.service("gameService",["$window","$rootScope","gameStates","logService",function(e,t,n,a){var r=this;r.init=function(e){angular.isDefined(e)||(e={}),r.stepTimeMs=e.stepTimeMs||1e3,r.lastTime=0,r.currentState=n.PAUSED,r.gameLoop(0)},r.getState=function(){return r.currentState},r.setState=function(e){r.currentState=e,e===n.PAUSED?a.logGeneralMessage("Game paused."):a.logGeneralMessage("Game resumed.")},r.gameLoop=function(a){for(var r=this,o=0;r.lastTime+a>r.stepTimeMs*(o+1);)o++;r.lastTime=r.lastTime-r.stepTimeMs*o,r.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},r.SubscribeGameLoopEvent=function(e,n){var a=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",a)}}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameService","Population","logService",function(e,t,n,a){var r=this;r.init=function(o){angular.isDefined(o)||(o={}),r.breedSteps=o.breedSteps||r.breedSteps||6,r.stepsSinceBreed=0,r.population=o.population||new n({size:2}),r.logService=a,t.SubscribeGameLoopEvent(e,r.handleGameLoop)},r.handleGameLoop=function(t,n){if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(r.population.isBreeding())for(r.stepsSinceBreed+=n;r.stepsSinceBreed>=r.breedSteps;){r.stepsSinceBreed-=r.breedSteps;var o=r.population.breed();a.logBreedMessage("New offspring! "+o.name),e.$emit("populationUpdateEvent",r.population.members)}},r.addBreeder=function(t){r.population.breeders.indexOf(t)===-1&&(r.population.breeders.push(t),e.$emit("breederUpdateEvent",r.population.breeders),r.logService.logBreedMessage("Breeder added: "+r.population.getById(t).name))},r.removeBreeder=function(t){var n=r.population.breeders.indexOf(t);n!==-1&&(r.population.breeders.splice(n,1),r.population.isBreeding()||(r.stepsSinceBreed=0),e.$emit("breederUpdateEvent",r.population.breeders),r.logService.logBreedMessage("Breeder removed: "+r.population.getById(t).name))},r.updateMember=function(t,n,a){var o=r.population.getById(t);o.genes[n]=a,o.update(),e.$emit("populationUpdateEvent",r.population.members)},r.SubscribeBreederUpdateEvent=function(t,n){var a=e.$on("breederUpdateEvent",n);t.$on("$destroy",a),e.$emit("breederUpdateEvent",r.population.breeders)},r.SubscribePopulationUpdateEvent=function(t,n){var a=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",a),e.$emit("populationUpdateEvent",r.population.members)}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var a=this;a.lastBreederID=0,a.newBreederGender="Male",a.killBreeder=function(e){a.units.splice(a.units.indexOf(e),1)},a.addNewBreeder=function(){for(var n=[],r=0;r<t.length;r++)n.push([0,0,0]);var o="Male"==a.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:a.lastBreederID++,generation:0,scale:6,genes:n});i.update(),a.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,a,r,o){var i=this;i.$onInit=function(){i.geneDefinitions=r,i.traitDefinitions=o,i.units=[]}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<ul class="nav nav-pills"><li><a ui-sref="home.main">Main</a></li><li><a ui-sref="home.test">Test Interface</a></li></ul><div class="row"><div class="col-xs-1"><bloqhead-game-control></bloqhead-game-control></div></div><div ui-view=""></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd/yyyy hh:mm:ss.sss a\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><div class="row"><div class="col-xs-2">STR: <span ng-bind="$ctrl.unit.attributes.STR"></span></div><div class="col-xs-2">INT: <span ng-bind="$ctrl.unit.attributes.INT"></span></div><div class="col-xs-2">END: <span ng-bind="$ctrl.unit.attributes.END"></span></div><div class="col-xs-2">CHR: <span ng-bind="$ctrl.unit.attributes.CHR"></span></div><div class="col-xs-2">LCK: <span ng-bind="$ctrl.unit.attributes.LCK"></span></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-2"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"></bloqhead-player-box></div></div></div><div class="col-xs-8"><div class="row"><div class="col-xs-6"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div><div class="col-xs-6"><bloqhead-player-box title="???"></bloqhead-player-box></div></div><div class="row"><div class="col-xs-6" ng-repeat="breederid in $ctrl.breeders"><bloqhead-player-box title="Breeder"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]"></bloqhead-breeder></bloqhead-player-box></div></div></div><div class="col-xs-2"><bloqhead-player-box title="Population"><div ng-repeat="child in $ctrl.population"><bloqhead-breeder unit="child" update-gene="$ctrl.updateGene($index, $geneIndex, $values, false)"></bloqhead-breeder><button class="btn btn-sm btn-primary" ng-click="$ctrl.addBreeder(child.id)">Breed Me</button></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3BvcHVsYXRpb24uanMiLCJjb21wb25lbnRzL2NsYXNzZXMvdHJhaXQuanMiLCJjb21wb25lbnRzL2dhbWVDb250cm9sL2dhbWVDb250cm9sLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL3BvcHVsYXRpb25TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCIkIiwidG9vbHRpcCIsInNlbGVjdG9yIiwialF1ZXJ5IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwidGVtcGxhdGVVcmwiLCJjb21wb25lbnQiLCJmb3JFYWNoIiwic3RhdGUiLCJydW4iLCJnYW1lU2VydmljZSIsInBvcHVsYXRpb25TZXJ2aWNlIiwibG9nU2VydmljZSIsImluaXQiLCJnYW1lIiwiZmlsdGVyIiwidW5pdHMiLCJ0cmFpdE5hbWUiLCJyZXQiLCJoYXNUcmFpdCIsImZhY3RvcnkiLCIkZmlsdGVyIiwiVHJhaXRJbnNwZWN0b3IiLCJjcm9zc292ZXIiLCJnMSIsImcyIiwiZyIsImNvcHkiLCJnZW5ldGljT3B0aW9ucyIsImNyb3Nzb3ZlcnJhdGUiLCJtdXRhdGlvblJhdGUiLCJiaXRTdHJpbmdSIiwiYml0U3RyaW5nRyIsImdldFJlZEdyZWVuSW1hZ2UiLCJnZW5lcyIsImFkZFJvd3MiLCJjb252ZXJ0UmVkR3JlZW5NYXAiLCJnZXRCbHVlSW1hZ2UiLCJjb252ZXJ0Qmx1ZU1hcCIsInIiLCJicmlnaHQiLCJhYnMiLCJjb2xzIiwiQnJlZWRlciIsInRyYWl0SW5zcGVjdG9yIiwidXBkYXRlIiwiZ2V0UmFuZG9tTmFtZSIsInByb3RvdHlwZSIsIm1vdGhlciIsImZhdGhlciIsImdlbmVyYXRpb24iLCJyZWRHcmVlbkltYWdlIiwiYmx1ZUltYWdlIiwidHJhaXRzIiwiZ2V0VHJhaXRzIiwiYXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZXMiLCJicmVlZCIsInBhcnRuZXIiLCJuZXdJZCIsInAxIiwicDIiLCJteUdlbmRlciIsImNoaWxkIiwicDFnIiwicDJnIiwidHJhaXQiLCJteVRyYWl0IiwiZmlyc3ROYW1lIiwibmFtZUxpc3QxIiwibmFtZUxpc3QyIiwibGFzdE5hbWUiLCJuYW1lTGlzdDMiLCJuYW1lTGlzdDQiLCJuYW1lTGlzdDUiLCJnZW5lRGVmaW5pdGlvbnMiLCJQb3B1bGF0aW9uIiwiY3VycmVudEdlbmVyYXRpb24iLCJtZW1iZXJzIiwiY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24iLCJzaXplIiwiYnJlZWRlcnMiLCJtYXhTaXplIiwiY291bnQiLCJzZWxmIiwicG9wdWxhdGlvbiIsImduIiwidW5pdCIsImlzQnJlZWRpbmciLCJoYXNNYWxlIiwiaGFzRmVtYWxlIiwiZ2V0QnlJZCIsImdldEJ5R2VuZXJhdGlvbiIsImNvbnN0YW50IiwiZG9tIiwicmVjIiwiYXR0ciIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJpc0RlZmluZWQiLCJyZXF1aXJlZFRyYWl0IiwicmVxIiwiaW5kZXhPZiIsImJ1aWxkVHJhaXRzIiwidHJhaXREZWZpbml0aW9ucyIsInRkIiwibWV0IiwiaCIsInRkZyIsInYiLCJTVFIiLCJJTlQiLCJFTkQiLCJDSFIiLCJMQ0siLCJzdHJCYXNlIiwiaW50QmFzZSIsImVuZEJhc2UiLCJjaHJCYXNlIiwibGNrQmFzZSIsInNxcnQiLCJhcHAiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCJnYW1lU3RhdGVzIiwiJG9uSW5pdCIsImN1cnJlbnRTdGF0ZSIsImdldFN0YXRlIiwidG9nZ2xlU3RhdGUiLCJSVU5OSU5HIiwiUEFVU0VEIiwic2V0U3RhdGUiLCJnZXRJY29uIiwiR0VORVJBTCIsIkJSRUVEIiwiJHNjb3BlIiwibG9nVHlwZXMiLCJtZXNzYWdlcyIsIlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCIsInJlY2VpdmVNZXNzYWdlcyIsImdldExvZ0NsYXNzIiwidHlwZSIsInByZWZpeCIsImEiLCJldmVudCIsInNlcnZpY2UiLCIkcm9vdFNjb3BlIiwibG9nR2VuZXJhbE1lc3NhZ2UiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNwbGljZSIsIiRlbWl0IiwibG9nQnJlZWRNZXNzYWdlIiwic2NvcGUiLCJjYWxsYmFjayIsImhhbmRsZXIiLCIkb24iLCJiaW5kIiwiU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50IiwidXBkYXRlUG9wdWxhdGlvbiIsIlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCIsInVwZGF0ZUJyZWVkZXJzIiwidXBkYXRlR2VuZSIsImdlbmVJbmRleCIsImdlbmVWYWx1ZXMiLCJ1cGRhdGVNZW1iZXIiLCJhZGRCcmVlZGVyIiwidW5pdGlkIiwicmVtb3ZlQnJlZWRlciIsImJpbmRpbmdzIiwidHJhbnNjbHVkZSIsInJlcXVpcmUiLCJtYWluQ3RybCIsImZvb3RlciIsIiR3aW5kb3ciLCJzdGVwVGltZU1zIiwibGFzdFRpbWUiLCJnYW1lTG9vcCIsIm5ld1N0YXRlIiwic3RlcCIsInN0ZXBzIiwiJGFwcGx5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiU3Vic2NyaWJlR2FtZUxvb3BFdmVudCIsImJyZWVkU3RlcHMiLCJzdGVwc1NpbmNlQnJlZWQiLCJoYW5kbGVHYW1lTG9vcCIsImNvbnNvbGUiLCJsb2ciLCJvZmZzcHJpbmciLCJpbmRleCIsIm1lbWJlciIsImxhc3RCcmVlZGVySUQiLCJuZXdCcmVlZGVyR2VuZGVyIiwia2lsbEJyZWVkZXIiLCJhZGROZXdCcmVlZGVyIiwiZ2VuZGVyIiwidW5zaGlmdCIsImV4cGFuZG8iLCJyYW5kb21pemVOYW1lIiwicmFuZG9taXplIiwicmFuZG9taXplQWxsIiwiJHRpbWVvdXQiLCJlIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUM0QkEsV0FFQSxRQUFBSyxHQUFBQyxFQUFBQyxHQVdBLElBRkEsR0FBQUMsTUFFQUQsRUFBQSxFQUFBQSxJQUNBQyxFQUFBQyxLQUFBQyxPQUFBQyxhQUFBLElBQUFMLElBQ0FBLElBQUEsQ0FHQSxPQUFBRSxHQUFBSSxLQUFBLElBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FVQSxJQVJBLEdBQUFDLEdBRUFDLEVBRUFDLEVBSEFDLEVBQUFMLEVBQUFNLE9BRUFDLEVBQUFGLEVBQUFMLEVBQUEsR0FBQU0sT0FBQSxFQUVBRSxFQUFBLEdBQ0FkLEtBRUFPLEVBQUEsRUFBQUEs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LFFBQ0FyQixFQUFBLElBQUFtQixJQUFBLFNBQUFDLElBQUEsU0FBQUMsTUFBQSxRQUNBckIsRUFBQSxJQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsSUFBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLElBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsdUJBQUFDLElBQUEsV0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxrQkFBQUMsSUFBQSxnQkFBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxnQkFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUFyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBckIsRUFBQSxLQUFBbUIsSUFBQSxXQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsaUJBQUFDLElBQUEsY0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxZQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUFyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQXJCLEVBQUEsS0FBQW1CLElBQUEsU0FBQUMsSUFBQSxPQUFBQyxNQUFBLFFBQ0FyQixFQUFBLEtBQUFtQixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBckIsRUFBQSxLQUFBbUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEs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LFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFhLEtBQUEsaUJBQUEsU0FBQXdNLEdBQ0FBLEVBQUFDLElBQUEsOENBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmZ1bmN0aW9uIHJhbmRvbUludEZyb21JbnRlcnZhbChtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbn1cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICBQQVVTRUQ6IDAsXHJcbiAgICBSVU5OSU5HOiAxXHJcbn0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdnYW1lU2VydmljZScsIFtcclxuICAgICckd2luZG93JywgJyRyb290U2NvcGUnLCAnZ2FtZVN0YXRlcycsICdsb2dTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCR3aW5kb3csICRyb290U2NvcGUsIGdhbWVTdGF0ZXMsIGxvZ1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoY29uZmlnKSkgY29uZmlnID0ge307XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcFRpbWVNcyA9IGNvbmZpZy5zdGVwVGltZU1zIHx8IDEwMDA7XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUEFVU0VEO1xyXG4gICAgICAgICAgICBzZWxmLmdhbWVMb29wKDApO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudFN0YXRlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5QQVVTRUQpIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoXCJHYW1lIHBhdXNlZC5cIik7XHJcbiAgICAgICAgICAgIGVsc2UgbG9nU2VydmljZS5sb2dHZW5lcmFsTWVzc2FnZShcIkdhbWUgcmVzdW1lZC5cIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nYW1lTG9vcCA9IGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5sYXN0VGltZSArIHN0ZXAgPiAoc2VsZi5zdGVwVGltZU1zICogKHN0ZXBzICsgMSkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAoc2VsZi5sYXN0VGltZSAtIChzZWxmLnN0ZXBUaW1lTXMgKiBzdGVwcykpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5jdXJyZW50U3RhdGUgPT0gZ2FtZVN0YXRlcy5SVU5OSU5HICYmIHN0ZXBzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoJHJvb3RTY29wZS4kZW1pdCgnZ2FtZUxvb3BFdmVudCcsIHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5nYW1lTG9vcC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZUdhbWVMb29wRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignZ2FtZUxvb3BFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsIi8qIVxyXG4gKiBHZW5lcmF0ZSBCaXRtYXAgRGF0YSBVUkxcclxuICogaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXMtcGFpbnQvXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEwLCBQZXRlciBDb2xlc1xyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VzLlxyXG4gKiBodHRwOi8vbXJjb2xlcy5jb20vbWVkaWEvbWl0LWxpY2Vuc2UudHh0XHJcbiAqXHJcbiAqIERhdGU6IFR1ZSBPY3QgMjYgMDA6MDA6MDAgMjAxMCAtMDUwMFxyXG4gKi9cclxuXHJcbi8qXHJcbiAqIENvZGUgdG8gZ2VuZXJhdGUgQml0bWFwIGltYWdlcyAodXNpbmcgZGF0YSB1cmxzKSBmcm9tIHJvd3Mgb2YgUkdCIGFycmF5cy5cclxuICogU3BlY2lmaWNhbGx5IGZvciB1c2Ugd2l0aCBodHRwOi8vbXJjb2xlcy5jb20vbG93LXJlc3QtcGFpbnQvXHJcbiAqXHJcbiAqIFJlc2VhcmNoOlxyXG4gKlxyXG4gKiBSRkMgMjM5NyBkYXRhIFVSTFxyXG4gKiBodHRwOi8vd3d3LnhzNGFsbC5ubC9+d3JiL0FydGljbGVzL0FydGljbGVfSU1HX1JGQzIzOTdfUDFfMDEuaHRtXHJcbiAqXHJcbiAqIEJNUCBmaWxlIEZvcm1hdFxyXG4gKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JNUF9maWxlX2Zvcm1hdCNFeGFtcGxlX29mX2FfMi5DMy45NzJfUGl4ZWwuMkNfMjQtQml0X0JpdG1hcF8uMjhXaW5kb3dzX1YzX0RJQi4yOVxyXG4gKlxyXG4gKiBCTVAgTm90ZXNcclxuICpcclxuICogLSBJbnRlZ2VyIHZhbHVlcyBhcmUgbGl0dGxlLWVuZGlhbiwgaW5jbHVkaW5nIFJHQiBwaXhlbHMsIGUuZy4sICgyNTUsIDAsIDApIC0+IFxceDAwXFx4MDBcXHhGRlxyXG4gKiAtIEJpdG1hcCBkYXRhIHN0YXJ0cyBhdCBsb3dlciBsZWZ0IChhbmQgcmVhZHMgYWNyb3NzIHJvd3MpXHJcbiAqIC0gSW4gdGhlIEJNUCBkYXRhLCBwYWRkaW5nIGJ5dGVzIGFyZSBpbnNlcnRlZCBpbiBvcmRlciB0byBrZWVwIHRoZSBsaW5lcyBvZiBkYXRhIGluIG11bHRpcGxlcyBvZiBmb3VyLFxyXG4gKiAgIGUuZy4sIGEgMjQtYml0IGJpdG1hcCB3aXRoIHdpZHRoIDEgd291bGQgaGF2ZSAzIGJ5dGVzIG9mIGRhdGEgcGVyIHJvdyAoUiwgRywgQikgKyAxIGJ5dGUgb2YgcGFkZGluZ1xyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNMaXR0bGVFbmRpYW5IZXgodmFsdWUsIGJ5dGVzKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCB2YWx1ZSBpbnRvIGxpdHRsZSBlbmRpYW4gaGV4IGJ5dGVzXHJcbiAgICAgICAgLy8gdmFsdWUgLSB0aGUgbnVtYmVyIGFzIGEgZGVjaW1hbCBpbnRlZ2VyIChyZXByZXNlbnRpbmcgYnl0ZXMpXHJcbiAgICAgICAgLy8gYnl0ZXMgLSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoYXQgdGhpcyB2YWx1ZSB0YWtlcyB1cCBpbiBhIHN0cmluZ1xyXG5cclxuICAgICAgICAvLyBFeGFtcGxlOlxyXG4gICAgICAgIC8vIF9hc0xpdHRsZUVuZGlhbkhleCgyODM1LCA0KVxyXG4gICAgICAgIC8vID4gJ1xceDEzXFx4MGJcXHgwMFxceDAwJ1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyBieXRlcyA+IDA7IGJ5dGVzLS0pIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSAmIDI1NSkpO1xyXG4gICAgICAgICAgICB2YWx1ZSA+Pj0gODtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgcm93cyBvZiBSR0IgYXJyYXlzIGludG8gQk1QIGRhdGFcclxuICAgICAgICB2YXIgaSxcclxuICAgICAgICAgICAgcm93c19sZW4gPSByb3dzLmxlbmd0aCxcclxuICAgICAgICAgICAgaixcclxuICAgICAgICAgICAgcGl4ZWxzX2xlbiA9IHJvd3NfbGVuID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBwaXhlbCxcclxuICAgICAgICAgICAgcGFkZGluZyA9ICcnLFxyXG4gICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICg7IHJvd19wYWRkaW5nID4gMDsgcm93X3BhZGRpbmctLSkge1xyXG4gICAgICAgICAgICBwYWRkaW5nICs9ICdcXHgwMCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93c19sZW47IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGl4ZWxzX2xlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbCA9IHJvd3NbaV1bal07XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzJdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsxXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChwYWRkaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIFNpbXBsZXN0IHNjYWxpbmcgcG9zc2libGVcclxuICAgICAgICB2YXIgcmVhbF9oID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNjYWxlZF9oID0gcGFyc2VJbnQocmVhbF9oICogc2NhbGUpLFxyXG4gICAgICAgICAgICByZWFsX3cgPSByZWFsX2ggPyByb3dzWzBdLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlZF93ID0gcGFyc2VJbnQocmVhbF93ICogc2NhbGUpLFxyXG4gICAgICAgICAgICBuZXdfcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBuZXdfcm93LCB4LCB5O1xyXG5cclxuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgc2NhbGVkX2g7IHkrKykge1xyXG4gICAgICAgICAgICBuZXdfcm93cy5wdXNoKG5ld19yb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCBzY2FsZWRfdzsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdfcm93LnB1c2gocm93c1twYXJzZUludCh5IC8gc2NhbGUpXVtwYXJzZUludCh4IC8gc2NhbGUpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld19yb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUJpdG1hcERhdGFVUkwgPSBmdW5jdGlvbihyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIEV4cGVjdHMgcm93cyBzdGFydGluZyBpbiBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGZvcm1hdHRlZCBsaWtlIHRoaXM6IFtbWzI1NSwgMCwgMF0sIFsyNTUsIDI1NSwgMF0sIC4uLl0sIC4uLl1cclxuICAgICAgICAvLyB3aGljaCByZXByZXNlbnRzOiBbW3JlZCwgeWVsbG93LCAuLi5dLCAuLi5dXHJcblxyXG4gICAgICAgIGlmICghd2luZG93LmJ0b2EpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ09oIG5vLCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBiYXNlNjQgZW5jb2RpbmcgLSB3aW5kb3cuYnRvYSgpISEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxO1xyXG4gICAgICAgIGlmIChzY2FsZSAhPSAxKSB7XHJcbiAgICAgICAgICAgIHJvd3MgPSBfc2NhbGVSb3dzKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBoZWlnaHQgPSByb3dzLmxlbmd0aCwgLy8gdGhlIG51bWJlciBvZiByb3dzXHJcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ID8gcm93c1swXS5sZW5ndGggOiAwLCAvLyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgcGVyIHJvd1xyXG4gICAgICAgICAgICByb3dfcGFkZGluZyA9ICg0IC0gKHdpZHRoICogMykgJSA0KSAlIDQsIC8vIHBhZCBlYWNoIHJvdyB0byBhIG11bHRpcGxlIG9mIDQgYnl0ZXNcclxuICAgICAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSAod2lkdGggKiAzICsgcm93X3BhZGRpbmcpICogaGVpZ2h0LCAvLyBzaXplIGluIGJ5dGVzIG9mIEJNUCBkYXRhXHJcbiAgICAgICAgICAgIG51bV9maWxlX2J5dGVzID0gNTQgKyBudW1fZGF0YV9ieXRlcywgLy8gZnVsbCBoZWFkZXIgc2l6ZSAob2Zmc2V0KSArIHNpemUgb2YgZGF0YVxyXG4gICAgICAgICAgICBmaWxlO1xyXG5cclxuICAgICAgICBoZWlnaHQgPSBfYXNMaXR0bGVFbmRpYW5IZXgoaGVpZ2h0LCA0KTtcclxuICAgICAgICB3aWR0aCA9IF9hc0xpdHRsZUVuZGlhbkhleCh3aWR0aCwgNCk7XHJcbiAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSBfYXNMaXR0bGVFbmRpYW5IZXgobnVtX2RhdGFfYnl0ZXMsIDQpO1xyXG4gICAgICAgIG51bV9maWxlX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9maWxlX2J5dGVzLCA0KTtcclxuXHJcbiAgICAgICAgLy8gdGhlc2UgYXJlIHRoZSBhY3R1YWwgYnl0ZXMgb2YgdGhlIGZpbGUuLi5cclxuXHJcbiAgICAgICAgZmlsZSA9ICgnQk0nICsgLy8gXCJNYWdpYyBOdW1iZXJcIlxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIGZpbGUgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDM2XFx4MDBcXHgwMFxceDAwJyArIC8vIG9mZnNldCBvZiB3aGVyZSBCTVAgZGF0YSBsaXZlcyAoNTQgYnl0ZXMpXHJcbiAgICAgICAgICAgICdcXHgyOFxceDAwXFx4MDBcXHgwMCcgKyAvLyBudW1iZXIgb2YgcmVtYWluaW5nIGJ5dGVzIGluIGhlYWRlciBmcm9tIGhlcmUgKDQwIGJ5dGVzKVxyXG4gICAgICAgICAgICB3aWR0aCArIC8vIHRoZSB3aWR0aCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgaGVpZ2h0ICsgLy8gdGhlIGhlaWdodCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgJ1xceDAxXFx4MDAnICsgLy8gdGhlIG51bWJlciBvZiBjb2xvciBwbGFuZXMgKDEpXHJcbiAgICAgICAgICAgICdcXHgxOFxceDAwJyArIC8vIDI0IGJpdHMgLyBwaXhlbFxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTm8gY29tcHJlc3Npb24gKDApXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzICsgLy8gc2l6ZSBvZiB0aGUgQk1QIGRhdGEgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDEzXFx4MEJcXHgwMFxceDAwJyArIC8vIDI4MzUgcGl4ZWxzL21ldGVyIC0gaG9yaXpvbnRhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIHRoZSB2ZXJ0aWNhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyBOdW1iZXIgb2YgY29sb3JzIGluIHRoZSBwYWxldHRlIChrZWVwIDAgZm9yIDI0LWJpdClcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIDAgaW1wb3J0YW50IGNvbG9ycyAobWVhbnMgYWxsIGNvbG9ycyBhcmUgaW1wb3J0YW50KVxyXG4gICAgICAgICAgICBfY29sbGFwc2VEYXRhKHJvd3MsIHJvd19wYWRkaW5nKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiAnZGF0YTppbWFnZS9ibXA7YmFzZTY0LCcgKyBidG9hKGZpbGUpO1xyXG4gICAgfTtcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbi8vXHJcbi8vIENvZGUgc3BlY2lmaWMgdG8gbG93IHJlcyBwYWludFxyXG4vL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIHZhciAkYmdfdHJhbnNmb3JtO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKSB7XHJcbiAgICAgICAgLy8gZGlmZmVyZW50IGJyb3dzZXJzIHJldHVybiB0aGUgY29sb3IgZGlmZmVyZW50bHlcclxuICAgICAgICAvLyBsZXQncyBzdXBwb3J0IFwicmdiKDEyMywgMCwgNSlcIiwgXCIjZmZmXCIsIGFuZCBcIiNmZjAwOTlcIlxyXG4gICAgICAgIGlmICgvXnJnYlxcKFxcZCssIFxcZCssIFxcZCtcXCkkLy50ZXN0KGJnKSkge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLnN1YnN0cig0KTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCB0OyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFtpXSA9IHBhcnNlSW50KHhbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChiZy5zdWJzdHJpbmcoMCwgMSkgPT0gJyMnKSB7XHJcbiAgICAgICAgICAgICRiZ190cmFuc2Zvcm0gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0geC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoJzB4JyArIHguc3Vic3RyaW5nKGksIGkgKyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoJ1VucGFyc2VhYmxlIGNvbG9yOiAnICsgYmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiAkYmdBc1JHQihpZCkge1xyXG4gICAgICAgIHZhciBiZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgaWYgKGJnID09PSAnJykgcmV0dXJuIFsyNTUsIDI1NSwgMjU1XTtcclxuICAgICAgICBpZiAoJGJnX3RyYW5zZm9ybSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICRiZ190cmFuc2Zvcm0oYmcpO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcCA9IGZ1bmN0aW9uKHNjYWxlKSB7XHJcbiAgICAgICAgLy8gcGl4ZWxzIGFyZSB4X3kgc3RhcnRpbmcgaW4gdG9wIGxlZnQsIHdlIG5lZWQgdG8gaXRlcmF0ZSBmcm9tIGJvdHRvbSBsZWZ0XHJcbiAgICAgICAgLy8gZGltZW5zaW9ucyBhcmUgYSA1MHg1MCBzcXVhcmUgKDAsIDAsIDQ5LCA0OSlcclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxMDtcclxuXHJcbiAgICAgICAgdmFyIHgsXHJcbiAgICAgICAgICAgIHhfbGVuID0gNTAsXHJcbiAgICAgICAgICAgIHkgPSA0OSxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICByb3csXHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQsXHJcbiAgICAgICAgICAgIGltZyxcclxuICAgICAgICAgICAgc3JjO1xyXG5cclxuICAgICAgICBmb3IgKDsgeSA+PSAwOyB5LS0pIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdyA9IFtdKTtcclxuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHhfbGVuOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKCRiZ0FzUkdCKHggKyAnXycgKyB5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIHRlc3QgaW1hZ2UgKiAvXHJcbiAgICAgICAgcm93cyA9IFtcclxuICAgICAgICAgICAgW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDI1NV1dLFxyXG4gICAgICAgICAgICBbWzAsIDAsIDI1NV0sIFswLCAyNTUsMF1dXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvKiAqL1xyXG5cclxuICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBzcmMgPSB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIGltZy5hbHQgPSAnSWYgeW91IGNhbiByZWFkIHRoaXMsIHlvdXIgYnJvd3NlciBwcm9iYWJseSBkb2VzblxcJ3Qgc3VwcG9ydCB0aGUgZGF0YSBVUkwgc2NoZW1lIGZvcm1hdCEgT2ggbm8hJztcclxuICAgICAgICBpbWcudGl0bGUgPSAnWW91IGdlbmVyYXRlZCBhbiBpbWFnZSwgZ3JlYXQgam9iISBUbyBzYXZlIGl0LCBkcmFnIGl0IHRvIHlvdXIgRGVza3RvcCBvciByaWdodCBjbGljayBhbmQgc2VsZWN0IHNhdmUgYXMuJztcclxuICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xyXG4gICAgICAgIGlmIChpbWdfcGFyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5pZCA9ICdpbWcnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcCcpLmFwcGVuZENoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWdfcGFyZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiaW1nLWhlYWRlclwiPkdlbmVyYXRlZCBJbWFnZSAmbmJzcDs8YSB0aXRsZT1cImhpZGUgaW1hZ2VcIiBocmVmPVwiI1wiPng8L2E+PC9kaXY+JztcclxuICAgICAgICBpbWdfcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbWdfcGFyZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAuYXNrVG9TY2FsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHByb21wdCgnUGljayBhIHNjYWxpbmcgZmFjdG9yLi4uXFxuMSA9IGFjdHVhbCBzaXplLCAuNSA9IGhhbGYsIDIgPSBkb3VibGVcXG4obm90ZTogbGFyZ2UgbnVtYmVycyBtaWdodCBjcmFzaCB5b3VyIGJyb3dzZXIpJyk7XHJcbiAgICAgICAgaWYgKHNjYWxlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IE5hTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NhbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnVGhhdCBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHNjYWxlICogMTA7IC8vIHNpbmNlIGFjdHVhbCBzaXplIGlzIGFjdHVhbGx5IDEweCFcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcChzY2FsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxufSkodGhpcywgdGhpcy5kb2N1bWVudCk7IiwiKGZ1bmN0aW9uKCQpIHtcclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnRvb2x0aXAoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ1tyZWw9dG9vbHRpcF0nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFsndWkucm91dGVyJ10pXHJcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZXMgPSBbXTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS5odG1sJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLm1haW4nLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnbWFpbicsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLnRlc3QnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAndGVzdCcsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdibG9xaGVhZC5jb21wb25lbnRzLnRlc3RJbnRlcmZhY2UnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXSkucnVuKFsnZ2FtZVNlcnZpY2UnLCAncG9wdWxhdGlvblNlcnZpY2UnLCAnbG9nU2VydmljZScsIGZ1bmN0aW9uKGdhbWVTZXJ2aWNlLCBwb3B1bGF0aW9uU2VydmljZSwgbG9nU2VydmljZSkge1xyXG4gICAgICAgIGdhbWVTZXJ2aWNlLmluaXQoKTtcclxuICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5pbml0KCk7XHJcbiAgICAgICAgbG9nU2VydmljZS5pbml0KCk7XHJcbiAgICB9XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5maWx0ZXIoJ2hhc1RyYWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odW5pdHMsIHRyYWl0TmFtZSkge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBpZiAodW5pdHNbaV0uaGFzVHJhaXQodHJhaXROYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldC5wdXNoKHVuaXRzW2ldKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxufSk7XHJcblxyXG5cclxuZ2FtZS5mYWN0b3J5KCdCcmVlZGVyJywgWyckZmlsdGVyJywgJ1RyYWl0SW5zcGVjdG9yJywgZnVuY3Rpb24oJGZpbHRlciwgVHJhaXRJbnNwZWN0b3IpIHtcclxuXHJcblxyXG5cclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgQnJlZWRlciA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudHJhaXRJbnNwZWN0b3IgPSBuZXcgVHJhaXRJbnNwZWN0b3IoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuZ2V0UmFuZG9tTmFtZSgpO1xyXG4gICAgfTtcclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIEJyZWVkZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoY29uZmlnKSA9PSAndW5kZWZpbmVkJykgY29uZmlnID0ge307XHJcbiAgICAgICAgdGhpcy5pZCA9IGNvbmZpZy5pZCB8fCB0aGlzLmlkIHx8IDA7XHJcbiAgICAgICAgdGhpcy5tb3RoZXIgPSBjb25maWcubW90aGVyIHx8IHRoaXMubW90aGVyIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5mYXRoZXIgPSBjb25maWcuZmF0aGVyIHx8IHRoaXMuZmF0aGVyIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0aW9uID0gY29uZmlnLmdlbmVyYXRpb24gfHwgdGhpcy5nZW5lcmF0aW9uIHx8IDA7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IGNvbmZpZy5zY2FsZSB8fCB0aGlzLnNjYWxlIHx8IDY7XHJcbiAgICAgICAgdGhpcy5nZW5lcyA9IGNvbmZpZy5nZW5lcyB8fCB0aGlzLmdlbmVzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMucmVkR3JlZW5JbWFnZSA9IGdldFJlZEdyZWVuSW1hZ2UodGhpcy5nZW5lcywgdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgdGhpcy5ibHVlSW1hZ2UgPSBnZXRCbHVlSW1hZ2UodGhpcy5nZW5lcywgdGhpcy5zY2FsZSk7XHJcbiAgICAgICAgdGhpcy50cmFpdHMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldFRyYWl0cyh0aGlzLmdlbmVzKTtcclxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldEF0dHJpYnV0ZXModGhpcy5nZW5lcyk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbihwYXJ0bmVyLCBuZXdJZCkge1xyXG4gICAgICAgIHZhciBwMSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHAyID0gcGFydG5lcjtcclxuXHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcblxyXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgaWQ6IG5ld0lkLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uOiBwMS5nZW5lcmF0aW9uICsgMSxcclxuICAgICAgICAgICAgZ2VuZXM6IFtdLFxyXG4gICAgICAgICAgICBtb3RoZXI6IG15R2VuZGVyID09ICdGZW1hbGUnID8gcDEgOiBwMixcclxuICAgICAgICAgICAgZmF0aGVyOiBteUdlbmRlciA9PSAnTWFsZScgPyBwMSA6IHAyXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcDEuZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHAxZyA9IHAxLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICB2YXIgcDJnID0gcDIuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIGNoaWxkLmdlbmVzLnB1c2goY3Jvc3NvdmVyKHAxZywgcDJnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkLm5hbWUgPSBjaGlsZC5nZXRSYW5kb21OYW1lKCk7XHJcbiAgICAgICAgY2hpbGQudXBkYXRlKHsgc2NhbGU6IDIwIH0pO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuaGFzVHJhaXQgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRyYWl0cy5maWx0ZXIoZnVuY3Rpb24obXlUcmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbXlUcmFpdC5uYW1lID09PSB0cmFpdDtcclxuICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZW5lcyB8fCB0aGlzLmdlbmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gR2VuZGVyJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKSA/IG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QxLmxlbmd0aCAtIDEpXSA6IG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QyLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbGFzdE5hbWUgPSBuYW1lTGlzdDNbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0My5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDRbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NC5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDVbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NS5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgcmV0dXJuIGZpcnN0TmFtZSArIGxhc3ROYW1lO1xyXG4gICAgfTtcclxuICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGFsbCByZWxhdGlvbnMgdG8gYWNjb3VudCBmb3IgaW5icmVlZGluZyAoYWthIHVuY2xlIGJyb3RoZXIpXHJcbiAgICAvKiB0aGlzIGlzIHdheSB3cm9uZy4uLi5cclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFJlbGF0aW9ucyA9IGZ1bmN0aW9uKHRoZXkpIHtcclxuICAgICAgICB2YXIgbXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciBteW1hdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgdmFyIHRoZXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciB0aGV5bWF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgdGhleUdlbmRlciA9IHRoZXkuaGFzVHJhaXQoJ01hbGUnKSA/ICdNYWxlJyA6ICdGZW1hbGUnO1xyXG5cclxuICAgICAgICB2YXIgdTtcclxuICAgICAgICAvLyBidWlsZCAnbXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbXltYXRlcm5hbC5wdXNoKHUubW90aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUubW90aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gdGhpcztcclxuICAgICAgICB3aGlsZSAodS5mYXRoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG15cGF0ZXJuYWwucHVzaCh1LmZhdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1LmZhdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYnVpbGQgJ3RoZXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleW1hdGVybmFsLnB1c2godS5tb3RoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5tb3RoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1LmZhdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleXBhdGVybmFsLnB1c2godS5mYXRoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5mYXRoZXI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3IgbWF0ZXJuYWwgcmVsYXRpb25zaGlwc1xyXG4gICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgbXltYXRlcm5hbC5sZW5ndGg7IGgrKylcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGV5bWF0ZXJuYWwubGVuZ3RoOyBrKyspXHJcbiAgICAgICAgICAgICAgICBpZiAobXltYXRlcm5hbFtoXS5pZCA9PSB0aGV5bWF0ZXJuYWwuaWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgc2FtZSBtb3RoZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA9PSAwICYmIGtrID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCgodGhpcy5mYXRoZXIuaWQgIT0gdGhleS5mYXRoZXIuaWQpID8gJ0hhbGYgJyA6ICcnKSArICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnU2lzdGVyJyA6ICdCcm90aGVyJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcblxyXG4gICAgfTtcclxuICAgICovXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG4gICAgdmFyIGdlbmV0aWNPcHRpb25zID0ge1xyXG4gICAgICAgIGNyb3Nzb3ZlcnJhdGU6IDAuNVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyBtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QxID0gWydEaWdneSAnLCAnRGVhbiAnLCAnRHVrZSAnLCAnRG95bGUgJywgJ0RpcmsgJywgJ0RhZyAnLCAnRGltaXRyaSAnLCAnRHJ1ICddO1xyXG4gICAgLy8gZmVtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QyID0gWydEYWdneSAnLCAnRGFpc3kgJywgJ0RpbmFoICcsICdEaGFybWEgJywgJ0RlZSAnLCAnRGFwaG5lICcsICdEaXhpZSAnLCAnRGFyY3kgJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgcHJlZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3QzID0gWycnLCAnJywgJycsICcnLCAnJywgJ1ZhbiAnLCAnVm9uICcsICdPXFwnJywgJ01jJywgJ01jJ107XHJcbiAgICAvLyBsYXN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3Q0ID0gWydEb29nJywgJ0RpYmInLCAnRGFiYicsICdEaWcnLCAnRGFuZycsICdEdWdnJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgc3VmZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3Q1ID0gWycnLCAnJywgJycsICdsZXInLCAnbGVyJywgJ2VyJywgJ2VyJywgJ2VyJywgJ3d1ZXJzdCcsICdlcnd1ZXJzdCcsICdlcnRvbicsICdlcnRvbicsICdza2knXTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIGZ1bmN0aW9ucyAqL1xyXG4gICAgZnVuY3Rpb24gY3Jvc3NvdmVyKGcxLCBnMikge1xyXG4gICAgICAgIHZhciBjcm9zc292ZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIC8vdmFyIG11dGF0aW9uID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsIDI1NSk7XHJcbiAgICAgICAgdmFyIGcgPSBhbmd1bGFyLmNvcHkoY3Jvc3NvdmVyIDw9IGdlbmV0aWNPcHRpb25zLmNyb3Nzb3ZlcnJhdGUgPyBnMSA6IGcyKTtcclxuICAgICAgICB2YXIgbXV0YXRpb25SYXRlID0gZ1syXSAvIDI1NS4wO1xyXG4gICAgICAgIC8vdmFyIG1yID0gbXV0YXRpb24gPCBnWzJdID8gcmFuZG9tSW50RnJvbUludGVydmFsKC0yNSwgMjUpIDogMDtcclxuICAgICAgICAvL3ZhciBtZyA9IG11dGF0aW9uIDwgZ1syXSA/IHJhbmRvbUludEZyb21JbnRlcnZhbCgtMjUsIDI1KSA6IDA7XHJcbiAgICAgICAgLy92YXIgbWIgPSBtdXRhdGlvbiA8IGdbMl0gPyByYW5kb21JbnRGcm9tSW50ZXJ2YWwoLTI1LCAyNSkgOiAwO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdSID0gJyc7XHJcbiAgICAgICAgdmFyIGJpdFN0cmluZ0cgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nUiArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdHICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2xkUiA9IGdbMF07XHJcbiAgICAgICAgdmFyIG9sZEcgPSBnWzFdO1xyXG4gICAgICAgIGdbMF0gXj0gcGFyc2VJbnQoYml0U3RyaW5nUiwgMik7XHJcbiAgICAgICAgZ1sxXSBePSBwYXJzZUludChiaXRTdHJpbmdHLCAyKTtcclxuICAgICAgICAvL2lmKG9sZFIgIT09IGdbMF0pIGNvbnNvbGUubG9nKCdNdXRhdGlvbiEgUjogJytvbGRSKycgdG8gJytnWzBdKTtcclxuICAgICAgICAvL2lmKG9sZEcgIT09IGdbMV0pIGNvbnNvbGUubG9nKCdNdXRhdGlvbiEgRzogJytvbGRHKycgdG8gJytnWzFdKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgaWYgKGdbMF0gKyBtciA8IDApIGdbMF0gPSAwO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ1swXSArIG1yID4gMjU1KSBnWzBdID0gMjU1O1xyXG4gICAgICAgICAgICAgICAgZWxzZSBnWzBdICs9IG1yO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChnWzFdICsgbWcgPCAwKSBnWzFdID0gMDtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdbMV0gKyBtZyA+IDI1NSkgZ1sxXSA9IDI1NTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZ1sxXSArPSBtZztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ1syXSArIG1iIDwgMCkgZ1syXSA9IDA7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnWzJdICsgbWIgPiAyNTUpIGdbMl0gPSAyNTU7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGdbMl0gKz0gbWI7XHJcbiAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWRHcmVlbkltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpLCBnZW5lcy5sZW5ndGgpLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Qmx1ZUltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGdlbmVzW2ldWzBdO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGdlbmVzW2ldWzFdO1xyXG4gICAgICAgICAgICB2YXIgYnJpZ2h0ID0gKE1hdGguYWJzKHIgLSBnKSAvIDI1NS4wKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyID4gZykgZyA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgciA9IDA7XHJcbiAgICAgICAgICAgIHIgKj0gYnJpZ2h0O1xyXG4gICAgICAgICAgICBnICo9IGJyaWdodDtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3IsIGcsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qmx1ZU1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFswLCAwLCBnZW5lc1tpXVsyXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJvd3MoZ2VuZXMsIGNvbHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoZ2VuZXMubGVuZ3RoIC8gY29scyk7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaChnZW5lc1tpICsgKGogKiBjb2xzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEJyZWVkZXI7XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmZhY3RvcnkoJ1BvcHVsYXRpb24nLCBbJyRmaWx0ZXInLCAnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMpIHtcclxuXHJcblxyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBQb3B1bGF0aW9uID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEdlbmVyYXRpb24gPSBjb25maWcuY3VycmVudEdlbmVyYXRpb24gfHwgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMubWVtYmVycyA9IGNvbmZpZy5tZW1iZXJzIHwgdGhpcy5tZW1iZXJzIHx8IHRoaXMuY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24oY29uZmlnLnNpemUpO1xyXG4gICAgICAgIHRoaXMuYnJlZWRlcnMgPSBjb25maWcuYnJlZWRlcnMgfCB0aGlzLmJyZWVkZXJzIHx8IFtdO1xyXG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IGNvbmZpZy5tYXhTaXplIHwgdGhpcy5tYXhTaXplIHx8IDU7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmNyZWF0ZUluaXRpYWxQb3B1bGF0aW9uID0gZnVuY3Rpb24oY291bnQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHBvcHVsYXRpb24gPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGduID0gMDsgZ24gPCBzZWxmLmdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGduKyspIHtcclxuICAgICAgICAgICAgICAgIGdlbmVzLnB1c2goWzAsIDAsIDBdKTtcclxuICAgICAgICAgICAgICAgIGlmIChnbiAlIDUgPT09IDApIGdlbmVzW2duXVsyXSA9IDEwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID09PSAwID8gMjU1IDogMDtcclxuICAgICAgICAgICAgdmFyIGcgPSBpICUgMiA9PT0gMCA/IDAgOiAyNTU7XHJcblxyXG4gICAgICAgICAgICBnZW5lc1s0Ml1bMF0gPSByO1xyXG4gICAgICAgICAgICBnZW5lc1s0Ml1bMV0gPSBnO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgICAgICBpZDogaSxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogNixcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBhbmd1bGFyLmNvcHkoZ2VuZXMpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB1bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uLnB1c2godW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb3B1bGF0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5pc0JyZWVkaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVtYmVycy5sZW5ndGggPj0gdGhpcy5tYXhTaXplKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGFyZSBhdCBsZWFzdCAxIG1hbGUgYW5kIDEgZmVtYWxlIGluIHRoZSBicmVlZGVyc1xyXG4gICAgICAgIHZhciBoYXNNYWxlID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGhhc0ZlbWFsZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5icmVlZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IHRoaXMuZ2V0QnlJZCh0aGlzLmJyZWVkZXJzW2ldKTtcclxuICAgICAgICAgICAgaWYgKHVuaXQuaGFzVHJhaXQoJ01hbGUnKSkgaGFzTWFsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGVsc2UgaGFzRmVtYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGhhc01hbGUgJiYgaGFzRmVtYWxlKSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc01hbGUgJiYgaGFzRmVtYWxlO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRCeUlkID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbih1bml0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bml0LmlkID09PSBpZDtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuZ2V0QnlHZW5lcmF0aW9uID0gZnVuY3Rpb24oZ2VuZXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXQuZ2VuZXJhdGlvbiA9PT0gZ2VuZXJhdGlvbjtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCFzZWxmLmlzQnJlZWRpbmcoKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdmFyIHAxID0gc2VsZi5nZXRCeUlkKHNlbGYuYnJlZWRlcnNbMF0pO1xyXG4gICAgICAgIHZhciBwMiA9IHNlbGYuZ2V0QnlJZChzZWxmLmJyZWVkZXJzWzFdKTtcclxuICAgICAgICB2YXIgY2hpbGQgPSBwMS5icmVlZChwMiwgc2VsZi5tZW1iZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgc2VsZi5tZW1iZXJzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIFBvcHVsYXRpb247XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2VuZURlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGdlbmVEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgLy9nZW5lIDpyLGcsYiByOnJlY2Vzc2l2ZSwgZzpkb21pbmFudCwgYjptdXRhdGlvbnJhdGVcclxuICAgIGdlbmVEZWZpbml0aW9uc1swXSA9IHsgZG9tOiAnQnJvYWQgU2hvdWxkZXJzJywgcmVjOiAnU2xlbmRlciBTaG91bGRlcnMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMV0gPSB7IGRvbTogJ1RoaWNrIFNrdWxsJywgcmVjOiAnU29mdCBTa3VsbCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syXSA9IHsgZG9tOiAnTGFyZ2UgQXJtcycsIHJlYzogJ1NtYWxsIEFybXMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbM10gPSB7IGRvbTogJ0xhcmdlIExlZ3MnLCByZWM6ICdTbWFsbCBMZWdzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzRdID0geyBkb206ICdCaWcgQ2hlc3QnLCByZWM6ICdXZWFrIENoZXN0JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzVdID0geyBkb206ICdUb3VnaCBKYXcnLCByZWM6ICdXZWFrIEphdycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s2XSA9IHsgZG9tOiAnT2FmaXNoJywgcmVjOiAnTW91c2V5JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNF0gPSB7IGRvbTogJ0NhbGN1bGF0ZWQgRGVjaXNpb25zJywgcmVjOiAnUmVja2xlc3MnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTVdID0geyBkb206ICdMYXRlcmFsIFRoaW5rZXInLCByZWM6ICdTaW5nbGUgTWluZGVkJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE2XSA9IHsgZG9tOiAnUXVpY2sgTGVhcm5lcicsIHJlYzogJ0ZvcmdldGZ1bCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzMwXSA9IHsgZG9tOiAnRWxvcXVlbnQnLCByZWM6ICdDYXRhdG9uaWMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzFdID0geyBkb206ICdQb3dlcmZ1bCBWb2ljZScsIHJlYzogJ1F1aWV0IFZvaWNlJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMyXSA9IHsgZG9tOiAnRnVsbCBMaXBzJywgcmVjOiAnVGhpbiBMaXBzJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMzXSA9IHsgZG9tOiAnRGFyayBTa2luJywgcmVjOiAnRmFpciBTa2luJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1s0MF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0MV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Ml0gPSB7IGRvbTogJ0ZlbWFsZScsIHJlYzogJ01hbGUnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcblxyXG4gICAgcmV0dXJuIGdlbmVEZWZpbml0aW9ucztcclxufSkoKSk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCd0cmFpdERlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRyYWl0cyA9IFt7XHJcbiAgICAgICAgICAgIG5hbWU6ICdIYW5kc29tZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgLTIwMCwgMjAwXSxcclxuICAgICAgICAgICAgICAgIFs1LCA1MCwgMjU1XVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydNYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ1ByZXR0eScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgLTIwMCwgLTEwMF0sXHJcbiAgICAgICAgICAgICAgICBbNCwgMjAsIDI0MF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnRmVtYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0FnZ3Jlc3NpdmUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFsyLCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFsxNCwgLTI1NSwgLTE1MF1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRmVtYWxlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFs0MiwgMCwgMjU1XVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdNYWxlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFs0MiwgLTI1NSwgLTFdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lIEFnZ3Jlc3NpdmUgYW5kIHNvbWV0aGluZycsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMzAsIDAsIDBdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ0hhbmRzb21lJywgJ0FnZ3Jlc3NpdmUnXVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcblxyXG4gICAgdmFyIGNoZWNrZWQgPSBbXTtcclxuICAgIHZhciBnZXRUcmFpdEJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdHJhaXRzLmZpbHRlcihmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID09PSB0Lm5hbWU7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0cmFpdC5yZXF1aXJlZFRyYWl0cykpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmFpdC5yZXF1aXJlZFRyYWl0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVpcmVkVHJhaXQgPSB0cmFpdC5yZXF1aXJlZFRyYWl0c1tqXTtcclxuICAgICAgICAgICAgICAgIHZhciByZXEgPSBnZXRUcmFpdEJ5TmFtZShyZXF1aXJlZFRyYWl0KTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkLmluZGV4T2YocmVxLm5hbWUpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlKHJlcSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHJlcS5nZW5lcy5sZW5ndGg7IGcrKylcclxuICAgICAgICAgICAgICAgICAgICB0cmFpdC5nZW5lcy5wdXNoKHJlcS5nZW5lc1tnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tlZC5wdXNoKHRyYWl0Lm5hbWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYnVpbGRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWl0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdHJhaXQgPSB0cmFpdHNbaV07XHJcbiAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUodHJhaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRyYWl0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRyYWl0cztcclxuICAgIH07XHJcbiAgICByZXR1cm4gYnVpbGRUcmFpdHMoKTtcclxufSkoKSk7XHJcblxyXG5cclxuZ2FtZS5mYWN0b3J5KCdUcmFpdEluc3BlY3RvcicsIFsnJGZpbHRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRmaWx0ZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBUcmFpdEluc3BlY3RvciA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKGNvbmZpZyk7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoY29uZmlnKSA9PSAndW5kZWZpbmVkJykgY29uZmlnID0ge307XHJcbiAgICAgICAgLy90aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuaWQgfHwgMDsgICAgICAgIFxyXG4gICAgfTtcclxuXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUuZ2V0VHJhaXRzID0gZnVuY3Rpb24oZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcbiAgICAgICAgaWYgKGdlbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWl0RGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IHRyYWl0RGVmaW5pdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgdGQuZ2VuZXMubGVuZ3RoICYmIG1ldCA9PT0gdHJ1ZTsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRkZyA9IHRkLmdlbmVzW2hdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gZ2VuZXNbdGRnWzBdXVsxXSAtIGdlbmVzW3RkZ1swXV1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPCB0ZGdbMV0gfHwgdiA+IHRkZ1syXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHRkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmV0ID0ge1xyXG4gICAgICAgICAgICBcIlNUUlwiOiAwLFxyXG4gICAgICAgICAgICBcIklOVFwiOiAwLFxyXG4gICAgICAgICAgICBcIkVORFwiOiAwLFxyXG4gICAgICAgICAgICBcIkNIUlwiOiAwLFxyXG4gICAgICAgICAgICBcIkxDS1wiOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGludEJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgZW5kQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaHJCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGxja0Jhc2UgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVzLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZyA8IDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ckJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAyMClcclxuICAgICAgICAgICAgICAgICAgICBpbnRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgMzApXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDQwKVxyXG4gICAgICAgICAgICAgICAgICAgIGNockJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBsY2tCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0LlNUUiA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KE1hdGguYWJzKHN0ckJhc2UpIC8gMjUpKSAqIChzdHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5JTlQgPSBNYXRoLmZsb29yKE1hdGguc3FydChNYXRoLmFicyhpbnRCYXNlKSAvIDI1KSkgKiAoaW50QmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuRU5EID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5hYnMoZW5kQmFzZSkgLyAyNSkpICogKGVuZEJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkNIUiA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KE1hdGguYWJzKGNockJhc2UpIC8gMjUpKSAqIChjaHJCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5MQ0sgPSBNYXRoLmZsb29yKE1hdGguc3FydChNYXRoLmFicyhsY2tCYXNlKSAvIDI1KSkgKiAobGNrQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcblxyXG4gICAgcmV0dXJuIFRyYWl0SW5zcGVjdG9yO1xyXG59XSk7IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5hcHAuY29tcG9uZW50KCdibG9xaGVhZEdhbWVDb250cm9sJywge1xyXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cIiRjdHJsLnRvZ2dsZVN0YXRlKCk7XCI+PGkgY2xhc3M9XCJmYVwiIG5nLWNsYXNzPVwiJGN0cmwuZ2V0SWNvbigpXCI+PC9pPjwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICBjb250cm9sbGVyOiBbJ2dhbWVTZXJ2aWNlJywgJ2dhbWVTdGF0ZXMnLCBmdW5jdGlvbihnYW1lU2VydmljZSwgZ2FtZVN0YXRlcykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBnYW1lU2VydmljZS5nZXRTdGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi50b2dnbGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IChzZWxmLmN1cnJlbnRTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5SVU5OSU5HID8gZ2FtZVN0YXRlcy5QQVVTRUQgOiBnYW1lU3RhdGVzLlJVTk5JTkcpO1xyXG4gICAgICAgICAgICBnYW1lU2VydmljZS5zZXRTdGF0ZShzZWxmLmN1cnJlbnRTdGF0ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldEljb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudFN0YXRlID09PSBnYW1lU3RhdGVzLlJVTk5JTkcgPyAnZmEtcGF1c2UnIDogJ2ZhLXBsYXknO1xyXG4gICAgICAgIH07XHJcbiAgICB9XVxyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRMb2cnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9nL2xvZy5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudCgnbG9nVHlwZXMnLCB7XHJcbiAgICBHRU5FUkFMOiAxLFxyXG4gICAgQlJFRUQ6IDJcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubG9nJywgWyckc2NvcGUnLCAnbG9nU2VydmljZScsICdsb2dUeXBlcycsIGZ1bmN0aW9uKCRzY29wZSwgbG9nU2VydmljZSwgbG9nVHlwZXMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBsb2dTZXJ2aWNlLlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCgkc2NvcGUsIHNlbGYucmVjZWl2ZU1lc3NhZ2VzKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5nZXRMb2dDbGFzcyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICB2YXIgcHJlZml4ID0gJ2xpc3QtZ3JvdXAtaXRlbS0nO1xyXG4gICAgICAgIHZhciBhID0gJyc7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgbG9nVHlwZXMuR0VORVJBTDpcclxuICAgICAgICAgICAgICAgIGEgPSAnc3VjY2Vzcyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5CUkVFRDpcclxuICAgICAgICAgICAgICAgIGEgPSAnaW5mbyc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGEgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByZWZpeCArIGE7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYucmVjZWl2ZU1lc3NhZ2VzID0gZnVuY3Rpb24oZXZlbnQsIG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xyXG4gICAgfTtcclxufV0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdsb2dTZXJ2aWNlJywgWyckcm9vdFNjb3BlJywgJ2xvZ1R5cGVzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgbG9nVHlwZXMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlKFwiV2VsY29tZSB0byBHZW5ldGl4IVwiKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmxvZ0dlbmVyYWxNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkdFTkVSQUwsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuICAgIHNlbGYubG9nQnJlZWRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkJSRUVELCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdNZXNzYWdlRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLm1haW5HYW1lJ1xyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZScsIFsnJHNjb3BlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBwb3B1bGF0aW9uU2VydmljZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5icmVlZGVycyA9IFtdO1xyXG4gICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IFtdO1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlUG9wdWxhdGlvbik7XHJcbiAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuU3Vic2NyaWJlQnJlZWRlclVwZGF0ZUV2ZW50KCRzY29wZSwgc2VsZi51cGRhdGVCcmVlZGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpIHtcclxuICAgICAgICBwb3B1bGF0aW9uU2VydmljZS51cGRhdGVNZW1iZXIoaWQsIGdlbmVJbmRleCwgZ2VuZVZhbHVlcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLmFkZEJyZWVkZXIodW5pdGlkKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5yZW1vdmVCcmVlZGVyID0gZnVuY3Rpb24odW5pdGlkKSB7XHJcbiAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UucmVtb3ZlQnJlZWRlcih1bml0aWQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnVwZGF0ZUJyZWVkZXJzID0gZnVuY3Rpb24oZXZlbnQsIGJyZWVkZXJzKSB7XHJcbiAgICAgICAgc2VsZi5icmVlZGVycyA9IGJyZWVkZXJzO1xyXG4gICAgfTtcclxuICAgIHNlbGYudXBkYXRlUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBwb3B1bGF0aW9uKSB7XHJcbiAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gcG9wdWxhdGlvbjtcclxuICAgIH07XHJcbn1dKTtcclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudChcImJsb3FoZWFkQnJlZWRlclwiLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIixcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJzwnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZ2FtZS5jb250cm9sbGVyKFwiYmxvcWhlYWRlci5jb250cm9sbGVycy5icmVlZGVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfTtcclxufSkiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRQbGF5ZXJCb3gnLCB7XHJcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxyXG4gICAgcmVxdWlyZToge1xyXG4gICAgICAgIG1haW5DdHJsOiBcIl5ibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lXCJcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5wbGF5ZXJCb3gnLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB0aXRsZTogJ0AnLFxyXG4gICAgICAgIGZvb3RlcjogJ0AnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMucGxheWVyQm94JywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLnVuaXQgPSBzZWxmLm1haW5DdHJsLnVuaXQ7XHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcbmdhbWUuc2VydmljZSgncG9wdWxhdGlvblNlcnZpY2UnLCBbXHJcbiAgICAnJHJvb3RTY29wZScsICdnYW1lU2VydmljZScsICdQb3B1bGF0aW9uJywgJ2xvZ1NlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZ2FtZVNlcnZpY2UsIFBvcHVsYXRpb24sIGxvZ1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoY29uZmlnKSkgY29uZmlnID0ge307XHJcblxyXG4gICAgICAgICAgICBzZWxmLmJyZWVkU3RlcHMgPSBjb25maWcuYnJlZWRTdGVwcyB8fCBzZWxmLmJyZWVkU3RlcHMgfHwgNjtcclxuICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgPSAwO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gY29uZmlnLnBvcHVsYXRpb24gfHwgbmV3IFBvcHVsYXRpb24oeyBzaXplOiAyIH0pO1xyXG4gICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UgPSBsb2dTZXJ2aWNlO1xyXG5cclxuICAgICAgICAgICAgZ2FtZVNlcnZpY2UuU3Vic2NyaWJlR2FtZUxvb3BFdmVudCgkcm9vdFNjb3BlLCBzZWxmLmhhbmRsZUdhbWVMb29wKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmhhbmRsZUdhbWVMb29wID0gZnVuY3Rpb24oZXZlbnQsIHN0ZXBzKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5uYW1lICE9PSAnZ2FtZUxvb3BFdmVudCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3B1bGF0ZVNlcnZpY2UuaGFuZGxlR2FtZUxvb3AgLSBJbnZhbGlkIGV2ZW50OiAnICsgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBvcHVsYXRpb24uaXNCcmVlZGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCArPSBzdGVwcztcclxuICAgICAgICAgICAgICAgIHdoaWxlIChzZWxmLnN0ZXBzU2luY2VCcmVlZCA+PSBzZWxmLmJyZWVkU3RlcHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCAtPSBzZWxmLmJyZWVkU3RlcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNwcmluZyA9IHNlbGYucG9wdWxhdGlvbi5icmVlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiTmV3IG9mZnNwcmluZyEgXCIgKyBvZmZzcHJpbmcubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMucHVzaChpZCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIkJyZWVkZXIgYWRkZWQ6IFwiICsgc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlbW92ZUJyZWVkZXIgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLnBvcHVsYXRpb24uaXNCcmVlZGluZygpKSBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIkJyZWVkZXIgcmVtb3ZlZDogXCIgKyBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCkubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudXBkYXRlTWVtYmVyID0gZnVuY3Rpb24oaWQsIGdlbmVJbmRleCwgZ2VuZVZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBtZW1iZXIuZ2VuZXNbZ2VuZUluZGV4XSA9IGdlbmVWYWx1ZXM7XHJcbiAgICAgICAgICAgIG1lbWJlci51cGRhdGUoKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlQnJlZWRlclVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ2JyZWVkZXJVcGRhdGVFdmVudCcsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5tZW1iZXJzKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMudGVzdEludGVyZmFjZSdcclxufSk7XHJcblxyXG4vLyB0YWIgY29tcG9uZW50c1xyXG5hcHAuY29tcG9uZW50KCdicmVlZGVyVGFiJywge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0czogJz0nLFxyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5sYXN0QnJlZWRlcklEID0gMDtcclxuICAgICAgICBzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPSAnTWFsZSc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2VsZi5raWxsQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0cy5zcGxpY2Uoc2VsZi51bml0cy5pbmRleE9mKHVuaXQpLCAxKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZi5hZGROZXdCcmVlZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBnZW5lcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgZ2VuZXMucHVzaChbMCwwLDBdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGdlbmRlciA9IChzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPT0gJ01hbGUnKSA/IDI1NSA6IDA7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXSA9IFtnZW5kZXIsIDI1NSAtIGdlbmRlciwgMF07XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBzZWxmLmxhc3RCcmVlZGVySUQrKyxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogNixcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBnZW5lc1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdHMudW5zaGlmdCh1bml0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2JyZWVkZXJUYWIuaHRtbCdcclxufSk7XHJcbmFwcC5jb21wb25lbnQoJ21hdGluZ1RhYicsIHtcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdHM6ICc9JyxcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiBbJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbihCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuaHRtbCdcclxufSk7XHJcblxyXG5cclxuXHJcbmFwcC5jb21wb25lbnQoJ2dlbm9tZUVkaXRvcicse1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPSdcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiBbJ2dlbmVEZWZpbml0aW9ucycsIGZ1bmN0aW9uKGdlbmVEZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgICAgIHNlbGYuZXhwYW5kbyA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemVOYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5uYW1lID0gc2VsZi51bml0LmdldFJhbmRvbU5hbWUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0LmdlbmVzW2luZGV4XSA9IFtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpLHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkscmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYudW5pdC5nZW5lcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHNlbGYucmFuZG9taXplKGkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGdlbmRlciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDEpID09PSAwID8gMjU1IDogMDtcclxuICAgICAgICAgICAgc2VsZi51bml0LmdlbmVzWzQyXSA9IFtnZW5kZXIsIDI1NSAtIGdlbmRlciwgMF07XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuaHRtbCdcclxufSk7XHJcblxyXG5cclxuXHJcbmFwcC5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnZ2FtZVNlcnZpY2UnLCAnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIGdhbWVTZXJ2aWNlLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcblxyXG5cclxuXHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICBzZWxmLnRyYWl0RGVmaW5pdGlvbnMgPSB0cmFpdERlZmluaXRpb25zO1xyXG4gICAgICAgIC8vc2VsZi5kaWdnZXJzID0gZ2FtZVNlcnZpY2UuZGlnZ2VycztcclxuICAgICAgICBzZWxmLnVuaXRzID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVCcmVlZEV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIG9mZnNwcmluZykge1xyXG4gICAgICAgIC8vICAgIC8vJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBvZmZzcHJpbmc7IH0pO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgIC8vICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICAgIHNlbGYuZGlnZ2VycyA9IGRhdGEuRGlnZ2VycztcclxuICAgICAgICAvLyAgICAgICAgLy9zZWxmLmRpZ2dlckFuY2VzdG9ycyA9IGRhdGEuQW5jZXN0b3JzO1xyXG4gICAgICAgIC8vICAgIH0pO1xyXG4gICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgc2VsZi51cGRhdGVHZW5lID0gZnVuY3Rpb24oZGlnZ2VySW5kZXgsIGdlbmVJbmRleCwgdmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gc2VsZi51bml0c1tkaWdnZXJJbmRleF07XHJcbiAgICAgICAgICAgIGRpZ2dlci5nZW5lc1tnZW5lSW5kZXhdID0gdmFsdWVzO1xyXG4gICAgICAgICAgICBkaWdnZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAqL1xyXG5cclxuICAgIH07XHJcblxyXG59XSk7IiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvaG9tZS5odG1sJyxcbiAgICAnPHVsIGNsYXNzPVwibmF2IG5hdi1waWxsc1wiPjxsaT48YSB1aS1zcmVmPVwiaG9tZS5tYWluXCI+TWFpbjwvYT48L2xpPjxsaT48YSB1aS1zcmVmPVwiaG9tZS50ZXN0XCI+VGVzdCBJbnRlcmZhY2U8L2E+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTFcIj48YmxvcWhlYWQtZ2FtZS1jb250cm9sPjwvYmxvcWhlYWQtZ2FtZS1jb250cm9sPjwvZGl2PjwvZGl2PjxkaXYgdWktdmlldz1cIlwiPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2xvZy9sb2cuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJsb2ctY29tcG9uZW50XCI+PHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluICRjdHJsLm1lc3NhZ2VzIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwiJGN0cmwuZ2V0TG9nQ2xhc3MoaXRlbS50eXBlKVwiPls8c3BhbiBuZy1iaW5kPVwiaXRlbS50aW1lc3RhbXB8ZGF0ZTpcXCdNTS9kZC95eXl5IGhoOm1tOnNzLnNzcyBhXFwnXCI+PC9zcGFuPl0mbmJzcDsgPHNwYW4gbmctYmluZD1cIml0ZW0ubWVzc2FnZVwiPjwvc3Bhbj48L2xpPjwvdWw+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbWFpbkdhbWUvYnJlZWRlci5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImJsb3FoZWFkLWNvbXBvbmVudFwiPjxoND57eyRjdHJsLnVuaXQubmFtZX19IDxpIGNsYXNzPVwiZmEgZmEtc3RhclwiIG5nLXJlcGVhdD1cInRyYWl0IGluICRjdHJsLnVuaXQudHJhaXRzXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgcmVsPVwidG9vbHRpcFwiIHRpdGxlPVwie3t0cmFpdC5uYW1lfX1cIj48L2k+PC9oND48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7eyRjdHJsLnVuaXQucmVkR3JlZW5JbWFnZX19XCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMlwiPlNUUjogPHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5TVFJcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0yXCI+SU5UOiA8c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLklOVFwiPjwvc3Bhbj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTJcIj5FTkQ6IDxzcGFuIG5nLWJpbmQ9XCIkY3RybC51bml0LmF0dHJpYnV0ZXMuRU5EXCI+PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtMlwiPkNIUjogPHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5DSFJcIj48L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0yXCI+TENLOiA8c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkxDS1wiPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiR29hbHNcIj48YmxvcWhlYWQtZ29hbC1saXN0PjwvYmxvcWhlYWQtZ29hbC1saXN0PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUmVzb3VyY2VzXCI+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtOFwiPjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIkxvZ1wiPjxibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiPz8/XCI+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIiBuZy1yZXBlYXQ9XCJicmVlZGVyaWQgaW4gJGN0cmwuYnJlZWRlcnNcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIkJyZWVkZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCIkY3RybC5yZW1vdmVCcmVlZGVyKGJyZWVkZXJpZClcIj48c3Bhbj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjxibG9xaGVhZC1icmVlZGVyIHVuaXQ9XCIkY3RybC5wb3B1bGF0aW9uW2JyZWVkZXJpZF1cIj48L2Jsb3FoZWFkLWJyZWVkZXI+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wteHMtMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUG9wdWxhdGlvblwiPjxkaXYgbmctcmVwZWF0PVwiY2hpbGQgaW4gJGN0cmwucG9wdWxhdGlvblwiPjxibG9xaGVhZC1icmVlZGVyIHVuaXQ9XCJjaGlsZFwiIHVwZGF0ZS1nZW5lPVwiJGN0cmwudXBkYXRlR2VuZSgkaW5kZXgsICRnZW5lSW5kZXgsICR2YWx1ZXMsIGZhbHNlKVwiPjwvYmxvcWhlYWQtYnJlZWRlcj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGN0cmwuYWRkQnJlZWRlcihjaGlsZC5pZClcIj5CcmVlZCBNZTwvYnV0dG9uPjwvZGl2PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPjxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+PGgzIGNsYXNzPVwicGFuZWwtdGl0bGVcIiBuZy1iaW5kPVwiJGN0cmwudGl0bGVcIj48L2gzPjwvZGl2PjxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPjwvZGl2PjxkaXYgY2xhc3M9XCJwYW5lbC1mb290ZXJcIj48c3BhbiBuZy1iaW5kPVwiJGN0cmwuZm9vdGVyXCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIodW5pdClcIj48c3Bhbj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjxnZW5vbWUtZWRpdG9yIHVuaXQ9XCJ1bml0XCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg0PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplTmFtZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+IHt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIiBuZy1jbGljaz1cIiRjdHJsLmV4cGFuZG8gPSAhJGN0cmwuZXhwYW5kb1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cIkNsaWNrIHRvIGV4cGFuZC9jb2xsYXBzZVwiPjxkaXYgbmctc2hvdz1cIiRjdHJsLmV4cGFuZG9cIiBzdHlsZT1cImhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IHNjcm9sbDsgbWFyZ2luLXRvcDo1cHhcIj48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3IgdGFibGUgdGFibGUtY29uZGVuc2VkXCI+PHRoZWFkPjx0cj48dGg+Jm5ic3A7PC90aD48dGg+RG9taW5hbnQ8L3RoPjx0aD5SZWNlc3NpdmU8L3RoPjx0aD5WYWx1ZXMgKEQvUi9NKTwvdGg+PHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIG5nLXJlcGVhdD1cImdlbmUgaW4gJGN0cmwuZ2VuZURlZmluaXRpb25zXCI+PHRkIG5nLWJpbmQ9XCIkaW5kZXhcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb21cIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5yZWNcIj48L3RkPjx0ZD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVsxXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMF1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPjwvdGQ+PHRkPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvbWF0aW5nVGFiLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPk1vdGhlcjoge3skY3RybC5tb3RoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubW90aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdGZW1hbGVcXCdcIiBuZy1iaW5kPVwidW5pdC5uYW1lXCI+PC9hPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkZhdGhlcjoge3skY3RybC5mYXRoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwuZmF0aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdNYWxlXFwnXCIgbmctYmluZD1cInVuaXQubmFtZVwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5tYXRlKClcIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5mYXRoZXIgfHwgISRjdHJsLm1vdGhlclwiPk1hdGU8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXY+PHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGEgZGF0YS10YXJnZXQ9XCIjYnJlZWRlcnNcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5CcmVlZGVyczwvYT48L2xpPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGEgZGF0YS10YXJnZXQ9XCIjbWF0aW5nXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+TWF0aW5nPC9hPjwvbGk+PC91bD48ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnRcIj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmUgYWN0aXZlXCIgaWQ9XCJicmVlZGVyc1wiPjxicmVlZGVyLXRhYiB1bml0cz1cIiRjdHJsLnVuaXRzXCI+PC9icmVlZGVyLXRhYj48L2Rpdj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmVcIiBpZD1cIm1hdGluZ1wiPjxtYXRpbmctdGFiIHVuaXRzPVwiJGN0cmwudW5pdHNcIj48L21hdGluZy10YWI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIl19
