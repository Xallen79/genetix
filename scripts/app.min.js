function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#other" role="tab" data-toggle="tab">Other</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><fieldset><div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-4" ng-repeat="digger in $ctrl.diggers"><div style="border: 1px solid grey"><button type="button" class="close" ng-click="$ctrl.killBreeder(digger)"><span>&times;</span></button><genome-editor unit="digger" update-gene="$ctrl.updateGene($index, $geneIndex, $values)"></genome-editor></div></div></div></fieldset></div><div role="tabpanel" class="tab-pane" id="other"><div class="well"><h3>Nothing to see here....</h3></div></div></div></div>')}])}();var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("genomeEditor",{bindings:{unit:"<",updateGene:"&"},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e},t.randomize=function(e){var n=[];n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),t.updateGene({$geneIndex:e,$values:n})},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0==randomIntFromInterval(0,1)?"Male":"Female",r="Male"==n?255:0,a="Male"==n?0:255;t.updateGene({$geneIndex:42,$values:[r,a,0]}),t.unit.setRandomName()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,r,a,i){var o=this;o.lastBreederID=0,o.newBreederGender="Male",o.killBreeder=function(e){o.diggers.splice(o.diggers.indexOf(e),1)},o.addNewBreeder=function(){for(var e=[],t=0;t<a.length;t++)e.push([0,0,0]);var n="Male"==o.newBreederGender?255:0,t="Male"==o.newBreederGender?0:255;e[42][0]=n,e[42][1]=t;var i=new r({id:o.lastBreederID++,generation:0,scale:6,genes:e});i.update(),o.diggers.unshift(i)},o.$onInit=function(){o.geneDefinitions=a,o.traitDefinitions=i,o.diggers=[],o.updateGene=function(e,t,n){var r=o.diggers[e];r.genes[t]=n,r.update()}}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.service("gameService",["$window","$rootScope","Breeder","geneDefinitions","gameStates","traitDefinitions",function(e,t,n,r,a,i){var o=this;o.init=function(e){angular.isDefined(e)||(e={}),o.stepTimeMs=e.stepTimeMs||5e3,o.lastTime=0,o.diggers=[],o.diggerOffspring=[],o.diggerAncestors=[],o.maxOffspring=e.maxOffspring||30,o.currentState=a.RUNNING;for(var t=0;t<2;t++){for(var i=new n({id:t,generation:0,scale:6}),s=0;s<r.length;s++)i.genes.push([0,0,5]);0===t&&(i.genes[42]=[255,0,0]),1==t&&(i.genes[42]=[0,255,0]),i.update(),o.diggers.push(i)}o.gameLoop(0)},o.SubscribeBreedEvent=function(e,n){var r=t.$on("breedEvent",n.bind(this));e.$on("$destroy",r)},o.SubscribeNewGenerationEvent=function(e,n){var r=t.$on("newGenerationEvent",n);e.$on("$destroy",r)},o.getState=function(){return o.currentState},o.setState=function(e){o.currentState=e},o.breed=function(e){for(var n=0;n<e;n++)if(o.diggerOffspring.length<o.maxOffspring){var r=o.diggers[0].breed(o.diggers[1],o.diggerOffspring.length);o.diggerOffspring.push(r),t.$emit("breedEvent",o.diggerOffspring)}else o.nextGeneration(),t.$emit("newGenerationEvent",{Ancestors:o.diggerAncestors,Diggers:o.diggers})},o.nextGeneration=function(){o.diggerAncestors.push(o.diggers),o.diggerAncestors.length>o.maxOffspring&&(o.diggerAncestors=o.diggerAncestors.slice(1)),o.diggers=[];var e=o.determineNextParents(o.aggressive);o.diggers.push(e[0]),o.diggers.push(e[1]),o.diggerOffspring=[]},o.determineNextParents=function(e){for(var t=o.diggerOffspring[0].genes.length,n={index:-1,value:-255*t},r={index:-1,value:-255*t},a=0;a<o.diggerOffspring.length;a++){var i=o.diggerOffspring[a],s=e(i);i.hasTrait("Male")&&n.value<s?(n.index=a,n.value=s):i.hasTrait("Female")&&r.value<s&&(r.index=a,r.value=s)}return o.diggerOffspring[n.index].update({scale:6}),o.diggerOffspring[r.index].update({scale:6}),[o.diggerOffspring[n.index],o.diggerOffspring[r.index]]},o.greenFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][1]-e.genes[r][0];return n},o.redFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][0]-e.genes[r][1];return n},o.blueFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][2];return n},o.aggressive=function(e){var t=i.filter(function(e){return"Aggressive"===e.name})[0];return o.traitFitness(e,t)},o.traitFitness=function(e,t){for(var n=t.genes.length,r=1,a=0;a<n;a++){var i=t.genes[a],o=e.genes[i[0]],s=o[1]-o[0],g=(i[2]+i[1])/2;if(0===o[0]&&0===o[1]&&0===o[2])return-1;s!=g&&(r*=Math.abs(s-g))}return 1/r},o.gameLoop=function(t){for(var n=this,r=0;n.lastTime+t>n.stepTimeMs*(r+1);)r++;n.lastTime=n.lastTime-n.stepTimeMs*r,n.currentState==a.RUNNING&&n.breed(r),e.requestAnimationFrame(this.gameLoop.bind(this))}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","$timeout","gameService",function(e,t,n){var r=this;r.$onInit=function(){r.helloText="Hello main game",r.diggers=n.diggers,r.diggerOffspring=[],r.diggerAncestors=[],n.SubscribeBreedEvent(e,function(t,n){e.$apply(function(){r.diggerOffspring=n})}),n.SubscribeNewGenerationEvent(e,function(t,n){e.$apply(function(){r.diggers=n.Diggers,r.diggerAncestors=n.Ancestors})})}}]);var app=angular.module("bloqhead.genetixApp");app.component("gameControl",{template:'<div><button type="button" class="btn btn-xs btn-danger" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["gameService","gameStates",function(e,t){var n=this;n.$onInit=function(){n.currentState=e.getState()},n.toggleState=function(){n.currentState=n.currentState===t.RUNNING?t.PAUSED:t.RUNNING,e.setState(n.currentState)},n.getIcon=function(){return n.currentState===t.RUNNING?"fa-pause":"fa-play"}}]});var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["STR"]},e[11]={dom:"",rec:"",attr:["STR"]},e[12]={dom:"",rec:"",attr:["STR"]},e[13]={dom:"",rec:"",attr:["STR"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["INT"]},e[21]={dom:"",rec:"",attr:["INT"]},e[22]={dom:"",rec:"",attr:["INT"]},e[23]={dom:"",rec:"",attr:["INT"]},e[24]={dom:"",rec:"",attr:["INT"]},e[25]={dom:"",rec:"",attr:["INT"]},e[26]={dom:"",rec:"",attr:["INT"]},e[27]={dom:"",rec:"",attr:["INT"]},e[28]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[29]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"",rec:"",attr:["CHR"]},e[33]={dom:"",rec:"",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["CHR"]},e[41]={dom:"",rec:"",attr:["CHR"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},r=function(e){if(angular.isDefined(e.requiredTraits))for(var a=0;a<e.requiredTraits.length;a++){var i=e.requiredTraits[a],o=n(i);t.indexOf(o.name)===-1&&r(o);for(var s=0;s<o.genes.length;s++)e.genes.push(o.genes[s])}t.push(e.name)},a=function(){for(var t=0;t<e.length;t++){var n=e[t];r(n)}return e};return a()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){"undefined"==typeof e&&(e={})},r.prototype.getTraits=function(e){var t=[];if(e.length)for(var r=0;r<n.length;r++){for(var a=n[r],i=!0,o=0;o<a.genes.length&&i===!0;o++){var s=a.genes[o],g=e[s[0]][1]-e[s[0]][0];(g<s[1]||g>s[2])&&(i=!1)}i&&t.push(a)}return t},r}]);var game=angular.module("bloqhead.genetixApp");game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t){for(var n=Math.random(),r=angular.copy(n<=l.crossoverrate?e:t),a=r[2]/255,i="",o="",s=0;s<8;s++)i+=Math.random()<a?"1":"0",o+=Math.random()<a?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(o,2),r}function r(e,t){return generateBitmapDataURL(s(i(e),e.length),t)}function a(e,t){return generateBitmapDataURL(s(o(e),e.length),t)}function i(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],a=e[n][1],i=Math.abs(r-a)/255;r>a?a=0:r=0,r*=i,a*=i,t.push([r,a,0])}return t}function o(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],r=0;r<e.length/t;r++){for(var a=[],i=0;i<t;i++)a.push(e[i+r*t]);n.push(a)}return n}var g=function(e){this.traitInspector=new t,this.update(e),this.setRandomName()};g.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.generation=e.generation||this.generation||0,this.scale=e.scale||this.scale||6,this.genes=e.genes||this.genes||[],this.redGreenImage=r(this.genes,this.scale),this.blueImage=a(this.genes,this.scale),this.traits=this.traitInspector.getTraits(this.genes)},g.prototype.breed=function(e,t){for(var r=this,a=e,i=new g({id:t,generation:r.generation+1,genes:[]}),o=0;o<r.genes.length;o++){var s=r.genes[o],l=a.genes[o];i.genes.push(n(s,l))}return i.update({scale:6}),i},g.prototype.getTraits=function(){return this.traits},g.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},g.prototype.setRandomName=function(){this.name=this.getRandomName()},g.prototype.getRandomName=function(){if(!this.genes||0==this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?d[randomIntFromInterval(0,d.length-1)]:c[randomIntFromInterval(0,c.length-1)],t=u[randomIntFromInterval(0,u.length-1)]+m[randomIntFromInterval(0,m.length-1)]+p[randomIntFromInterval(0,p.length-1)];return e+t};var l={crossoverrate:.5},d=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],c=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],u=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],p=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return g}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><div style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td>R <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> G <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> B <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div>')}])}(),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var r=[];r.push({name:"home",url:"/",templateUrl:"components/home.html"}),r.push({name:"home.main",url:"genetix",component:"bloqhead.components.mainGame"}),r.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),r.forEach(function(t){e.state(t)}),n.html5Mode(!0)}]).run(["gameService",function(e){e.init()}]),function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,r,a,i=e.length,o=i?e[0].length:0,s="",g=[];t>0;t--)s+="\0";for(n=0;n<i;n++){for(r=0;r<o;r++)a=e[n][r],g.push(String.fromCharCode(a[2])+String.fromCharCode(a[1])+String.fromCharCode(a[0]));g.push(s)}return g.join("")}function n(e,t){var n,r,a,i=e.length,o=parseInt(i*t),s=i?e[0].length:0,g=parseInt(s*t),l=[];for(a=0;a<o;a++)for(l.push(n=[]),r=0;r<g;r++)n.push(e[parseInt(a/t)][parseInt(r/t)]);return l}window.generateBitmapDataURL=function(r,a){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;a=a||1,1!=a&&(r=n(r,a));var i,o=r.length,s=o?r[0].length:0,g=(4-3*s%4)%4,l=(3*s+g)*o,d=54+l;return o=e(o,4),s=e(s,4),l=e(l,4),d=e(d,4),i="BM"+d+"\0\0\0\x006\0\0\0(\0\0\0"+s+o+"\0\0\0\0\0\0"+l+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(r,g),"data:image/bmp;base64,"+btoa(i)}}(),function(e,t,n){function r(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?i=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?i=function(e){e=e.substring(1);var t=0,n=e.length,r=[];if(3==n)for(;t<n;t++)r.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)r.push(parseInt("0x"+e.substring(t,t+2)));return r}:alert("Unparseable color: "+e)}function a(e){var a=t.getElementById(e).style.backgroundColor;return""===a?[255,255,255]:(i===n&&r(a),i(a))}var i;e.generateLowResBitmap=function(n){n=n||10;for(var r,i,o,s,g,l=50,d=49,c=[];d>=0;d--)for(c.push(i=[]),r=0;r<l;r++)i.push(a(r+"_"+d));return s=t.createElement("img"),g=e.generateBitmapDataURL(c,n),s.src=g,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",o=t.getElementById("img"),null===o&&(o=t.createElement("div"),o.id="img",t.getElementById("wrap").appendChild(o)),o.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',o.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},o.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<i class="fa fa-leaf"></i><span ng-bind="$ctrl.helloText"></span><div class="row"><div class="col-xs-12"><fieldset><legend>Parents</legend><span class="col-xs-2" ng-repeat="digger in $ctrl.diggers"><img class="img-responsive" ng-src="{{digger.redGreenImage}}"><img class="img-responsive" ng-src="{{digger.blueImage}}"><ul class="list-group"><li class="list-group-item">Generation: <span ng-bind="digger.generation"></span></li><li ng-repeat="trait in digger.getTraits()" class="list-group-item" ng-bind="trait.name"></li><li ng-if="digger.getTraits().length == 0" class="list-group-item">No Traits</li></ul></span></fieldset></div></div><div class="row"><div class="col-xs-12"><fieldset><legend>Offspring</legend><span class="col-xs-4"><div ng-repeat="digger in $ctrl.diggerOffspring"><div class="col-xs-6"><img class="img-responsive" ng-src="{{digger.redGreenImage}}"></div><div class="col-xs-6"><img class="img-responsive" ng-src="{{digger.blueImage}}"></div></div></span></fieldset></div></div><div class="row">&nbsp;</div><div class="row"><div class="col-xs-12"><fieldset><legend>Ancestors</legend><div class="col-xs-4"><div ng-repeat="ancestors in $ctrl.diggerAncestors"><div class="col-xs-6"><img class="img-responsive" ng-src="{{ancestors[0].redGreenImage}}"></div><div class="col-xs-6"><img class="img-responsive" ng-src="{{ancestors[1].redGreenImage}}"></div></div></div></fieldset></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<ul class="nav nav-pills"><li><a ui-sref="home.main">Main</a></li><li><a ui-sref="home.test">Test Interface</a></li></ul><game-control></game-control><div ui-view=""></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9nYW1lQ29udHJvbC9nYW1lQ29udHJvbC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvdHJhaXQuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvYnJlZWRlci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuanMiLCJjb21wb25lbnRzL2dlbmV0aXhBcHAuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuanMiLCJjb21wb25lbnRzL2hvbWUuanMiXSwibmFtZXMiOlsicmFuZG9tSW50RnJvbUludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibW9kdWxlIiwiYW5ndWxhciIsImUiLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInB1dCIsImFwcCIsImNvbXBvbmVudCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImJpbmRpbmdzIiwidW5pdCIsInVwZGF0ZUdlbmUiLCJnZW5lRGVmaW5pdGlvbnMiLCJzZWxmIiwidGhpcyIsIiRvbkluaXQiLCJyYW5kb21pemUiLCJpbmRleCIsIm5ld1ZhbHVlcyIsInB1c2giLCIkZ2VuZUluZGV4IiwiJHZhbHVlcyIsInJhbmRvbWl6ZUFsbCIsImkiLCJnZW5lcyIsImxlbmd0aCIsImdlbmRlciIsInIiLCJnIiwic2V0UmFuZG9tTmFtZSIsIiRzY29wZSIsIiR0aW1lb3V0IiwiZ2FtZVNlcnZpY2UiLCJCcmVlZGVyIiwidHJhaXREZWZpbml0aW9ucyIsImxhc3RCcmVlZGVySUQiLCJuZXdCcmVlZGVyR2VuZGVyIiwia2lsbEJyZWVkZXIiLCJkaWdnZXIiLCJkaWdnZXJzIiwic3BsaWNlIiwiaW5kZXhPZiIsImFkZE5ld0JyZWVkZXIiLCJpZCIsImdlbmVyYXRpb24iLCJzY2FsZSIsInVwZGF0ZSIsInVuc2hpZnQiLCJkaWdnZXJJbmRleCIsImdlbmVJbmRleCIsInZhbHVlcyIsImdhbWUiLCJjb25zdGFudCIsIlBBVVNFRCIsIlJVTk5JTkciLCJzZXJ2aWNlIiwiJHdpbmRvdyIsIiRyb290U2NvcGUiLCJnYW1lU3RhdGVzIiwiaW5pdCIsImNvbmZpZyIsImlzRGVmaW5lZCIsInN0ZXBUaW1lTXMiLCJsYXN0VGltZSIsImRpZ2dlck9mZnNwcmluZyIsImRpZ2dlckFuY2VzdG9ycyIsIm1heE9mZnNwcmluZyIsImN1cnJlbnRTdGF0ZSIsImQiLCJnYW1lTG9vcCIsIlN1YnNjcmliZUJyZWVkRXZlbnQiLCJzY29wZSIsImNhbGxiYWNrIiwiaGFuZGxlciIsIiRvbiIsImJpbmQiLCJTdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQiLCJnZXRTdGF0ZSIsInNldFN0YXRlIiwibmV3U3RhdGUiLCJicmVlZCIsInN0ZXBzIiwibG9vcHMiLCJjaGlsZCIsIiRlbWl0IiwibmV4dEdlbmVyYXRpb24iLCJBbmNlc3RvcnMiLCJEaWdnZXJzIiwic2xpY2UiLCJuZXdQYXJlbnRzIiwiZGV0ZXJtaW5lTmV4dFBhcmVudHMiLCJhZ2dyZXNzaXZlIiwiZml0bmVzc0Z1bmMiLCJudW1nZW5lcyIsImZpdE1hbGUiLCJ2YWx1ZSIsImZpdEZlbWFsZSIsInZhbCIsImhhc1RyYWl0IiwiZ3JlZW5GaXRuZXNzIiwicmVkRml0bmVzcyIsImJsdWVGaXRuZXNzIiwidHJhaXREZWZpbml0aW9uIiwiZmlsdGVyIiwidHJhaXQiLCJuYW1lIiwidHJhaXRGaXRuZXNzIiwidGRnIiwiZGciLCJkZ3ZhbCIsInRkdmFsIiwiYWJzIiwic3RlcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhlbGxvVGV4dCIsImV2ZW50Iiwib2Zmc3ByaW5nIiwiJGFwcGx5IiwiZGF0YSIsInRlbXBsYXRlIiwidG9nZ2xlU3RhdGUiLCJnZXRJY29uIiwiZG9tIiwicmVjIiwiYXR0ciIsInRyYWl0cyIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJqIiwicmVxdWlyZWRUcmFpdCIsInJlcSIsImJ1aWxkVHJhaXRzIiwiZmFjdG9yeSIsIiRmaWx0ZXIiLCJUcmFpdEluc3BlY3RvciIsInByb3RvdHlwZSIsImdldFRyYWl0cyIsInJldCIsInRkIiwibWV0IiwiaCIsInYiLCJjcm9zc292ZXIiLCJnMSIsImcyIiwiY29weSIsImdlbmV0aWNPcHRpb25zIiwiY3Jvc3NvdmVycmF0ZSIsIm11dGF0aW9uUmF0ZSIsImJpdFN0cmluZ1IiLCJiaXRTdHJpbmdHIiwicGFyc2VJbnQiLCJnZXRSZWRHcmVlbkltYWdlIiwiZ2VuZXJhdGVCaXRtYXBEYXRhVVJMIiwiYWRkUm93cyIsImNvbnZlcnRSZWRHcmVlbk1hcCIsImdldEJsdWVJbWFnZSIsImNvbnZlcnRCbHVlTWFwIiwicmVzdWx0IiwiYnJpZ2h0IiwiY29scyIsInJvdyIsInRyYWl0SW5zcGVjdG9yIiwicmVkR3JlZW5JbWFnZSIsImJsdWVJbWFnZSIsInBhcnRuZXIiLCJuZXdJZCIsInAxIiwicDIiLCJwMWciLCJwMmciLCJteVRyYWl0IiwiZ2V0UmFuZG9tTmFtZSIsImZpcnN0TmFtZSIsIm5hbWVMaXN0MSIsIm5hbWVMaXN0MiIsImxhc3ROYW1lIiwibmFtZUxpc3QzIiwibmFtZUxpc3Q0IiwibmFtZUxpc3Q1IiwiJCIsInRvb2x0aXAiLCJzZWxlY3RvciIsImpRdWVyeSIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJ1cmwiLCJmb3JFYWNoIiwic3RhdGUiLCJodG1sNU1vZGUiLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJieXRlcyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwicGl4ZWwiLCJyb3dzX2xlbiIsInBpeGVsc19sZW4iLCJwYWRkaW5nIiwiX3NjYWxlUm93cyIsIm5ld19yb3ciLCJ4IiwieSIsInJlYWxfaCIsInNjYWxlZF9oIiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZ2VuZXJhdGVMb3dSZXNCaXRtYXAiLCJpbWdfcGFyZW50IiwiaW1nIiwic3JjIiwieF9sZW4iLCJjcmVhdGVFbGVtZW50IiwiYWx0IiwidGl0bGUiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwib25jbGljayIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImFza1RvU2NhbGUiLCJwcm9tcHQiLCJwYXJzZUZsb2F0IiwiTmFOIiwiaXNOYU4iXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUNIQSxTQUFBSyxHQUNBLElBQ0FBLEVBQUFDLFFBQUFELE9BQUEsdUJBQ0EsTUFBQUUsR0FDQUYsRUFBQUMsUUFBQUQsT0FBQSwwQkFFQUEsRUFBQUcsS0FBQSxpQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxJQUFBLDhD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a0JBQUFDLElBQUEsZ0JBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsZ0JBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUFoSCxFQUFBLEtBQUE4RyxJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxZQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsV0FBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLGlCQUFBQyxJQUFBLGNBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUFoSCxFQUFBLEtBQUE4RyxJQUFBLFNBQUFDLElBQUEsT0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQWhILEVBQUEsS0FBQThHLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FoSCxFQUFBLEtBQUE4RyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBaEgsRUFBQSxLQUFBOEcsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQWhILE1BR0F1QyxLQUFBQyxTQUFBLG1CQUFBLFdBQ0EsR0FBQXlFLEtBQ0FwQixLQUFBLFdBQ0FqRixRQUNBLEdBQUEsSUFBQSxNQUNBLEVBQUEsR0FBQSxNQUVBc0csZ0JBQUEsVUFHQXJCLEtBQUEsU0FDQWpGLFFBQ0EsR0FBQSxLQUFBLE1BQ0EsRUFBQSxHQUFBLE1BRUFzRyxnQkFBQSxZQUdBckIsS0FBQSxhQUNBakYsUUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxFQUFBLElBQUEsTUFDQSxJQUFBLEtBQUEsUUFJQWlGLEtBQUEsU0FDQWpGLFFBQ0EsR0FBQSxFQUFBLFFBSUFpRixLQUFBLE9BQ0FqRixRQUNBLElBQUEsS0FBQSxNQUlBaUYsS0FBQSxvQ0FDQWpGLFFBQ0EsR0FBQSxFQUFBLElBRUFzRyxnQkFBQSxXQUFBLGdCQUlBQyxLQUNBQyxFQUFBLFNBQUF2QixHQUNBLE1BQUFvQixHQUFBdEIsT0FBQSxTQUFBMEIsR0FDQSxNQUFBeEIsS0FBQXdCLEVBQUF4QixPQUNBLElBRUF5QixFQUFBLFNBQUExQixHQUNBLEdBQUF4RyxRQUFBNkQsVUFBQTJDLEVBQUFzQixnQkFDQSxJQUFBLEdBQUFLLEdBQUEsRUFBQUEsRUFBQTNCLEVBQUFzQixlQUFBckcsT0FBQTBHLElBQUEsQ0FDQSxHQUFBQyxHQUFBNUIsRUFBQXNCLGVBQUFLLEdBQ0FFLEVBQUFMLEVBQUFJLEVBQ0FMLEdBQUF0RixRQUFBNEYsRUFBQTVCLFNBQUEsR0FDQXlCLEVBQUFHLEVBQ0EsS0FBQSxHQUFBekcsR0FBQSxFQUFBQSxFQUFBeUcsRUFBQTdHLE1BQUFDLE9BQUFHLElBQ0E0RSxFQUFBaEYsTUFBQUwsS0FBQWtILEVBQUE3RyxNQUFBSSxJQUdBbUcsRUFBQTVHLEtBQUFxRixFQUFBQyxPQUdBNkIsRUFBQSxXQUNBLElBQUEsR0FBQS9HLEdBQUEsRUFBQUEsRUFBQXNHLEVBQUFwRyxPQUFBRixJQUFBLENBQ0EsR0FBQWlGLEdBQUFxQixFQUFBdEcsRUFDQTJHLEdBQUExQixHQUdBLE1BQUFxQixHQUVBLE9BQUFTLFNBSUFuRixLQUFBb0YsUUFBQSxrQkFBQSxVQUFBLGtCQUFBLG1CQUFBLFNBQUFDLEVBQUE1SCxFQUFBc0IsR0FFQSxHQUFBdUcsR0FBQSxTQUFBN0UsR0FDQTlDLEtBQUFnQyxPQUFBYyxHQW9DQSxPQTlCQTZFLEdBQUFDLFVBQUE1RixPQUFBLFNBQUFjLEdBQ0EsbUJBQUEsS0FBQUEsT0FJQTZFLEVBQUFDLFVBQUFDLFVBQUEsU0FBQW5ILEdBQ0EsR0FBQW9ILEtBQ0EsSUFBQXBILEVBQUFDLE9BQ0EsSUFBQSxHQUFBRixHQUFBLEVBQUFBLEVBQUFXLEVBQUFULE9BQUFGLElBQUEsQ0FHQSxJQUFBLEdBRkFzSCxHQUFBM0csRUFBQVgsR0FDQXVILEdBQUEsRUFDQUMsRUFBQSxFQUFBQSxFQUFBRixFQUFBckgsTUFBQUMsUUFBQXFILEtBQUEsRUFBQUMsSUFBQSxDQUNBLEdBQUFwQyxHQUFBa0MsRUFBQXJILE1BQUF1SCxHQUNBQyxFQUFBeEgsRUFBQW1GLEVBQUEsSUFBQSxHQUFBbkYsRUFBQW1GLEVBQUEsSUFBQSxJQUNBcUMsRUFBQXJDLEVBQUEsSUFBQXFDLEVBQUFyQyxFQUFBLE1BQ0FtQyxHQUFBLEdBR0FBLEdBQ0FGLEVBQUF6SCxLQUFBMEgsR0FNQSxNQUFBRCxJQUtBSCxJQ3RMQSxJQUFBdEYsTUFBQW5ELFFBQUFELE9BQUEsc0JBR0FvRCxNQUFBb0YsUUFBQSxXQUFBLFVBQUEsaUJBQUEsU0FBQUMsRUFBQUMsR0E2RkEsUUFBQVEsR0FBQUMsRUFBQUMsR0FVQSxJQUFBLEdBVEFGLEdBQUFySixLQUFBRSxTQUVBOEIsRUFBQTVCLFFBQUFvSixLQUFBSCxHQUFBSSxFQUFBQyxjQUFBSixFQUFBQyxHQUNBSSxFQUFBM0gsRUFBQSxHQUFBLElBSUE0SCxFQUFBLEdBQ0FDLEVBQUEsR0FDQWxJLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxJQUVBaUksR0FEQTVKLEtBQUFFLFNBQUF5SixFQUNBLElBRUEsSUFHQUUsR0FEQTdKLEtBQUFFLFNBQUF5SixFQUNBLElBRUEsR0FHQTNILEdBQUEsR0FDQUEsRUFBQSxFQWtCQSxPQWpCQUEsR0FBQSxJQUFBOEgsU0FBQUYsRUFBQSxHQUNBNUgsRUFBQSxJQUFBOEgsU0FBQUQsRUFBQSxHQWdCQTdILEVBR0EsUUFBQStILEdBQUFuSSxFQUFBcUIsR0FDQSxNQUFBK0csdUJBQUFDLEVBQUFDLEVBQUF0SSxHQUFBQSxFQUFBQyxRQUFBb0IsR0FHQSxRQUFBa0gsR0FBQXZJLEVBQUFxQixHQUNBLE1BQUErRyx1QkFBQUMsRUFBQUcsRUFBQXhJLEdBQUFBLEVBQUFDLFFBQUFvQixHQUdBLFFBQUFpSCxHQUFBdEksR0FFQSxJQUFBLEdBREF5SSxNQUNBMUksRUFBQSxFQUFBQSxFQUFBQyxFQUFBQyxPQUFBRixJQUFBLENBQ0EsR0FBQUksR0FBQUgsRUFBQUQsR0FBQSxHQUNBSyxFQUFBSixFQUFBRCxHQUFBLEdBQ0EySSxFQUFBdEssS0FBQW1ILElBQUFwRixFQUFBQyxHQUFBLEdBRUFELEdBQUFDLEVBQUFBLEVBQUEsRUFDQUQsRUFBQSxFQUNBQSxHQUFBdUksRUFDQXRJLEdBQUFzSSxFQUNBRCxFQUFBOUksTUFBQVEsRUFBQUMsRUFBQSxJQUVBLE1BQUFxSSxHQUdBLFFBQUFELEdBQUF4SSxHQUVBLElBQUEsR0FEQXlJLE1BQ0ExSSxFQUFBLEVBQUFBLEVBQUFDLEVBQUFDLE9BQUFGLElBQ0EwSSxFQUFBOUksTUFBQSxFQUFBLEVBQUFLLEVBQUFELEdBQUEsSUFFQSxPQUFBMEksR0FHQSxRQUFBSixHQUFBckksRUFBQTJJLEdBRUEsSUFBQSxHQURBRixNQUNBOUIsRUFBQSxFQUFBQSxFQUFBM0csRUFBQUMsT0FBQTBJLEVBQUFoQyxJQUFBLENBRUEsSUFBQSxHQURBaUMsTUFDQTdJLEVBQUEsRUFBQUEsRUFBQTRJLEVBQUE1SSxJQUNBNkksRUFBQWpKLEtBQUFLLEVBQUFELEVBQUE0RyxFQUFBZ0MsR0FFQUYsR0FBQTlJLEtBQUFpSixHQUVBLE1BQUFILEdBN0tBLEdBQUFoSSxHQUFBLFNBQUEyQixHQUNBOUMsS0FBQXVKLGVBQUEsR0FBQTVCLEdBQ0EzSCxLQUFBZ0MsT0FBQWMsR0FDQTlDLEtBQUFlLGdCQUdBSSxHQUFBeUcsVUFBQTVGLE9BQUEsU0FBQWMsR0FDQSxtQkFBQSxLQUFBQSxNQUNBOUMsS0FBQTZCLEdBQUFpQixFQUFBakIsSUFBQTdCLEtBQUE2QixJQUFBLEVBQ0E3QixLQUFBOEIsV0FBQWdCLEVBQUFoQixZQUFBOUIsS0FBQThCLFlBQUEsRUFDQTlCLEtBQUErQixNQUFBZSxFQUFBZixPQUFBL0IsS0FBQStCLE9BQUEsRUFDQS9CLEtBQUFVLE1BQUFvQyxFQUFBcEMsT0FBQVYsS0FBQVUsVUFDQVYsS0FBQXdKLGNBQUFYLEVBQUE3SSxLQUFBVSxNQUFBVixLQUFBK0IsT0FDQS9CLEtBQUF5SixVQUFBUixFQUFBakosS0FBQVUsTUFBQVYsS0FBQStCLE9BQ0EvQixLQUFBK0csT0FBQS9HLEtBQUF1SixlQUFBMUIsVUFBQTdILEtBQUFVLFFBRUFTLEVBQUF5RyxVQUFBMUQsTUFBQSxTQUFBd0YsRUFBQUMsR0FRQSxJQUFBLEdBUEFDLEdBQUE1SixLQUNBNkosRUFBQUgsRUFDQXJGLEVBQUEsR0FBQWxELElBQ0FVLEdBQUE4SCxFQUNBN0gsV0FBQThILEVBQUE5SCxXQUFBLEVBQ0FwQixXQUVBSSxFQUFBLEVBQUFBLEVBQUE4SSxFQUFBbEosTUFBQUMsT0FBQUcsSUFBQSxDQUNBLEdBQUFnSixHQUFBRixFQUFBbEosTUFBQUksR0FDQWlKLEVBQUFGLEVBQUFuSixNQUFBSSxFQUNBdUQsR0FBQTNELE1BQUFMLEtBQUE4SCxFQUFBMkIsRUFBQUMsSUFHQSxNQURBMUYsR0FBQXJDLFFBQUFELE1BQUEsSUFDQXNDLEdBRUFsRCxFQUFBeUcsVUFBQUMsVUFBQSxXQUNBLE1BQUE3SCxNQUFBK0csUUFFQTVGLEVBQUF5RyxVQUFBeEMsU0FBQSxTQUFBTSxHQUNBLEdBQUF5RCxHQUFBbkosS0FBQStHLE9BQUF0QixPQUFBLFNBQUF1RSxHQUNBLE1BQUFBLEdBQUFyRSxPQUFBRCxJQUNBL0UsTUFDQSxPQUFBd0ksR0FBQSxHQUVBaEksRUFBQXlHLFVBQUE3RyxjQUFBLFdBQ0FmLEtBQUEyRixLQUFBM0YsS0FBQWlLLGlCQUVBOUksRUFBQXlHLFVBQUFxQyxjQUFBLFdBQ0EsSUFBQWpLLEtBQUFVLE9BQUEsR0FBQVYsS0FBQVUsTUFBQUMsT0FDQSxNQUFBLGdCQUdBLElBQUF1SixHQUFBbEssS0FBQW9GLFNBQUEsUUFDQStFLEVBQUF4TCxzQkFBQSxFQUFBd0wsRUFBQXhKLE9BQUEsSUFDQXlKLEVBQUF6TCxzQkFBQSxFQUFBeUwsRUFBQXpKLE9BQUEsSUFFQTBKLEVBQUFDLEVBQUEzTCxzQkFBQSxFQUFBMkwsRUFBQTNKLE9BQUEsSUFDQTRKLEVBQUE1TCxzQkFBQSxFQUFBNEwsRUFBQTVKLE9BQUEsSUFDQTZKLEVBQUE3TCxzQkFBQSxFQUFBNkwsRUFBQTdKLE9BQUEsR0FFQSxPQUFBdUosR0FBQUcsRUFNQSxJQUFBOUIsSUFDQUMsY0FBQSxJQU9BMkIsR0FBQSxTQUFBLFFBQUEsUUFBQSxTQUFBLFFBQUEsT0FBQSxXQUFBLFFBRUFDLEdBQUEsU0FBQSxTQUFBLFNBQUEsVUFBQSxPQUFBLFVBQUEsU0FBQSxVQUVBRSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxPQUFBLE9BQUEsS0FBQSxLQUFBLE1BRUFDLEdBQUEsT0FBQSxPQUFBLE9BQUEsTUFBQSxPQUFBLFFBRUFDLEdBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLFNBQUEsV0FBQSxRQUFBLFFBQUEsTUFpR0EsT0FBQXJKLE1DeExBLFNBQUFsQyxHQUNBLElBQ0FBLEVBQUFDLFFBQUFELE9BQUEsdUJBQ0EsTUFBQUUsR0FDQUYsRUFBQUMsUUFBQUQsT0FBQSwwQkFFQUEsRUFBQUcsS0FBQSxpQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxJQUFBLDZDQUNBLDJyQ0NSQSxTQUFBbUwsR0FDQUEsRUFBQSxXQUNBQSxFQUFBLFFBQUFDLFNBQ0FDLFNBQUEscUJBR0FDLFFBR0ExTCxRQUFBRCxPQUFBLHVCQUFBLGNBQ0E2RCxRQUFBLGlCQUFBLHFCQUFBLG9CQUNBLFNBQUErSCxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLElBQ0EsSUFBQUMsS0FDQUEsR0FBQTVLLE1BQ0FzRixLQUFBLE9BQ0F1RixJQUFBLElBQ0F6TCxZQUFBLHlCQUdBd0wsRUFBQTVLLE1BQ0FzRixLQUFBLFlBQ0F1RixJQUFBLFVBQ0ExTCxVQUFBLGlDQUdBeUwsRUFBQTVLLE1BQ0FzRixLQUFBLFlBQ0F1RixJQUFBLE9BQ0ExTCxVQUFBLHNDQUlBeUwsRUFBQUUsUUFBQSxTQUFBQyxHQUNBUCxFQUFBTyxNQUFBQSxLQUdBTCxFQUFBTSxXQUFBLE1BRUFqTSxLQUFBLGNBQUEsU0FBQThCLEdBQ0FBLEVBQUEyQixVQ1RBLFdBRUEsUUFBQXlJLEdBQUFyRyxFQUFBc0csR0FXQSxJQUZBLEdBQUFwQyxNQUVBb0MsRUFBQSxFQUFBQSxJQUNBcEMsRUFBQTlJLEtBQUFtTCxPQUFBQyxhQUFBLElBQUF4RyxJQUNBQSxJQUFBLENBR0EsT0FBQWtFLEdBQUF1QyxLQUFBLElBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FVQSxJQVJBLEdBQUFwTCxHQUVBNEcsRUFFQXlFLEVBSEFDLEVBQUFILEVBQUFqTCxPQUVBcUwsRUFBQUQsRUFBQUgsRUFBQSxHQUFBakwsT0FBQSxFQUVBc0wsRUFBQSxHQUNBOUMsS0FFQTBDLEVBQUEsRUFBQUEsSUFDQUksR0FBQSxJQUdBLEtBQUF4TCxFQUFBLEVBQUFBLEVBQUFzTCxFQUFBdEwsSUFBQSxDQUNBLElBQUE0RyxFQUFBLEVBQUFBLEVBQUEyRSxFQUFBM0UsSUFDQXlFLEVBQUFGLEVBQUFuTCxHQUFBNEcsR0FDQThCLEVBQUE5SSxLQUFBbUwsT0FBQUMsYUFBQUssRUFBQSxJQUNBTixPQUFBQyxhQUFBSyxFQUFBLElBQ0FOLE9BQUFDLGFBQUFLLEVBQUEsSUFFQTNDLEdBQUE5SSxLQUFBNEwsR0FHQSxNQUFBOUMsR0FBQXVDLEtBQUEsSUFHQSxRQUFBUSxHQUFBTixFQUFBN0osR0FFQSxHQUtBb0ssR0FBQUMsRUFBQUMsRUFMQUMsRUFBQVYsRUFBQWpMLE9BQ0E0TCxFQUFBM0QsU0FBQTBELEVBQUF2SyxHQUNBeUssRUFBQUYsRUFBQVYsRUFBQSxHQUFBakwsT0FBQSxFQUNBOEwsRUFBQTdELFNBQUE0RCxFQUFBekssR0FDQTJLLElBR0EsS0FBQUwsRUFBQSxFQUFBQSxFQUFBRSxFQUFBRixJQUVBLElBREFLLEVBQUFyTSxLQUFBOEwsTUFDQUMsRUFBQSxFQUFBQSxFQUFBSyxFQUFBTCxJQUNBRCxFQUFBOUwsS0FBQXVMLEVBQUFoRCxTQUFBeUQsRUFBQXRLLElBQUE2RyxTQUFBd0QsRUFBQXJLLElBR0EsT0FBQTJLLEdBR0FDLE9BQUE3RCxzQkFBQSxTQUFBOEMsRUFBQTdKLEdBS0EsSUFBQTRLLE9BQUFDLEtBRUEsTUFEQUMsT0FBQSwyRUFDQSxDQUdBOUssR0FBQUEsR0FBQSxFQUNBLEdBQUFBLElBQ0E2SixFQUFBTSxFQUFBTixFQUFBN0osR0FHQSxJQUtBK0ssR0FMQUMsRUFBQW5CLEVBQUFqTCxPQUNBcU0sRUFBQUQsRUFBQW5CLEVBQUEsR0FBQWpMLE9BQUEsRUFDQWtMLEdBQUEsRUFBQSxFQUFBbUIsRUFBQSxHQUFBLEVBQ0FDLEdBQUEsRUFBQUQsRUFBQW5CLEdBQUFrQixFQUNBRyxFQUFBLEdBQUFELENBNkJBLE9BMUJBRixHQUFBekIsRUFBQXlCLEVBQUEsR0FDQUMsRUFBQTFCLEVBQUEwQixFQUFBLEdBQ0FDLEVBQUEzQixFQUFBMkIsRUFBQSxHQUNBQyxFQUFBNUIsRUFBQTRCLEVBQUEsR0FJQUosRUFBQSxLQUNBSSxFQUNBLDJCQUlBRixFQUNBRCxFQUNBLGlCQUdBRSxFQUNBLGlDQUlBdEIsRUFBQUMsRUFBQUMsR0FHQSx5QkFBQWUsS0FBQUUsT0FXQSxTQUFBSCxFQUFBUSxFQUFBQyxHQUlBLFFBQUFDLEdBQUFDLEdBR0EseUJBQUFDLEtBQUFELEdBQ0FFLEVBQUEsU0FBQXBCLEdBQ0FBLEVBQUFBLEVBQUFxQixNQUFBLEtBQ0FyQixFQUFBLEdBQUFBLEVBQUEsR0FBQXNCLE9BQUEsRUFDQSxLQUFBLEdBQUFqTixHQUFBLEVBQUFBLEVBQUEsRUFBQUEsSUFDQTJMLEVBQUEzTCxHQUFBbUksU0FBQXdELEVBQUEzTCxHQUVBLE9BQUEyTCxJQUVBLEtBQUFrQixFQUFBSyxVQUFBLEVBQUEsR0FDQUgsRUFBQSxTQUFBcEIsR0FDQUEsRUFBQUEsRUFBQXVCLFVBQUEsRUFDQSxJQUFBbE4sR0FBQSxFQUNBbU4sRUFBQXhCLEVBQUF6TCxPQUNBd0ksSUFDQSxJQUFBLEdBQUF5RSxFQUNBLEtBQUFuTixFQUFBbU4sRUFBQW5OLElBQ0EwSSxFQUFBOUksS0FBQXVJLFNBQUEsS0FBQXdELEVBQUF1QixVQUFBbE4sRUFBQUEsRUFBQSxHQUFBMkwsRUFBQXVCLFVBQUFsTixFQUFBQSxFQUFBLFNBR0EsTUFBQUEsRUFBQW1OLEVBQUFuTixHQUFBLEVBQ0EwSSxFQUFBOUksS0FBQXVJLFNBQUEsS0FBQXdELEVBQUF1QixVQUFBbE4sRUFBQUEsRUFBQSxJQUdBLE9BQUEwSSxJQUdBMEQsTUFBQSxzQkFBQVMsR0FJQSxRQUFBTyxHQUFBaE0sR0FDQSxHQUFBeUwsR0FBQUgsRUFBQVcsZUFBQWpNLEdBQUFrTSxNQUFBQyxlQUNBLE9BQUEsS0FBQVYsR0FBQSxJQUFBLElBQUEsTUFDQUUsSUFBQUosR0FDQUMsRUFBQUMsR0FFQUUsRUFBQUYsSUExQ0EsR0FBQUUsRUE2Q0FiLEdBQUFzQixxQkFBQSxTQUFBbE0sR0FJQUEsRUFBQUEsR0FBQSxFQVdBLEtBVEEsR0FBQXFLLEdBSUE5QyxFQUNBNEUsRUFDQUMsRUFDQUMsRUFOQUMsRUFBQSxHQUNBaEMsRUFBQSxHQUNBVCxLQU1BUyxHQUFBLEVBQUFBLElBRUEsSUFEQVQsRUFBQXZMLEtBQUFpSixNQUNBOEMsRUFBQSxFQUFBQSxFQUFBaUMsRUFBQWpDLElBQ0E5QyxFQUFBakosS0FBQXdOLEVBQUF6QixFQUFBLElBQUFDLEdBNkJBLE9BbEJBOEIsR0FBQWhCLEVBQUFtQixjQUFBLE9BQ0FGLEVBQUF6QixFQUFBN0Qsc0JBQUE4QyxFQUFBN0osR0FDQW9NLEVBQUFDLElBQUFBLEVBQ0FELEVBQUFJLElBQUEsaUdBQ0FKLEVBQUFLLE1BQUEsNEdBQ0FOLEVBQUFmLEVBQUFXLGVBQUEsT0FDQSxPQUFBSSxJQUNBQSxFQUFBZixFQUFBbUIsY0FBQSxPQUNBSixFQUFBck0sR0FBQSxNQUNBc0wsRUFBQVcsZUFBQSxRQUFBVyxZQUFBUCxJQUVBQSxFQUFBUSxVQUFBLDJGQUNBUixFQUFBUyxxQkFBQSxLQUFBLEdBQUFDLFFBQUEsV0FDQSxHQUFBVixHQUFBZixFQUFBVyxlQUFBLE1BRUEsT0FEQUksR0FBQVcsV0FBQUMsWUFBQVosSUFDQSxHQUVBQSxFQUFBTyxZQUFBTixJQUNBLEdBR0F4QixFQUFBc0IscUJBQUFjLFdBQUEsV0FDQSxHQUFBaE4sR0FBQWlOLE9BQUEsbUhBQ0EsSUFBQWpOLEVBQUEsQ0FDQSxJQUNBQSxFQUFBa04sV0FBQWxOLEdBQ0EsTUFBQXFLLEdBQ0FySyxFQUFBbU4sSUFFQUMsTUFBQXBOLEdBQ0E4SyxNQUFBLDBCQUVBOUssRUFBQSxHQUFBQSxFQUNBNEssRUFBQXNCLHFCQUFBbE0sSUFHQSxPQUFBLElBRUEvQixLQUFBQSxLQUFBbU4sVUM5UUEsU0FBQWxPLEdBQ0EsSUFDQUEsRUFBQUMsUUFBQUQsT0FBQSx1QkFDQSxNQUFBRSxHQUNBRixFQUFBQyxRQUFBRCxPQUFBLDBCQUVBQSxFQUFBRyxLQUFBLGlCQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLElBQUEsb0NBQ0EscTRDQ1JBLFNBQUFMLEdBQ0EsSUFDQUEsRUFBQUMsUUFBQUQsT0FBQSx1QkFDQSxNQUFBRSxHQUNBRixFQUFBQyxRQUFBRCxPQUFBLDBCQUVBQSxFQUFBRyxLQUFBLGlCQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLElBQUEsdUJBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmZ1bmN0aW9uIHJhbmRvbUludEZyb21JbnRlcnZhbChtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbn1cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICAgICAgUEFVU0VEOiAwLFxyXG4gICAgICAgIFJVTk5JTkc6IDFcclxufSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2dhbWVTZXJ2aWNlJywgW1xyXG4gICAgJyR3aW5kb3cnLCAnJHJvb3RTY29wZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICdnYW1lU3RhdGVzJywgJ3RyYWl0RGVmaW5pdGlvbnMnLFxyXG4gICAgZnVuY3Rpb24oJHdpbmRvdywgJHJvb3RTY29wZSwgQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCBnYW1lU3RhdGVzLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGNvbmZpZykpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHNlbGYuc3RlcFRpbWVNcyA9IGNvbmZpZy5zdGVwVGltZU1zIHx8IDUwMDA7XHJcbiAgICAgICAgc2VsZi5sYXN0VGltZSA9IDA7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJzID0gW107XHJcbiAgICAgICAgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBbXTtcclxuICAgICAgICBzZWxmLmRpZ2dlckFuY2VzdG9ycyA9IFtdO1xyXG4gICAgICAgIHNlbGYubWF4T2Zmc3ByaW5nID0gY29uZmlnLm1heE9mZnNwcmluZyB8fCAzMDtcclxuICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUlVOTklORztcclxuXHJcbiAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCAyOyBkKyspIHtcclxuICAgICAgICAgICAgdmFyIGRpZ2dlciA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBkLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiA2LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBnZW5lRGVmaW5pdGlvbnMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lcy5wdXNoKFtcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgNSxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLypkaWdnZXIuZ2VuZXNbMF0gPSBbMCwgMjAwLCAxMF07XHJcbiAgICAgICAgICAgICAgICBkaWdnZXIuZ2VuZXNbMl0gPSBbMCwgMjAwLCAxMF07XHJcbiAgICAgICAgICAgICAgICBkaWdnZXIuZ2VuZXNbNF0gPSBbMCwgMjAwLCAxMF07XHJcbiAgICAgICAgICAgICAgICBkaWdnZXIuZ2VuZXNbNV0gPSBbMCwgMjAwLCAxMF07XHJcbmRpZ2dlci5nZW5lc1sxNF0gPSBbMTUwLCAwLCAxMF07Ki9cclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1s0Ml0gPSBbMjU1LCAwLCAwXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZCA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgIC8qIGRpZ2dlci5nZW5lc1swXSA9IFsxNTAsIDAsIDEwXTtcclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1s0XSA9IFswLCAyMDAsIDEwXTtcclxuZGlnZ2VyLmdlbmVzWzVdID0gWzAsIDIwMCwgMTBdOyovXHJcbiAgICAgICAgICAgICAgICBkaWdnZXIuZ2VuZXNbNDJdID0gWzAsIDI1NSwgMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlnZ2VyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBzZWxmLmRpZ2dlcnMucHVzaChkaWdnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGJlIGFibGUgdG8gcGF1c2UgdGhpcywgaXQga2VlcHNcclxuICAgICAgICAvLyBsb2NraW5nIHVwIG15IGJyb3dzZXIgaWYgaSBsZWF2ZSBpdCBvcGVuXHJcbiAgICAgICAgc2VsZi5nYW1lTG9vcCgwKTtcclxuICAgIH07XHJcbiAgICBzZWxmLlN1YnNjcmliZUJyZWVkRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdicmVlZEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIHNlbGYuU3Vic2NyaWJlTmV3R2VuZXJhdGlvbkV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignbmV3R2VuZXJhdGlvbkV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgIH07XHJcbiAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudFN0YXRlO1xyXG4gICAgfTtcclxuICAgIHNlbGYuc2V0U3RhdGUgPSBmdW5jdGlvbihuZXdTdGF0ZSkge1xyXG4gICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5icmVlZCA9IGZ1bmN0aW9uKHN0ZXBzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgbG9vcHMgPSAwOyBsb29wcyA8IHN0ZXBzOyBsb29wcysrKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmRpZ2dlck9mZnNwcmluZy5sZW5ndGggPCBzZWxmLm1heE9mZnNwcmluZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gc2VsZi5kaWdnZXJzWzBdLmJyZWVkKHNlbGYuZGlnZ2Vyc1sxXSwgc2VsZi5kaWdnZXJPZmZzcHJpbmcubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuZGlnZ2VyT2Zmc3ByaW5nLnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnYnJlZWRFdmVudCcsIHNlbGYuZGlnZ2VyT2Zmc3ByaW5nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGYubmV4dEdlbmVyYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld0dlbmVyYXRpb25FdmVudCcsIHsgQW5jZXN0b3JzOiBzZWxmLmRpZ2dlckFuY2VzdG9ycywgRGlnZ2Vyczogc2VsZi5kaWdnZXJzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLm5leHRHZW5lcmF0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJBbmNlc3RvcnMucHVzaChzZWxmLmRpZ2dlcnMpO1xyXG4gICAgICAgIGlmIChzZWxmLmRpZ2dlckFuY2VzdG9ycy5sZW5ndGggPiBzZWxmLm1heE9mZnNwcmluZykgc2VsZi5kaWdnZXJBbmNlc3RvcnMgPSBzZWxmLmRpZ2dlckFuY2VzdG9ycy5zbGljZSgxKTtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMgPSBbXTtcclxuICAgICAgICB2YXIgbmV3UGFyZW50cyA9IHNlbGYuZGV0ZXJtaW5lTmV4dFBhcmVudHMoc2VsZi5hZ2dyZXNzaXZlKTtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMucHVzaChuZXdQYXJlbnRzWzBdKTtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMucHVzaChuZXdQYXJlbnRzWzFdKTtcclxuICAgICAgICBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IFtdO1xyXG4gICAgfTtcclxuICAgIHNlbGYuZGV0ZXJtaW5lTmV4dFBhcmVudHMgPSBmdW5jdGlvbihmaXRuZXNzRnVuYykge1xyXG4gICAgICAgIHZhciBudW1nZW5lcyA9IHNlbGYuZGlnZ2VyT2Zmc3ByaW5nWzBdLmdlbmVzLmxlbmd0aDtcclxuICAgICAgICB2YXIgZml0TWFsZSA9IHtcclxuICAgICAgICAgICAgICAgIGluZGV4OiAtMSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiAtMjU1ICogbnVtZ2VuZXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZml0RmVtYWxlID0ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IC0xLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IC0yNTUgKiBudW1nZW5lc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5kaWdnZXJPZmZzcHJpbmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGRpZ2dlciA9IHNlbGYuZGlnZ2VyT2Zmc3ByaW5nW2ldO1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gZml0bmVzc0Z1bmMoZGlnZ2VyKTtcclxuICAgICAgICAgICAgaWYgKGRpZ2dlci5oYXNUcmFpdCgnTWFsZScpICYmIGZpdE1hbGUudmFsdWUgPCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGZpdE1hbGUuaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgZml0TWFsZS52YWx1ZSA9IHZhbDsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlnZ2VyLmhhc1RyYWl0KCdGZW1hbGUnKSAmJiBmaXRGZW1hbGUudmFsdWUgPCB2YWwpIHtcclxuICAgICAgICAgICAgICAgIGZpdEZlbWFsZS5pbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBmaXRGZW1hbGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5kaWdnZXJPZmZzcHJpbmdbZml0TWFsZS5pbmRleF0udXBkYXRlKHsgc2NhbGU6IDYgfSk7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJPZmZzcHJpbmdbZml0RmVtYWxlLmluZGV4XS51cGRhdGUoeyBzY2FsZTogNiB9KTtcclxuICAgICAgICByZXR1cm4gW3NlbGYuZGlnZ2VyT2Zmc3ByaW5nW2ZpdE1hbGUuaW5kZXhdLCBzZWxmLmRpZ2dlck9mZnNwcmluZ1tmaXRGZW1hbGUuaW5kZXhdXTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5ncmVlbkZpdG5lc3MgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICB2YXIgbnVtZ2VuZXMgPSBkaWdnZXIuZ2VuZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciB2YWwgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgbnVtZ2VuZXM7IGcrKylcclxuICAgICAgICAgICAgdmFsICs9IGRpZ2dlci5nZW5lc1tnXVsxXSAtIGRpZ2dlci5nZW5lc1tnXVswXTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnJlZEZpdG5lc3MgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICB2YXIgbnVtZ2VuZXMgPSBkaWdnZXIuZ2VuZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciB2YWwgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgbnVtZ2VuZXM7IGcrKylcclxuICAgICAgICAgICAgdmFsICs9IGRpZ2dlci5nZW5lc1tnXVswXSAtIGRpZ2dlci5nZW5lc1tnXVsxXTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmJsdWVGaXRuZXNzID0gZnVuY3Rpb24oZGlnZ2VyKSB7XHJcbiAgICAgICAgdmFyIG51bWdlbmVzID0gZGlnZ2VyLmdlbmVzLmxlbmd0aDtcclxuICAgICAgICB2YXIgdmFsID0gMDtcclxuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IG51bWdlbmVzOyBnKyspXHJcbiAgICAgICAgICAgIHZhbCArPSBkaWdnZXIuZ2VuZXNbZ11bMl07XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH07XHJcbiAgICBzZWxmLmFnZ3Jlc3NpdmUgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICB2YXIgdHJhaXREZWZpbml0aW9uID0gdHJhaXREZWZpbml0aW9ucy5maWx0ZXIoZnVuY3Rpb24odHJhaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYWl0Lm5hbWUgPT09J0FnZ3Jlc3NpdmUnO1xyXG4gICAgICAgIH0pWzBdO1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZi50cmFpdEZpdG5lc3MoZGlnZ2VyLCB0cmFpdERlZmluaXRpb24pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMSwgdGhlIGhpZ2hlciB0aGUgYmV0dGVyLiBJZiBpdHMgbm90IHBvc3NpYmxlXHJcbiAgICAvLyBmb3IgdGhlIGRpZ2dlciB0byBldmVyIGhhdmUgdGhpcyB0cmFpdCwgaXQgd2lsbCByZXR1cm4gLTEuXHJcbiAgICBzZWxmLnRyYWl0Rml0bmVzcyA9IGZ1bmN0aW9uKGRpZ2dlciwgdHJhaXREZWZpbml0aW9uKSB7XHJcbiAgICAgICAgdmFyIG51bWdlbmVzID0gdHJhaXREZWZpbml0aW9uLmdlbmVzLmxlbmd0aDtcclxuICAgICAgICB2YXIgdmFsID0gMTsgLy8gdGhlIGludmVyc2Ugb2YgdGhpcyB3aWxsIGJlIHJldHVybmVkXHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBudW1nZW5lczsgZysrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZGcgPSB0cmFpdERlZmluaXRpb24uZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIHZhciBkZyA9IGRpZ2dlci5nZW5lc1t0ZGdbMF1dO1xyXG4gICAgICAgICAgICB2YXIgZGd2YWwgPSBkZ1sxXSAtIGRnWzBdO1xyXG4gICAgICAgICAgICB2YXIgdGR2YWwgPSAodGRnWzJdICsgdGRnWzFdKS8yO1xyXG4gICAgICAgICAgICBpZiAoZGdbMF0gPT09IDAgJiYgZGdbMV0gPT09IDAgJiYgZGdbMl0gPT09IDApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7IC8vIHNob290aW4gYmxhbmtzIGZvciBvbmUgb2YgdGhlIGdlbmVzIG5lY2Vzc2FyeSBmb3IgdGhlIHRyYWl0XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBiZXN0IGNhc3Qgc2NlbmFyaW8gaXMgd2hlbiB0aGUgZGlnZ2VycyBnZW5lIGlzIGF0IHRoZSBleGFjdCBtZWRpYW4gb2YgdGhlIHJhbmdlXHJcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0aGUgdHJhaXQsIHNpbmNlIHZhbCB3b3VsZCByZW1haW4gdGhlIHNhbWUsIG1ha2luZyB0aGVtIG1vcmUgZml0XHJcbiAgICAgICAgICAgIGlmIChkZ3ZhbCAhPSB0ZHZhbClcclxuICAgICAgICAgICAgICAgIHZhbCAqPSBNYXRoLmFicyhkZ3ZhbCAtIHRkdmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICAxIC8gdmFsO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG4gICAgc2VsZi5nYW1lTG9vcCA9IGZ1bmN0aW9uKHN0ZXApIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHN0ZXBzID0gMDsgICAgICAgIFxyXG4gICAgICAgIHdoaWxlIChzZWxmLmxhc3RUaW1lICsgc3RlcCA+IChzZWxmLnN0ZXBUaW1lTXMgKiAoc3RlcHMgKyAxKSkpIHtcclxuICAgICAgICAgICAgc3RlcHMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5sYXN0VGltZSA9IChzZWxmLmxhc3RUaW1lIC0gKHNlbGYuc3RlcFRpbWVNcyAqIHN0ZXBzKSk7XHJcbiAgICAgICAgaWYoc2VsZi5jdXJyZW50U3RhdGUgPT0gZ2FtZVN0YXRlcy5SVU5OSU5HKSB7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWQoc3RlcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wLmJpbmQodGhpcykpO1xyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXY+PHVsIGNsYXNzPVwibmF2IG5hdi10YWJzXCIgcm9sZT1cInRhYmxpc3RcIj48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiIGNsYXNzPVwiYWN0aXZlXCI+PGEgZGF0YS10YXJnZXQ9XCIjYnJlZWRlcnNcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5CcmVlZGVyczwvYT48L2xpPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCI+PGEgZGF0YS10YXJnZXQ9XCIjb3RoZXJcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5PdGhlcjwvYT48L2xpPjwvdWw+PGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCI+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lIGFjdGl2ZVwiIGlkPVwiYnJlZWRlcnNcIj48ZmllbGRzZXQ+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNFwiIG5nLXJlcGVhdD1cImRpZ2dlciBpbiAkY3RybC5kaWdnZXJzXCI+PGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGdyZXlcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCIkY3RybC5raWxsQnJlZWRlcihkaWdnZXIpXCI+PHNwYW4+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj48Z2Vub21lLWVkaXRvciB1bml0PVwiZGlnZ2VyXCIgdXBkYXRlLWdlbmU9XCIkY3RybC51cGRhdGVHZW5lKCRpbmRleCwgJGdlbmVJbmRleCwgJHZhbHVlcylcIj48L2dlbm9tZS1lZGl0b3I+PC9kaXY+PC9kaXY+PC9kaXY+PC9maWVsZHNldD48L2Rpdj48ZGl2IHJvbGU9XCJ0YWJwYW5lbFwiIGNsYXNzPVwidGFiLXBhbmVcIiBpZD1cIm90aGVyXCI+PGRpdiBjbGFzcz1cIndlbGxcIj48aDM+Tm90aGluZyB0byBzZWUgaGVyZS4uLi48L2gzPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2dlbm9tZUVkaXRvcicse1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPCcsXHJcbiAgICAgICAgdXBkYXRlR2VuZTogJyYnXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbihnZW5lRGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlcy5wdXNoKHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkpO1xyXG4gICAgICAgICAgICBuZXdWYWx1ZXMucHVzaChyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpKTtcclxuICAgICAgICAgICAgbmV3VmFsdWVzLnB1c2gocmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSk7XHJcbiAgICAgICAgICAgIHNlbGYudXBkYXRlR2VuZSh7JGdlbmVJbmRleDogaW5kZXgsICR2YWx1ZXM6IG5ld1ZhbHVlc30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemVBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLnVuaXQuZ2VuZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJhbmRvbWl6ZShpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBnZW5kZXIgPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwxKSA9PSAwID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgICAgIHZhciByID0gKGdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgdmFyIGcgPSAoZ2VuZGVyID09ICdNYWxlJykgPyAwIDogMjU1O1xyXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZUdlbmUoeyRnZW5lSW5kZXg6IDQyLCAkdmFsdWVzOiBbcixnLDBdfSk7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5zZXRSYW5kb21OYW1lKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnXHJcbiAgXHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHNlbGYubGFzdEJyZWVkZXJJRCA9IDA7XHJcbiAgICBzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPSAnTWFsZSc7XHJcbiAgICBcclxuICAgIHNlbGYua2lsbEJyZWVkZXIgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMuc3BsaWNlKHNlbGYuZGlnZ2Vycy5pbmRleE9mKGRpZ2dlciksIDEpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgc2VsZi5hZGROZXdCcmVlZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBnZW5lRGVmaW5pdGlvbnMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgZ2VuZXMucHVzaChbMCwwLDBdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciByID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICB2YXIgZyA9IChzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPT0gJ01hbGUnKSA/IDAgOiAyNTU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2VuZXNbNDJdWzBdID0gcjtcclxuICAgICAgICBnZW5lc1s0Ml1bMV0gPSBnO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGRpZ2dlciA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgaWQ6IHNlbGYubGFzdEJyZWVkZXJJRCsrLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogNixcclxuICAgICAgICAgICAgZ2VuZXM6IGdlbmVzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMudW5zaGlmdChkaWdnZXIpO1xyXG4gICAgICAgIFxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgc2VsZi50cmFpdERlZmluaXRpb25zID0gdHJhaXREZWZpbml0aW9ucztcclxuICAgICAgICAvL3NlbGYuZGlnZ2VycyA9IGdhbWVTZXJ2aWNlLmRpZ2dlcnM7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJzID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVCcmVlZEV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIG9mZnNwcmluZykge1xyXG4gICAgICAgIC8vICAgIC8vJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBvZmZzcHJpbmc7IH0pO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgIC8vICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICAgIHNlbGYuZGlnZ2VycyA9IGRhdGEuRGlnZ2VycztcclxuICAgICAgICAvLyAgICAgICAgLy9zZWxmLmRpZ2dlckFuY2VzdG9ycyA9IGRhdGEuQW5jZXN0b3JzO1xyXG4gICAgICAgIC8vICAgIH0pO1xyXG4gICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGRpZ2dlckluZGV4LCBnZW5lSW5kZXgsIHZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgZGlnZ2VyID0gc2VsZi5kaWdnZXJzW2RpZ2dlckluZGV4XTtcclxuICAgICAgICAgICAgZGlnZ2VyLmdlbmVzW2dlbmVJbmRleF0gPSB2YWx1ZXM7XHJcbiAgICAgICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLm1haW5HYW1lJ1xyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZScsIFsnJHNjb3BlJywgJyR0aW1lb3V0JywgJ2dhbWVTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaGVsbG9UZXh0ID0gXCJIZWxsbyBtYWluIGdhbWVcIjtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMgPSBnYW1lU2VydmljZS5kaWdnZXJzO1xyXG4gICAgICAgIHNlbGYuZGlnZ2VyT2Zmc3ByaW5nID0gW107XHJcbiAgICAgICAgc2VsZi5kaWdnZXJBbmNlc3RvcnMgPSBbXTtcclxuXHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuU3Vic2NyaWJlQnJlZWRFdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBvZmZzcHJpbmcpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBvZmZzcHJpbmc7IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdhbWVTZXJ2aWNlLlN1YnNjcmliZU5ld0dlbmVyYXRpb25FdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRpZ2dlcnMgPSBkYXRhLkRpZ2dlcnM7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmRpZ2dlckFuY2VzdG9ycyA9IGRhdGEuQW5jZXN0b3JzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2dhbWVDb250cm9sJywge1xyXG4gICAgdGVtcGxhdGU6ICc8ZGl2PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyXCIgbmctY2xpY2s9XCIkY3RybC50b2dnbGVTdGF0ZSgpO1wiPjxpIGNsYXNzPVwiZmFcIiBuZy1jbGFzcz1cIiRjdHJsLmdldEljb24oKVwiPjwvaT48L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgY29udHJvbGxlcjogWydnYW1lU2VydmljZScsICdnYW1lU3RhdGVzJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UsIGdhbWVTdGF0ZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVNlcnZpY2UuZ2V0U3RhdGUoKTsgICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudG9nZ2xlU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSAoc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/IGdhbWVTdGF0ZXMuUEFVU0VEIDogZ2FtZVN0YXRlcy5SVU5OSU5HKTtcclxuICAgICAgICAgICAgZ2FtZVNlcnZpY2Uuc2V0U3RhdGUoc2VsZi5jdXJyZW50U3RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmN1cnJlbnRTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5SVU5OSU5HID8gJ2ZhLXBhdXNlJyA6ICdmYS1wbGF5JztcclxuICAgICAgICB9O1xyXG4gICAgfV1cclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2dlbmVEZWZpbml0aW9ucycsIChmdW5jdGlvbigpIHtcclxuICAgIHZhciBnZW5lRGVmaW5pdGlvbnMgPSBbXTtcclxuICAgIC8vZ2VuZSA6cixnLGIgcjpyZWNlc3NpdmUsIGc6ZG9taW5hbnQsIGI6bXV0YXRpb25yYXRlXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMF0gPSB7IGRvbTogJ0Jyb2FkIFNob3VsZGVycycsIHJlYzogJ1NsZW5kZXIgU2hvdWxkZXJzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzFdID0geyBkb206ICdUaGljayBTa3VsbCcsIHJlYzogJ1NvZnQgU2t1bGwnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMl0gPSB7IGRvbTogJ0xhcmdlIEFybXMnLCByZWM6ICdTbWFsbCBBcm1zJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzNdID0geyBkb206ICdMYXJnZSBMZWdzJywgcmVjOiAnU21hbGwgTGVncycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0XSA9IHsgZG9tOiAnQmlnIENoZXN0JywgcmVjOiAnV2VhayBDaGVzdCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s1XSA9IHsgZG9tOiAnVG91Z2ggSmF3JywgcmVjOiAnV2VhayBKYXcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNl0gPSB7IGRvbTogJ09hZmlzaCcsIHJlYzogJ01vdXNleScsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTRdID0geyBkb206ICdDYWxjdWxhdGVkIERlY2lzaW9ucycsIHJlYzogJ1JlY2tsZXNzJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE1XSA9IHsgZG9tOiAnTGF0ZXJhbCBUaGlua2VyJywgcmVjOiAnU2luZ2xlIE1pbmRlZCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNl0gPSB7IGRvbTogJ1F1aWNrIExlYXJuZXInLCByZWM6ICdGb3JnZXRmdWwnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMThdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzI4XSA9IHsgZG9tOiAnRnVsbCBMaXBzJywgcmVjOiAnVGhpbiBMaXBzJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI5XSA9IHsgZG9tOiAnRGFyayBTa2luJywgcmVjOiAnRmFpciBTa2luJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMwXSA9IHsgZG9tOiAnRWxvcXVlbnQnLCByZWM6ICdDYXRhdG9uaWMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzFdID0geyBkb206ICdQb3dlcmZ1bCBWb2ljZScsIHJlYzogJ1F1aWV0IFZvaWNlJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQxXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Ml0gPSB7IGRvbTogJ0ZlbWFsZScsIHJlYzogJ01hbGUnLCBhdHRyOiBbJ0xDSyddfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0M10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0NV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Nl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0N10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0OV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuXHJcbiAgICByZXR1cm4gZ2VuZURlZmluaXRpb25zO1xyXG59KSgpKTtcclxuXHJcbmdhbWUuY29uc3RhbnQoJ3RyYWl0RGVmaW5pdGlvbnMnLCAoZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdHJhaXRzID0gW3tcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAyMDBdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDUwLCAyNTVdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ01hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnUHJldHR5JyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAtMjAwLCAtMTAwXSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMCwgMjQwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydGZW1hbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnQWdncmVzc2l2ZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzIsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs0LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNSwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzE0LCAtMjU1LCAtMTUwXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdGZW1hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAwLCAyNTVdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ01hbGUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzQyLCAtMjU1LCAtMV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUgQWdncmVzc2l2ZSBhbmQgc29tZXRoaW5nJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFszMCwgMCwgMF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnSGFuZHNvbWUnLCAnQWdncmVzc2l2ZSddXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuXHJcbiAgICB2YXIgY2hlY2tlZCA9IFtdO1xyXG4gICAgdmFyIGdldFRyYWl0QnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgIHJldHVybiB0cmFpdHMuZmlsdGVyKGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IHQubmFtZTtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRyYWl0LnJlcXVpcmVkVHJhaXRzKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyYWl0LnJlcXVpcmVkVHJhaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRUcmFpdCA9IHRyYWl0LnJlcXVpcmVkVHJhaXRzW2pdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGdldFRyYWl0QnlOYW1lKHJlcXVpcmVkVHJhaXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrZWQuaW5kZXhPZihyZXEubmFtZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUocmVxKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcmVxLmdlbmVzLmxlbmd0aDsgZysrKVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0LmdlbmVzLnB1c2gocmVxLmdlbmVzW2ddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaGVja2VkLnB1c2godHJhaXQubmFtZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBidWlsZFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmFpdCA9IHRyYWl0c1tpXTtcclxuICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZSh0cmFpdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2codHJhaXRzKTtcclxuICAgICAgICByZXR1cm4gdHJhaXRzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBidWlsZFRyYWl0cygpO1xyXG59KSgpKTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ1RyYWl0SW5zcGVjdG9yJywgWyckZmlsdGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJGZpbHRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFRyYWl0SW5zcGVjdG9yID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICAvL3RoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwOyAgICAgICAgXHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbihnZW5lcykge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhaXREZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRkID0gdHJhaXREZWZpbml0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCB0ZC5nZW5lcy5sZW5ndGggJiYgbWV0ID09PSB0cnVlOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGRnID0gdGQuZ2VuZXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBnZW5lc1t0ZGdbMF1dWzFdIC0gZ2VuZXNbdGRnWzBdXVswXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodiA8IHRkZ1sxXSB8fCB2ID4gdGRnWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2godGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH07XHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcblxyXG4gICAgcmV0dXJuIFRyYWl0SW5zcGVjdG9yO1xyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnQnJlZWRlcicsIFsnJGZpbHRlcicsICdUcmFpdEluc3BlY3RvcicsIGZ1bmN0aW9uKCRmaWx0ZXIsIFRyYWl0SW5zcGVjdG9yKSB7XHJcblxyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIEJyZWVkZXIgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRyYWl0SW5zcGVjdG9yID0gbmV3IFRyYWl0SW5zcGVjdG9yKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgICAgICB0aGlzLnNldFJhbmRvbU5hbWUoKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGNvbmZpZy5nZW5lcmF0aW9uIHx8IHRoaXMuZ2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBjb25maWcuc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCA2O1xyXG4gICAgICAgIHRoaXMuZ2VuZXMgPSBjb25maWcuZ2VuZXMgfHwgdGhpcy5nZW5lcyB8fCBbXTtcclxuICAgICAgICB0aGlzLnJlZEdyZWVuSW1hZ2UgPSBnZXRSZWRHcmVlbkltYWdlKHRoaXMuZ2VuZXMsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHRoaXMuYmx1ZUltYWdlID0gZ2V0Qmx1ZUltYWdlKHRoaXMuZ2VuZXMsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHRoaXMudHJhaXRzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRUcmFpdHModGhpcy5nZW5lcyk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbihwYXJ0bmVyLCBuZXdJZCkge1xyXG4gICAgICAgIHZhciBwMSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHAyID0gcGFydG5lcjtcclxuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgIGlkOiBuZXdJZCxcclxuICAgICAgICAgICAgZ2VuZXJhdGlvbjogcDEuZ2VuZXJhdGlvbiArIDEsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcDEuZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHAxZyA9IHAxLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICB2YXIgcDJnID0gcDIuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIGNoaWxkLmdlbmVzLnB1c2goY3Jvc3NvdmVyKHAxZywgcDJnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkLnVwZGF0ZSh7IHNjYWxlOiA2IH0pO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuaGFzVHJhaXQgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRyYWl0cy5maWx0ZXIoZnVuY3Rpb24obXlUcmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbXlUcmFpdC5uYW1lID09PSB0cmFpdDtcclxuICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuc2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5nZXRSYW5kb21OYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdlbmVzIHx8IHRoaXMuZ2VuZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIEdlbmRlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKVxyXG4gICAgICAgICAgICA/IG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCxuYW1lTGlzdDEubGVuZ3RoLTEpXVxyXG4gICAgICAgICAgICA6IG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCxuYW1lTGlzdDIubGVuZ3RoLTEpXTtcclxuXHJcbiAgICAgICAgdmFyIGxhc3ROYW1lID0gbmFtZUxpc3QzW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0My5sZW5ndGgtMSldXHJcbiAgICAgICAgICAgICsgbmFtZUxpc3Q0W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0NC5sZW5ndGgtMSldXHJcbiAgICAgICAgICAgICsgbmFtZUxpc3Q1W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0NS5sZW5ndGgtMSldO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBmaXJzdE5hbWUgKyBsYXN0TmFtZTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuICAgIHZhciBnZW5ldGljT3B0aW9ucyA9IHtcclxuICAgICAgICBjcm9zc292ZXJyYXRlOiAwLjVcclxuICAgIH07XHJcbiAgICBcclxuXHJcblxyXG5cclxuICAgIC8vIG1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDEgPSBbJ0RpZ2d5ICcsJ0RlYW4gJywnRHVrZSAnLCdEb3lsZSAnLCdEaXJrICcsJ0RhZyAnLCdEaW1pdHJpICcsJ0RydSAnXTtcclxuICAgIC8vIGZlbWFsZSBmaXJzdCBuYW1lc1xyXG4gICAgdmFyIG5hbWVMaXN0MiA9IFsnRGFnZ3kgJywnRGFpc3kgJywnRGluYWggJywnRGhhcm1hICcsJ0RlZSAnLCdEYXBobmUgJywnRGl4aWUgJywnRGFyY3kgJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgcHJlZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3QzID0gWycnLCcnLCcnLCcnLCcnLCdWYW4gJywnVm9uICcsJ09cXCcnLCdNYycsJ01jJ107XHJcbiAgICAvLyBsYXN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3Q0ID0gWydEb29nJywnRGliYicsJ0RhYmInLCdEaWcnLCdEYW5nJywnRHVnZyddO1xyXG4gICAgLy8gbGFzdCBuYW1lIHN1ZmZpeGVzIChlbXB0eSBzdHJpbmdzIGFuZCBkdXBlcyBhcmUgZm9yIGNvbnRyb2xsaW5nIHRoZSBvZGRzKVxyXG4gICAgdmFyIG5hbWVMaXN0NSA9IFsnJywnJywnJywnbGVyJywnbGVyJywnZXInLCdlcicsJ2VyJywnd3VlcnN0JywnZXJ3dWVyc3QnLCdlcnRvbicsICdlcnRvbicsJ3NraSddO1xyXG4gICAgXHJcbiAgICBcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBmdW5jdGlvbnMgKi9cclxuICAgIGZ1bmN0aW9uIGNyb3Nzb3ZlcihnMSwgZzIpIHtcclxuICAgICAgICB2YXIgY3Jvc3NvdmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAvL3ZhciBtdXRhdGlvbiA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgwLCAyNTUpO1xyXG4gICAgICAgIHZhciBnID0gYW5ndWxhci5jb3B5KGNyb3Nzb3ZlciA8PSBnZW5ldGljT3B0aW9ucy5jcm9zc292ZXJyYXRlID8gZzEgOiBnMik7XHJcbiAgICAgICAgdmFyIG11dGF0aW9uUmF0ZSA9IGdbMl0gLyAyNTUuMDtcclxuICAgICAgICAvL3ZhciBtciA9IG11dGF0aW9uIDwgZ1syXSA/IHJhbmRvbUludEZyb21JbnRlcnZhbCgtMjUsIDI1KSA6IDA7XHJcbiAgICAgICAgLy92YXIgbWcgPSBtdXRhdGlvbiA8IGdbMl0gPyByYW5kb21JbnRGcm9tSW50ZXJ2YWwoLTI1LCAyNSkgOiAwO1xyXG4gICAgICAgIC8vdmFyIG1iID0gbXV0YXRpb24gPCBnWzJdID8gcmFuZG9tSW50RnJvbUludGVydmFsKC0yNSwgMjUpIDogMDtcclxuICAgICAgICB2YXIgYml0U3RyaW5nUiA9ICcnO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdHID0gJyc7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTw4O2krKykgeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9sZFIgPSBnWzBdO1xyXG4gICAgICAgIHZhciBvbGRHID0gZ1sxXTtcclxuICAgICAgICBnWzBdIF49IHBhcnNlSW50KGJpdFN0cmluZ1IsIDIpO1xyXG4gICAgICAgIGdbMV0gXj0gcGFyc2VJbnQoYml0U3RyaW5nRywgMik7XHJcbiAgICAgICAgLy9pZihvbGRSICE9PSBnWzBdKSBjb25zb2xlLmxvZygnTXV0YXRpb24hIFI6ICcrb2xkUisnIHRvICcrZ1swXSk7XHJcbiAgICAgICAgLy9pZihvbGRHICE9PSBnWzFdKSBjb25zb2xlLmxvZygnTXV0YXRpb24hIEc6ICcrb2xkRysnIHRvICcrZ1sxXSk7XHJcbi8qXHJcbiAgICAgICAgaWYgKGdbMF0gKyBtciA8IDApIGdbMF0gPSAwO1xyXG4gICAgICAgIGVsc2UgaWYgKGdbMF0gKyBtciA+IDI1NSkgZ1swXSA9IDI1NTtcclxuICAgICAgICBlbHNlIGdbMF0gKz0gbXI7XHJcblxyXG4gICAgICAgIGlmIChnWzFdICsgbWcgPCAwKSBnWzFdID0gMDtcclxuICAgICAgICBlbHNlIGlmIChnWzFdICsgbWcgPiAyNTUpIGdbMV0gPSAyNTU7XHJcbiAgICAgICAgZWxzZSBnWzFdICs9IG1nO1xyXG5cclxuICAgICAgICBpZiAoZ1syXSArIG1iIDwgMCkgZ1syXSA9IDA7XHJcbiAgICAgICAgZWxzZSBpZiAoZ1syXSArIG1iID4gMjU1KSBnWzJdID0gMjU1O1xyXG4gICAgICAgIGVsc2UgZ1syXSArPSBtYjtcclxuKi9cclxuICAgICAgICByZXR1cm4gZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWRHcmVlbkltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpLCBnZW5lcy5sZW5ndGgpLCBzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Qmx1ZUltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGdlbmVzW2ldWzBdO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGdlbmVzW2ldWzFdO1xyXG4gICAgICAgICAgICB2YXIgYnJpZ2h0ID0gKE1hdGguYWJzKHIgLSBnKSAvIDI1NS4wKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyID4gZykgZyA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgciA9IDA7XHJcbiAgICAgICAgICAgIHIgKj0gYnJpZ2h0O1xyXG4gICAgICAgICAgICBnICo9IGJyaWdodDtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3IsIGcsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qmx1ZU1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFswLCAwLCBnZW5lc1tpXVsyXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJvd3MoZ2VuZXMsIGNvbHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoZ2VuZXMubGVuZ3RoIC8gY29scyk7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaChnZW5lc1tpICsgKGogKiBjb2xzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEJyZWVkZXI7XHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJyxcbiAgICAnPGg0Pnt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIj48ZGl2IHN0eWxlPVwiaGVpZ2h0OiA0MDBweDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBtYXJnaW4tdG9wOjVweFwiPjx0YWJsZSBjbGFzcz1cImdlbm9tZUVkaXRvciB0YWJsZSB0YWJsZS1jb25kZW5zZWRcIj48dGhlYWQ+PHRyPjx0aD4mbmJzcDs8L3RoPjx0aD5Eb21pbmFudDwvdGg+PHRoPlJlY2Vzc2l2ZTwvdGg+PHRoPlZhbHVlczwvdGg+PHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIG5nLXJlcGVhdD1cImdlbmUgaW4gJGN0cmwuZ2VuZURlZmluaXRpb25zXCI+PHRkIG5nLWJpbmQ9XCIkaW5kZXhcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb21cIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5yZWNcIj48L3RkPjx0ZD5SIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzBdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPiBHIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzFdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPiBCIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPjwvdGQ+PHRkPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigkKXtcclxuICAgICQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCdib2R5JykudG9vbHRpcCh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnW3JlbD10b29sdGlwXSdcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KShqUXVlcnkpO1xyXG5cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgWyd1aS5yb3V0ZXInXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUubWFpbicsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdnZW5ldGl4JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWUnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgXSkucnVuKFsnZ2FtZVNlcnZpY2UnLCBmdW5jdGlvbihnYW1lU2VydmljZSkge1xyXG4gICAgICAgIGdhbWVTZXJ2aWNlLmluaXQoKTtcclxuICAgIH1dKTsiLCIvKiFcclxuICogR2VuZXJhdGUgQml0bWFwIERhdGEgVVJMXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzLXBhaW50L1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMCwgUGV0ZXIgQ29sZXNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlcy5cclxuICogaHR0cDovL21yY29sZXMuY29tL21lZGlhL21pdC1saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBEYXRlOiBUdWUgT2N0IDI2IDAwOjAwOjAwIDIwMTAgLTA1MDBcclxuICovXHJcblxyXG4vKlxyXG4gKiBDb2RlIHRvIGdlbmVyYXRlIEJpdG1hcCBpbWFnZXMgKHVzaW5nIGRhdGEgdXJscykgZnJvbSByb3dzIG9mIFJHQiBhcnJheXMuXHJcbiAqIFNwZWNpZmljYWxseSBmb3IgdXNlIHdpdGggaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXN0LXBhaW50L1xyXG4gKlxyXG4gKiBSZXNlYXJjaDpcclxuICpcclxuICogUkZDIDIzOTcgZGF0YSBVUkxcclxuICogaHR0cDovL3d3dy54czRhbGwubmwvfndyYi9BcnRpY2xlcy9BcnRpY2xlX0lNR19SRkMyMzk3X1AxXzAxLmh0bVxyXG4gKlxyXG4gKiBCTVAgZmlsZSBGb3JtYXRcclxuICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CTVBfZmlsZV9mb3JtYXQjRXhhbXBsZV9vZl9hXzIuQzMuOTcyX1BpeGVsLjJDXzI0LUJpdF9CaXRtYXBfLjI4V2luZG93c19WM19ESUIuMjlcclxuICpcclxuICogQk1QIE5vdGVzXHJcbiAqXHJcbiAqIC0gSW50ZWdlciB2YWx1ZXMgYXJlIGxpdHRsZS1lbmRpYW4sIGluY2x1ZGluZyBSR0IgcGl4ZWxzLCBlLmcuLCAoMjU1LCAwLCAwKSAtPiBcXHgwMFxceDAwXFx4RkZcclxuICogLSBCaXRtYXAgZGF0YSBzdGFydHMgYXQgbG93ZXIgbGVmdCAoYW5kIHJlYWRzIGFjcm9zcyByb3dzKVxyXG4gKiAtIEluIHRoZSBCTVAgZGF0YSwgcGFkZGluZyBieXRlcyBhcmUgaW5zZXJ0ZWQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgbGluZXMgb2YgZGF0YSBpbiBtdWx0aXBsZXMgb2YgZm91cixcclxuICogICBlLmcuLCBhIDI0LWJpdCBiaXRtYXAgd2l0aCB3aWR0aCAxIHdvdWxkIGhhdmUgMyBieXRlcyBvZiBkYXRhIHBlciByb3cgKFIsIEcsIEIpICsgMSBieXRlIG9mIHBhZGRpbmdcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FzTGl0dGxlRW5kaWFuSGV4KHZhbHVlLCBieXRlcykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgdmFsdWUgaW50byBsaXR0bGUgZW5kaWFuIGhleCBieXRlc1xyXG4gICAgICAgIC8vIHZhbHVlIC0gdGhlIG51bWJlciBhcyBhIGRlY2ltYWwgaW50ZWdlciAocmVwcmVzZW50aW5nIGJ5dGVzKVxyXG4gICAgICAgIC8vIGJ5dGVzIC0gdGhlIG51bWJlciBvZiBieXRlcyB0aGF0IHRoaXMgdmFsdWUgdGFrZXMgdXAgaW4gYSBzdHJpbmdcclxuXHJcbiAgICAgICAgLy8gRXhhbXBsZTpcclxuICAgICAgICAvLyBfYXNMaXR0bGVFbmRpYW5IZXgoMjgzNSwgNClcclxuICAgICAgICAvLyA+ICdcXHgxM1xceDBiXFx4MDBcXHgwMCdcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgYnl0ZXMgPiAwOyBieXRlcy0tKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUgJiAyNTUpKTtcclxuICAgICAgICAgICAgdmFsdWUgPj49IDg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3Mgb2YgUkdCIGFycmF5cyBpbnRvIEJNUCBkYXRhXHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgIHJvd3NfbGVuID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGosXHJcbiAgICAgICAgICAgIHBpeGVsc19sZW4gPSByb3dzX2xlbiA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgcGl4ZWwsXHJcbiAgICAgICAgICAgIHBhZGRpbmcgPSAnJyxcclxuICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyByb3dfcGFkZGluZyA+IDA7IHJvd19wYWRkaW5nLS0pIHtcclxuICAgICAgICAgICAgcGFkZGluZyArPSAnXFx4MDAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3NfbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBpeGVsc19sZW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWwgPSByb3dzW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsyXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMV0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9zY2FsZVJvd3Mocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBTaW1wbGVzdCBzY2FsaW5nIHBvc3NpYmxlXHJcbiAgICAgICAgdmFyIHJlYWxfaCA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBzY2FsZWRfaCA9IHBhcnNlSW50KHJlYWxfaCAqIHNjYWxlKSxcclxuICAgICAgICAgICAgcmVhbF93ID0gcmVhbF9oID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBzY2FsZWRfdyA9IHBhcnNlSW50KHJlYWxfdyAqIHNjYWxlKSxcclxuICAgICAgICAgICAgbmV3X3Jvd3MgPSBbXSxcclxuICAgICAgICAgICAgbmV3X3JvdywgeCwgeTtcclxuXHJcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IHNjYWxlZF9oOyB5KyspIHtcclxuICAgICAgICAgICAgbmV3X3Jvd3MucHVzaChuZXdfcm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgc2NhbGVkX3c7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgbmV3X3Jvdy5wdXNoKHJvd3NbcGFyc2VJbnQoeSAvIHNjYWxlKV1bcGFyc2VJbnQoeCAvIHNjYWxlKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdfcm93cztcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMID0gZnVuY3Rpb24ocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBFeHBlY3RzIHJvd3Mgc3RhcnRpbmcgaW4gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBmb3JtYXR0ZWQgbGlrZSB0aGlzOiBbW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDBdLCAuLi5dLCAuLi5dXHJcbiAgICAgICAgLy8gd2hpY2ggcmVwcmVzZW50czogW1tyZWQsIHllbGxvdywgLi4uXSwgLi4uXVxyXG5cclxuICAgICAgICBpZiAoIXdpbmRvdy5idG9hKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdPaCBubywgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYmFzZTY0IGVuY29kaW5nIC0gd2luZG93LmJ0b2EoKSEhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcclxuICAgICAgICBpZiAoc2NhbGUgIT0gMSkge1xyXG4gICAgICAgICAgICByb3dzID0gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGVpZ2h0ID0gcm93cy5sZW5ndGgsIC8vIHRoZSBudW1iZXIgb2Ygcm93c1xyXG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCA/IHJvd3NbMF0ubGVuZ3RoIDogMCwgLy8gdGhlIG51bWJlciBvZiBjb2x1bW5zIHBlciByb3dcclxuICAgICAgICAgICAgcm93X3BhZGRpbmcgPSAoNCAtICh3aWR0aCAqIDMpICUgNCkgJSA0LCAvLyBwYWQgZWFjaCByb3cgdG8gYSBtdWx0aXBsZSBvZiA0IGJ5dGVzXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzID0gKHdpZHRoICogMyArIHJvd19wYWRkaW5nKSAqIGhlaWdodCwgLy8gc2l6ZSBpbiBieXRlcyBvZiBCTVAgZGF0YVxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyA9IDU0ICsgbnVtX2RhdGFfYnl0ZXMsIC8vIGZ1bGwgaGVhZGVyIHNpemUgKG9mZnNldCkgKyBzaXplIG9mIGRhdGFcclxuICAgICAgICAgICAgZmlsZTtcclxuXHJcbiAgICAgICAgaGVpZ2h0ID0gX2FzTGl0dGxlRW5kaWFuSGV4KGhlaWdodCwgNCk7XHJcbiAgICAgICAgd2lkdGggPSBfYXNMaXR0bGVFbmRpYW5IZXgod2lkdGgsIDQpO1xyXG4gICAgICAgIG51bV9kYXRhX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9kYXRhX2J5dGVzLCA0KTtcclxuICAgICAgICBudW1fZmlsZV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZmlsZV9ieXRlcywgNCk7XHJcblxyXG4gICAgICAgIC8vIHRoZXNlIGFyZSB0aGUgYWN0dWFsIGJ5dGVzIG9mIHRoZSBmaWxlLi4uXHJcblxyXG4gICAgICAgIGZpbGUgPSAoJ0JNJyArIC8vIFwiTWFnaWMgTnVtYmVyXCJcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBmaWxlIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgzNlxceDAwXFx4MDBcXHgwMCcgKyAvLyBvZmZzZXQgb2Ygd2hlcmUgQk1QIGRhdGEgbGl2ZXMgKDU0IGJ5dGVzKVxyXG4gICAgICAgICAgICAnXFx4MjhcXHgwMFxceDAwXFx4MDAnICsgLy8gbnVtYmVyIG9mIHJlbWFpbmluZyBieXRlcyBpbiBoZWFkZXIgZnJvbSBoZXJlICg0MCBieXRlcylcclxuICAgICAgICAgICAgd2lkdGggKyAvLyB0aGUgd2lkdGggb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgIGhlaWdodCArIC8vIHRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgICdcXHgwMVxceDAwJyArIC8vIHRoZSBudW1iZXIgb2YgY29sb3IgcGxhbmVzICgxKVxyXG4gICAgICAgICAgICAnXFx4MThcXHgwMCcgKyAvLyAyNCBiaXRzIC8gcGl4ZWxcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE5vIGNvbXByZXNzaW9uICgwKVxyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIEJNUCBkYXRhIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIGhvcml6b250YWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSB0aGUgdmVydGljYWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTnVtYmVyIG9mIGNvbG9ycyBpbiB0aGUgcGFsZXR0ZSAoa2VlcCAwIGZvciAyNC1iaXQpXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyAwIGltcG9ydGFudCBjb2xvcnMgKG1lYW5zIGFsbCBjb2xvcnMgYXJlIGltcG9ydGFudClcclxuICAgICAgICAgICAgX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZylcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvYm1wO2Jhc2U2NCwnICsgYnRvYShmaWxlKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG4vL1xyXG4vLyBDb2RlIHNwZWNpZmljIHRvIGxvdyByZXMgcGFpbnRcclxuLy9cclxuXHJcbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICB2YXIgJGJnX3RyYW5zZm9ybTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNzaWduX2JnX3RyYW5zZm9ybShiZykge1xyXG4gICAgICAgIC8vIGRpZmZlcmVudCBicm93c2VycyByZXR1cm4gdGhlIGNvbG9yIGRpZmZlcmVudGx5XHJcbiAgICAgICAgLy8gbGV0J3Mgc3VwcG9ydCBcInJnYigxMjMsIDAsIDUpXCIsIFwiI2ZmZlwiLCBhbmQgXCIjZmYwMDk5XCJcclxuICAgICAgICBpZiAoL15yZ2JcXChcXGQrLCBcXGQrLCBcXGQrXFwpJC8udGVzdChiZykpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB4WzBdID0geFswXS5zdWJzdHIoNCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgdDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSBwYXJzZUludCh4W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmcuc3Vic3RyaW5nKDAsIDEpID09ICcjJykge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IHgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdVbnBhcnNlYWJsZSBjb2xvcjogJyArIGJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJGJnQXNSR0IoaWQpIHtcclxuICAgICAgICB2YXIgYmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIGlmIChiZyA9PT0gJycpIHJldHVybiBbMjU1LCAyNTUsIDI1NV07XHJcbiAgICAgICAgaWYgKCRiZ190cmFuc2Zvcm0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfYXNzaWduX2JnX3RyYW5zZm9ybShiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAgPSBmdW5jdGlvbihzY2FsZSkge1xyXG4gICAgICAgIC8vIHBpeGVscyBhcmUgeF95IHN0YXJ0aW5nIGluIHRvcCBsZWZ0LCB3ZSBuZWVkIHRvIGl0ZXJhdGUgZnJvbSBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGRpbWVuc2lvbnMgYXJlIGEgNTB4NTAgc3F1YXJlICgwLCAwLCA0OSwgNDkpXHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTA7XHJcblxyXG4gICAgICAgIHZhciB4LFxyXG4gICAgICAgICAgICB4X2xlbiA9IDUwLFxyXG4gICAgICAgICAgICB5ID0gNDksXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICBpbWdfcGFyZW50LFxyXG4gICAgICAgICAgICBpbWcsXHJcbiAgICAgICAgICAgIHNyYztcclxuXHJcbiAgICAgICAgZm9yICg7IHkgPj0gMDsgeS0tKSB7XHJcbiAgICAgICAgICAgIHJvd3MucHVzaChyb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB4X2xlbjsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaCgkYmdBc1JHQih4ICsgJ18nICsgeSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0ZXN0IGltYWdlICogL1xyXG4gICAgICAgIHJvd3MgPSBbXHJcbiAgICAgICAgICAgIFtbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAyNTVdXSxcclxuICAgICAgICAgICAgW1swLCAwLCAyNTVdLCBbMCwgMjU1LDBdXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLyogKi9cclxuXHJcbiAgICAgICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgc3JjID0gd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTChyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICBpbWcuYWx0ID0gJ0lmIHlvdSBjYW4gcmVhZCB0aGlzLCB5b3VyIGJyb3dzZXIgcHJvYmFibHkgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGRhdGEgVVJMIHNjaGVtZSBmb3JtYXQhIE9oIG5vISc7XHJcbiAgICAgICAgaW1nLnRpdGxlID0gJ1lvdSBnZW5lcmF0ZWQgYW4gaW1hZ2UsIGdyZWF0IGpvYiEgVG8gc2F2ZSBpdCwgZHJhZyBpdCB0byB5b3VyIERlc2t0b3Agb3IgcmlnaHQgY2xpY2sgYW5kIHNlbGVjdCBzYXZlIGFzLic7XHJcbiAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICBpZiAoaW1nX3BhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQuaWQgPSAnaW1nJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXAnKS5hcHBlbmRDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nX3BhcmVudC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImltZy1oZWFkZXJcIj5HZW5lcmF0ZWQgSW1hZ2UgJm5ic3A7PGEgdGl0bGU9XCJoaWRlIGltYWdlXCIgaHJlZj1cIiNcIj54PC9hPjwvZGl2Pic7XHJcbiAgICAgICAgaW1nX3BhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nX3BhcmVudC5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwLmFza1RvU2NhbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSBwcm9tcHQoJ1BpY2sgYSBzY2FsaW5nIGZhY3Rvci4uLlxcbjEgPSBhY3R1YWwgc2l6ZSwgLjUgPSBoYWxmLCAyID0gZG91YmxlXFxuKG5vdGU6IGxhcmdlIG51bWJlcnMgbWlnaHQgY3Jhc2ggeW91ciBicm93c2VyKScpO1xyXG4gICAgICAgIGlmIChzY2FsZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBOYU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1RoYXQgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAqIDEwOyAvLyBzaW5jZSBhY3R1YWwgc2l6ZSBpcyBhY3R1YWxseSAxMHghXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAoc2NhbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbn0pKHRoaXMsIHRoaXMuZG9jdW1lbnQpOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxuICAgICc8aSBjbGFzcz1cImZhIGZhLWxlYWZcIj48L2k+PHNwYW4gbmctYmluZD1cIiRjdHJsLmhlbGxvVGV4dFwiPjwvc3Bhbj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxmaWVsZHNldD48bGVnZW5kPlBhcmVudHM8L2xlZ2VuZD48c3BhbiBjbGFzcz1cImNvbC14cy0yXCIgbmctcmVwZWF0PVwiZGlnZ2VyIGluICRjdHJsLmRpZ2dlcnNcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2RpZ2dlci5yZWRHcmVlbkltYWdlfX1cIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2RpZ2dlci5ibHVlSW1hZ2V9fVwiPjx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj48bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5HZW5lcmF0aW9uOiA8c3BhbiBuZy1iaW5kPVwiZGlnZ2VyLmdlbmVyYXRpb25cIj48L3NwYW4+PC9saT48bGkgbmctcmVwZWF0PVwidHJhaXQgaW4gZGlnZ2VyLmdldFRyYWl0cygpXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBuZy1iaW5kPVwidHJhaXQubmFtZVwiPjwvbGk+PGxpIG5nLWlmPVwiZGlnZ2VyLmdldFRyYWl0cygpLmxlbmd0aCA9PSAwXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5ObyBUcmFpdHM8L2xpPjwvdWw+PC9zcGFuPjwvZmllbGRzZXQ+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZmllbGRzZXQ+PGxlZ2VuZD5PZmZzcHJpbmc8L2xlZ2VuZD48c3BhbiBjbGFzcz1cImNvbC14cy00XCI+PGRpdiBuZy1yZXBlYXQ9XCJkaWdnZXIgaW4gJGN0cmwuZGlnZ2VyT2Zmc3ByaW5nXCI+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3tkaWdnZXIucmVkR3JlZW5JbWFnZX19XCI+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3tkaWdnZXIuYmx1ZUltYWdlfX1cIj48L2Rpdj48L2Rpdj48L3NwYW4+PC9maWVsZHNldD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+Jm5ic3A7PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZmllbGRzZXQ+PGxlZ2VuZD5BbmNlc3RvcnM8L2xlZ2VuZD48ZGl2IGNsYXNzPVwiY29sLXhzLTRcIj48ZGl2IG5nLXJlcGVhdD1cImFuY2VzdG9ycyBpbiAkY3RybC5kaWdnZXJBbmNlc3RvcnNcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2FuY2VzdG9yc1swXS5yZWRHcmVlbkltYWdlfX1cIj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2FuY2VzdG9yc1sxXS5yZWRHcmVlbkltYWdlfX1cIj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZpZWxkc2V0PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2hvbWUuaHRtbCcsXG4gICAgJzx1bCBjbGFzcz1cIm5hdiBuYXYtcGlsbHNcIj48bGk+PGEgdWktc3JlZj1cImhvbWUubWFpblwiPk1haW48L2E+PC9saT48bGk+PGEgdWktc3JlZj1cImhvbWUudGVzdFwiPlRlc3QgSW50ZXJmYWNlPC9hPjwvbGk+PC91bD48Z2FtZS1jb250cm9sPjwvZ2FtZS1jb250cm9sPjxkaXYgdWktdmlldz1cIlwiPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiJdfQ==
