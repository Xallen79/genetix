function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,a,r,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(a=0;a<i;a++)r=e[n][a],l.push(String.fromCharCode(r[2])+String.fromCharCode(r[1])+String.fromCharCode(r[0]));l.push(s)}return l.join("")}function n(e,t){var n,a,r,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),c=[];for(r=0;r<i;r++)for(c.push(n=[]),a=0;a<l;a++)n.push(e[parseInt(r/t)][parseInt(a/t)]);return c}window.generateBitmapDataURL=function(a,r){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;r=r||1,1!=r&&(a=n(a,r));var o,i=a.length,s=i?a[0].length:0,l=(4-3*s%4)%4,c=(3*s+l)*i,d=54+c;return i=e(i,4),s=e(s,4),c=e(c,4),d=e(d,4),o="BM"+d+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+c+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(a,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function a(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,a=[];if(3==n)for(;t<n;t++)a.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)a.push(parseInt("0x"+e.substring(t,t+2)));return a}:alert("Unparseable color: "+e)}function r(e){var r=t.getElementById(e).style.backgroundColor;return""===r?[255,255,255]:(o===n&&a(r),o(r))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var a,o,i,s,l,c=50,d=49,u=[];d>=0;d--)for(u.push(o=[]),a=0;a<c;a++)o.push(r(a+"_"+d));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router","lz-string"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var a=[];a.push({name:"home",url:"/",component:"bloqhead.components.home"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.achievements",url:"achievements",component:"bloqhead.components.achievementsUI"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)})}]).run(["gameService","populationService","logService",function(e,t,n){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.achievementsUI",{templateUrl:"components/achievements/achievements.html",controller:"bloqhead.controllers.achievementsUI",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.achievementsUI",function(){var e=this;e.$onInit=function(){}});var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],a=0;a<e.length;a++)e[a].hasTrait(t)&&n.push(e[a]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t,n){for(var a=Math.random(),r=angular.copy(a<=c.crossoverrate?e:t),o=r[2]/255,i="",s="",l=0;l<n;l++)i+=Math.random()<o?"1":"0",s+=Math.random()<o?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(s,2),r}function a(e,t){return generateBitmapDataURL(s(o(e,t),e.length),20)}function r(e){return generateBitmapDataURL(s(i(e),e.length),20)}function o(e,t){for(var n=[],a=50,r=255/(Math.pow(2,t)-1),o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],l=Math.abs(i-s)/255;l*=r,i>s?s=0:i=0,i*=l,s*=l,i>0&&(i+=a),s>0&&(s+=a),i>255&&(i=255),s>255&&(s=255),n.push([i,s,0])}return n}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],a=0;a<e.length/t;a++){for(var r=[],o=0;o<t;o++)r.push(e[o+a*t]);n.push(r)}return n}var l=function(e){this.traitInspector=new t,this.update(e)};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.genes=e.genes||this.genes||[],this.mutationBits=e.mutationBits||this.mutationBits||4,this.redGreenImage=a(this.genes,this.mutationBits),this.blueImage=r(this.genes),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes),this.name=this.name&&"Unknown Gender"!==this.name?this.name:e.name||this.getRandomName()},l.prototype.breed=function(e,t){for(var a=this,r=e,o=this.hasTrait("Male")?"Male":"Female",i=new l({id:t,generation:a.generation+1,genes:[],mother:"Female"==o?a:r,father:"Male"==o?a:r}),s=0;s<a.genes.length;s++){var c=a.genes[s],d=r.genes[s];i.genes.push(n(c,d,this.mutationBits))}return i.update(),i},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?d[randomIntFromInterval(0,d.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+m[randomIntFromInterval(0,m.length-1)]+g[randomIntFromInterval(0,g.length-1)];return e+t};var c={crossoverrate:.5},d=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],g=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){if(e=e||{},this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.breeders=e.breeders||this.breeders||[],this.maxSize=e.maxSize||this.maxSize||10,this.breederMutationBits=e.breederMutationBits||this.breederMutationBits||4,this.breederMutationChance=e.breederMutationChance||this.breederMutationChance||5,this.breederGenesUnlocked=e.breederGenesUnlocked||this.breederGenesUnlocked||[42],this.initialSize=e.initialSize||this.initialSize||2,e.members){this.members=[];for(var a=0;a<e.members.length;a++){var r=e.members[a],o=new t({id:r.id,mother:r.mother||null,father:r.father||null,generation:r.generation,genes:r.genes,mutationBits:r.mutationBits,name:r.name});o.update(),this.members.push(o)}}else this.members=this.members||this.createInitialPopulation(this.initialSize)},a.prototype.getState=function(){for(var e={currentGeneration:this.currentGeneration,breeders:this.breeders,maxSize:this.maxSize,breederMutationBits:this.breederMutationBits,breederMutationChance:this.breederMutationChance,breederGenesUnlocked:this.breederGenesUnlocked,initialSize:this.initialSize,members:[]},t=0;t<this.members.length;t++){var n=this.members[t];e.members.push({id:n.id,generation:n.generation,genes:n.genes,mutationBits:n.mutationBits,name:n.name})}return e},a.prototype.createInitialPopulation=function(e){for(var n=this,a=[],r=0;r<e;r++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),n.breederGenesUnlocked.indexOf(i)!==-1&&(o[i][2]=n.breederMutationChance);var s=r%2===0?255:0,l=r%2===0?0:255;o[42][0]=s,o[42][1]=l,o[42][2]=0;var c=new t({id:r,generation:0,genes:angular.copy(o),mutationBits:n.breederMutationBits});c.update(),a.push(c)}return a},a.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var a=this.getById(this.breeders[n]);if(a.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},a.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},a.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},a.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),a=t.breed(n,e.members.length);return e.members.push(a),a},a}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},a=function(e){if(angular.isDefined(e.requiredTraits))for(var r=0;r<e.requiredTraits.length;r++){var o=e.requiredTraits[r],i=n(o);t.indexOf(i.name)===-1&&a(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},r=function(){for(var t=0;t<e.length;t++){var n=e[t];a(n)}return e};return r()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={})},a.prototype.getTraits=function(e){var t=[];if(e.length)for(var a=0;a<n.length;a++){for(var r=n[a],o=!0,i=0;i<r.genes.length&&o===!0;i++){var s=r.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(r)}return t},a.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,a=0,r=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?a+=e[s][1]-e[s][0]:s<30?r+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt((Math.abs(n)+20)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt((Math.abs(a)+20)/25))*(a<0?-1:1),t.END=Math.floor(Math.sqrt((Math.abs(r)+20)/25))*(r<0?-1:1),t.CHR=Math.floor(Math.sqrt((Math.abs(o)+20)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt((Math.abs(i)+20)/25))*(i<0?-1:1)}return t},a}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div><button title="Hard Reset" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.resetSave();"><i class="fa fa-recycle"></i></button><button title="Play/Pause" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["$scope","gameService","gameLoopService","gameStates",function(e,t,n,a){var r=this;r.$onInit=function(){r.currentState=n.getState().currentState},r.toggleState=function(){r.currentState=r.currentState===a.RUNNING?a.PAUSED:a.RUNNING,n.setState(r.currentState)},r.getIcon=function(){return r.currentState===a.RUNNING?"fa-pause":"fa-play"},r.resetSave=function(){t.hardReset()}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2,ACHIEVEMENT:3}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var a=this;a.$onInit=function(){a.messages=[],t.SubscribeNewMessageEvent(e,a.receiveMessages)},a.getLogClass=function(e){var t="list-group-item-",a="";switch(e){case n.GENERAL:a="color-general";break;case n.ACHIEVEMENT:a="color-achievement";break;case n.BREED:a="color-breed";break;default:a=t+"none"}return a},a.receiveMessages=function(e,t){a.messages=t,$(".log-component")[0].scrollTop=$(".log-component")[0].scrollHeight}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(e){e&&(n.messages=[],n.logGeneralMessage("Welcome to Genetix!"))},n.logGeneralMessage=function(a){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(a){n.messages.push({type:t.BREED,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logAchievementMessage=function(a){n.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,a){var r=e.$on("newMessageEvent",a.bind(this));t.$on("$destroy",r),e.$emit("newMessageEvent",n.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.home",{templateUrl:"components/home.html",controller:"bloqhead.controllers.home"}),game.controller("bloqhead.controllers.home",function(){this.$onInit=function(){}}),game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService","achievementService","resourceService",function(e,t,n,a){var r=this;r.$onInit=function(){r.breeders=[],r.population=[],r.maxPopulation=0,t.SubscribePopulationUpdateEvent(e,r.updatePopulation),t.SubscribeBreederUpdateEvent(e,r.updateBreeders),n.SubscribeNewRewardEvent(e,r.rewardEarned)},r.rewardEarned=function(e,t){console.log(t)},r.updateGene=function(e,n,a){t.updateMember(e,n,a)},r.addBreeder=function(e){t.addBreeder(e)},r.removeBreeder=function(e){t.removeBreeder(e)},r.updateBreeders=function(e,t){r.breeders=t},r.updatePopulation=function(e,t){r.population=t.population,r.maxPopulation=t.maxSize}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<",assign:"&"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){},e.assignMe=function(){e.assign({$id:e.unit.id})}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.home"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.constant("achievementSetup",{achievements:{A_BIRTHS:{aid:"A_BIRTHS",name:"The Chosen One",desc:"Create a new unit",ranks:[[1,[["P_R_BONUS","GOLD",50],["P_R_BONUS","WOOD",100]]],[20,[["P_R_BONUS","GOLD",50],["P_M_HAPPINESS"],["P_G_ENHANCED",14,10]]]]},A_DIRT:{aid:"A_DIRT",name:"Its Dirt....",desc:"Earn dirt.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_DIRT_C:{aid:"A_DIRT_C",name:"Dirt Hoarder",desc:"Aquire dirt... lots and lots of dirt!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_BRICKS:{aid:"A_BRICKS",name:"bricks",desc:"Earn bricks.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_BRICKS_C:{aid:"A_BRICKS_C",name:"Brick Hoarder",desc:"Aquire bricks... lots and lots of bricks!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WATER:{aid:"A_WATER",name:"omnomnom",desc:"Earn water.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WATER_C:{aid:"A_WATER_C",name:"Water Hoarder",desc:"Aquire water... lots and lots of water!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_WOOD:{aid:"A_WOOD",name:"tree guts",desc:"Earn wood.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_WOOD_C:{aid:"A_WOOD_C",name:"Wood Hoarder",desc:"Aquire wood... lots and lots of wood!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_GOLD:{aid:"A_GOLD",name:"Oooohhh Shiiiiiny",desc:"Earn gold.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_GOLD_C:{aid:"A_GOLD_C",name:"Gold Hoarder",desc:"Aquire gold... lots and lots of gold!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]},A_HAPPINESS:{aid:"A_HAPPINESS",name:"be happy mon",desc:"Earn happiness.",ranks:[[50,[["P_R_MULTIPLIER","HAPPINESS",.1]]]]},A_HAPPINESS_C:{aid:"A_HAPPINESS_C",name:"Happyness",desc:"Aquire happiness... lots and lots of happiness!",ranks:[[100,[["P_R_MULTIPLIER","HAPPINESS",.2]]]]}},perks:{P_M_HAPPINESS:{pid:"P_M_HAPPINESS",name:"New Mechanic: Happiness",desc:"Happiness is a representation of how content your population is.",once:!0},P_R_MULTIPLIER:{pid:"P_R_MULTIPLIER",name:"Resource Muliplier",desc:"The rate that you aquire [%1] has been increased by [%2]x."},P_R_BONUS:{pid:"P_R_BONUS",name:"Bonus Resources",desc:"[%2] [%1] has been added to your coffers."},P_G_ENHANCED:{pid:"P_G_ENHANCED",name:"Gene Enhancement",desc:"The boundary has been increased by [%amt] for one of your [%attr] genes. ([%dom]/[%rec])"}}}),game.service("achievementService",["$rootScope","$filter","logService","achievementSetup","geneDefinitions","resourceTypes",function(e,t,n,a,r,o){var i=this;i.init=function(e){e?i.progress={achievements:e.achievements,perks:e.perks}:i.progress={achievements:[],perks:[]}},i.getState=function(){return{achievements:i.progress.achievements,perks:i.progress.perks}},i.updateProgress=function(t,r){var o=i.progress.achievements[t];o||(o={aid:t,amount:0},i.progress.achievements[t]=o);var s=o.amount,l=o.amount+r;o.amount=l;for(var c=a.achievements[t],d=0;d<c.ranks.length;d++){var u=c.ranks[d][0];if(u>s&&u<=l){var p={achievement:c,amountRequired:u,perks:[]};n.logAchievementMessage("Achievement Earned - "+c.name+" ("+u+")");for(var m=0;m<c.ranks[d][1].length;m++){var g=i.applyPerk(c.ranks[d][1][m]);null!==g&&p.perks.push(g)}e.$emit("newRewardEvent",p)}}},i.applyPerk=function(e){var s=e[0],l=a.perks[s];if(l.once){var c=t("filter")(i.progress.perks,{pid:s});if(0!==c.length)return null}var d=l.name+" - "+l.desc;switch(l.pid){case"P_G_ENHANCED":var u=r[e[1]];d=d.replace("[%dom]",u.dom),d=d.replace("[%rec]",u.rec),d=d.replace("[%attr]",u.attr[0]),d=d.replace("[%amt]",e[2]);break;case"P_R_BONUS":case"P_R_MULTIPLIER":d=d.replace("[%1]",o[e[1]]),d=d.replace("[%2]",e[2]);break;default:for(var p=1;p<e.length;p++)d=d.replace("[%"+p+"]",e[p])}n.logAchievementMessage(d);var m={pid:s,msg:d,arr:e,dt:(new Date).toUTCString()};return i.progress.perks.push(m),m},i.SubscribeNewRewardEvent=function(t,n){var a=e.$on("newRewardEvent",n.bind(this));t.$on("$destroy",a)}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameSaveKey","GENETIX_SAVE"),game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.constant("defaultState",{clearLog:!0,autoSaveSteps:30,gameLoopServiceState:{stepTimeMs:1e3},populationServiceState:{breedSteps:6,populationState:{initialSize:2,maxSize:22,breederMutationBits:5,breederGenesUnlocked:[0,1,2,3,4,5,6,7,8,9,42],breederMuatationChance:10}},achievementServiceState:{achievements:[],perks:[]},resourceServiceState:{resources:{DIRT:[0,25e3],BRICKS:[0,25e3],WATER:[0,1e3],WOOD:[0,1e3],GOLD:[0,1e3],HAPPINESS:[0,10]}}}),game.service("gameLoopService",["$window","$rootScope","gameStates","logService",function(e,t,n,a){var r=this;r.initialized=!1,r.init=function(e){e=e||{},r.stepTimeMs=e.stepTimeMs||r.stepTimeMs||1e3,r.lastTime=0,r.currentState=n.PAUSED,r.initialized||(r.initialized=!0,r.gameLoop(0)),r.currentState=e.currentState||r.currentState||n.RUNNING},r.getState=function(){return{stepTimeMs:r.stepTimeMs,currentState:r.currentState}},r.setState=function(e){r.currentState=e,e===n.PAUSED?a.logGeneralMessage("Game paused."):a.logGeneralMessage("Game resumed.")},r.gameLoop=function(a){for(var r=this,o=0;r.lastTime+a>r.stepTimeMs*(o+1);)o++;r.lastTime=r.lastTime-r.stepTimeMs*o,r.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},r.SubscribeGameLoopEvent=function(e,n){var a=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",a)}}]),game.service("gameService",["$rootScope","gameSaveKey","defaultState","logService","gameLoopService","populationService","achievementService","resourceService","LZString",function(e,t,n,a,r,o,i,s,l){var c=this;c.init=function(e){var a=l.decompressFromBase64(localStorage.getItem(t)),r=a?angular.fromJson(a):void 0;c.gameState=e||r||n,c.autoSaveSteps=c.gameState.autoSaveSteps||c.autoSaveSteps||10,c.startGame(),c.stepsSinceSave=0},c.startGame=function(){a.init(c.gameState.clearLog),o.init(c.gameState.populationServiceState||{}),s.init(c.gameState.resourceServiceState||{}),i.init(c.gameState.achievementServiceState||{}),r.init(c.gameState.gameLoopServiceState||{})},c.hardReset=function(){localStorage.removeItem(t),c.init()},r.SubscribeGameLoopEvent(e,function(e,n){if(c.stepsSinceSave+=n,c.stepsSinceSave>c.autoSaveSteps){var d=angular.copy(c.gameState);d.populationServiceState=angular.copy(o.getState()),d.resourceServiceState=angular.copy(s.getState()),d.achievementServiceState=angular.copy(i.getState()),d.gameLoopServiceState=angular.copy(r.getState());var u=l.compressToBase64(angular.toJson(angular.copy(d)));localStorage.setItem(t,u),a.logGeneralMessage("Game autosaved."),c.stepsSinceSave=0}})}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameLoopService","Population","logService","achievementService",function(e,t,n,a,r){var o=this;o.init=function(t){t=t||{},o.breedSteps=t.breedSteps||t.breedSteps||6,o.stepsSinceBreed=t.stepsSinceBreed||o.stepsSinceBreed||0,o.populationState=t.populationState||o.populationState,o.population=o.populationState?new n(o.populationState):o.population||new n,o.logService=a,e.$emit("breederUpdateEvent",o.population.breeders),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},o.getState=function(){var e={breedSteps:o.breedSteps,stepsSinceBreed:o.stepsSinceBreed};return e.populationState=o.population.getState(),e},o.handleGameLoop=function(t,n){var i=!1;if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(o.population.isBreeding()){for(o.stepsSinceBreed+=n;o.stepsSinceBreed>=o.breedSteps;){o.stepsSinceBreed-=o.breedSteps;var s=o.population.breed();null!==s&&(a.logBreedMessage("New offspring! "+s.name),r.updateProgress("A_BIRTHS",1),i=!0)}i&&e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})}},o.addBreeder=function(t){o.population.breeders.indexOf(t)===-1&&(o.population.breeders.push(t),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder added: "+o.population.getById(t).name))},o.removeBreeder=function(t){var n=o.population.breeders.indexOf(t);n!==-1&&(o.population.breeders.splice(n,1),o.population.isBreeding()||(o.stepsSinceBreed=0),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder removed: "+o.population.getById(t).name))},o.updateMember=function(t,n,a){var r=o.population.getById(t);r.genes[n]=a,r.update(),e.$emit("populationUpdateEvent",o.population.members)},o.SubscribeBreederUpdateEvent=function(t,n){var a=e.$on("breederUpdateEvent",n);t.$on("$destroy",a),e.$emit("breederUpdateEvent",o.population.breeders)},o.SubscribePopulationUpdateEvent=function(t,n){var a=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",a),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},t.SubscribeGameLoopEvent(e,o.handleGameLoop)}]);var game=angular.module("bloqhead.genetixApp");game.constant("resourceTypes",{DIRT:"Dirt",WATER:"Water",WOOD:"Wood",GOLD:"Gold",BRICKS:"Bricks",HAPPINESS:"Happiness"}),game.service("resourceService",["$rootScope","$filter","defaultState","logService","geneDefinitions","resourceTypes","achievementService",function(e,t,n,a,r,o,i){var s=this,l=!1;s.init=function(t){t?s.state=t:s.state=n.resourceServiceState,l||i.SubscribeNewRewardEvent(e,s.rewardEarned),l=!0;for(var a in o)if(o.hasOwnProperty(a)){var r=s.state.resources[a];e.$emit("resourceChangedEvent",a,r[0]),e.$emit("resourceLimitChangedEvent",a,r[1])}},s.getState=function(){return s.state},s.rewardEarned=function(e,t){for(var n=0;n<t.perks.length;n++){var a=t.perks[n];"P_R_BONUS"===a.pid&&s.addResource(a.arr[1],a.arr[2])}},s.getResourcesSnapshot=function(){return angular.copy(s.state.resources)},s.addResource=function(t,n){var a=s.state.resources[t];a[0]+=n,a[0]>a[1]&&(a[0]=a[1]),a[0]<0&&(a[0]=0),i.updateProgress("A_"+t,n),i.updateProgress("A_"+t+"_C",a[0]),e.$emit("resourceChangedEvent",t,a[0])},s.increaseResourceLimit=function(t,n){var a=s.state.resources[t];a[1]+=n,e.$emit("resourceLimitChangedEvent",t,a[1])},s.SubscribeResourceChangedEvent=function(t,n){var a=e.$on("resourceChangedEvent",n.bind(this));t&&t.$on("$destroy",a)},s.SubscribeResourceLimitChangedEvent=function(t,n){var a=e.$on("resourceLimitChangedEvent",n.bind(this));t&&t.$on("$destroy",a)}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var a=this;a.lastBreederID=0,a.newBreederGender="Male",a.killBreeder=function(e){a.units.splice(a.units.indexOf(e),1)},a.addNewBreeder=function(){for(var n=[],r=0;r<t.length;r++)n.push([0,0,0]);var o="Male"==a.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:a.lastBreederID++,generation:0,scale:6,genes:n});i.update(),a.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,a,r,o){var i=this;i.$onInit=function(){i.geneDefinitions=r,i.traitDefinitions=o,i.units=[]}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadResourceList",{templateUrl:"components/resourceList/resourceList.html",controller:"bloqhead.controllers.resourceList"}),game.controller("bloqhead.controllers.resourceList",["$scope","resourceService","resourceTypes",function(e,t,n){var a=this;a.resourceTypes=n,a.resources={},a.$onInit=function(){t.SubscribeResourceChangedEvent(e,a.resourceChanged),t.SubscribeResourceLimitChangedEvent(e,a.resourceLimitChanged),a.resources=t.getResourcesSnapshot()},a.resourceChanged=function(e,t,n){a.resources[t]||(a.resources[t]=[]),a.resources[t][0]=n},a.resourceLimitChanged=function(e,t,n){a.resources[t]||(a.resources[t]=[]),a.resources[t][1]=n}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<div class="row"><div class="col-xs-12 col-md-6 col-lg-4"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"><bloqhead-resource-list></bloqhead-resource-list></bloqhead-player-box></div></div></div><div class="col-xs-12 col-md-6 col-lg-8"><div ui-view=""></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/achievements/achievements.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Achievements"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd HH:mm:ss\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h5>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h5><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><table class="genomeEditor"><thead><tr><th style="width: 20%">STR</th><th style="width: 20%">INT</th><th style="width: 20%">END</th><th style="width: 20%">CHR</th><th style="width: 20%">LCK</th></tr></thead><tbody><tr><td><span ng-bind="$ctrl.unit.attributes.STR"></span></td><td><span ng-bind="$ctrl.unit.attributes.INT"></span></td><td><span ng-bind="$ctrl.unit.attributes.END"></span></td><td><span ng-bind="$ctrl.unit.attributes.CHR"></span></td><td><span ng-bind="$ctrl.unit.attributes.LCK"></span></td></tr></tbody></table><button class="btn btn-sm btn-primary" ng-click="$ctrl.assignMe() ">Breed Me</button><div class="btn-group"><button class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Work <span class="caret"></span></button><ul class="dropdown-menu"><li><a>Mine</a></li><li><a>Farm</a></li></ul></div></div>');
}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Population [{{$ctrl.population.length}} / {{$ctrl.maxPopulation}}] ---FILTERS HERE???----"><div class="row breeder-container"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Breeders [# / #]"><div class="row breeder-container"><div ng-repeat="breederid in $ctrl.breeders" class="col-xs-12 col-lg-12"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]"></bloqhead-breeder></div></div></bloqhead-player-box></div><div class="col-xs-12 col-sm-10 col-md-6 col-lg-4"><bloqhead-player-box title="Tasks"><ul class="list-group"><li>Miners: 0</li><li>Farmers: 0</li></ul></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div ng-if="angular.isDefined($ctrl.footer)" class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div class="col-xs-12"><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/resourceList/resourceList.html",'<table class="table table-condensed"><tbody><tr ng-repeat="(key, value) in $ctrl.resources"><td ng-bind="$ctrl.resourceTypes[key]"></td><td ng-bind="(value[0] + \' / \' + value[1])"></td></tr></tbody></table>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2NsYXNzZXMvYnJlZWRlci5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9wb3B1bGF0aW9uLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3RyYWl0LmpzIiwiY29tcG9uZW50cy9nYW1lQ29udHJvbC9nYW1lQ29udHJvbC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2xvZy9sb2cuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9hY2hpZXZlbWVudFNlcnZpY2UuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL3BvcHVsYXRpb25TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9yZXNvdXJjZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3Jlc291cmNlTGlzdC9yZXNvdXJjZUxpc3QuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmpzIiwiY29tcG9uZW50cy9sb2cvbG9nLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyIsImNvbXBvbmVudHMvcmVzb3VyY2VMaXN0L3Jlc291cmNlTGlzdC5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCIkIiwidG9vbHRpcCIsInNlbGVjdG9yIiwialF1ZXJ5IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwiY29tcG9uZW50IiwiZm9yRWFjaCIsInN0YXRlIiwicnVuIiwiZ2FtZVNlcnZpY2UiLCJwb3B1bGF0aW9uU2VydmljZSIsImxvZ1NlcnZpY2UiLCJpbml0IiwiZ2FtZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImJpbmRpbmdzIiwiZm9vdGVyIiwic2VsZiIsIiRvbkluaXQiLCJmaWx0ZXIiLCJ1bml0cyIsInRyYWl0TmFtZSIsInJldCIsImhhc1RyYWl0IiwiZmFjdG9yeSIsIiRmaWx0ZXIiLCJUcmFpdEluc3BlY3RvciIsImNyb3Nzb3ZlciIsImcxIiwiZzIiLCJtYXhCaXRzIiwiZyIsImNvcHkiLCJnZW5ldGljT3B0aW9ucyIsImNyb3Nzb3ZlcnJhdGUiLCJtdXRhdGlvblJhdGUiLCJiaXRTdHJpbmdSIiwiYml0U3RyaW5nRyIsImdldFJlZEdyZWVuSW1hZ2UiLCJnZW5lcyIsIm11dGF0aW9uQml0cyIsImFkZFJvd3MiLCJjb252ZXJ0UmVkR3JlZW5NYXAiLCJnZXRCbHVlSW1hZ2UiLCJjb252ZXJ0Qmx1ZU1hcCIsIm1pbkNvbG9yIiwiZmFjdG9yIiwicG93IiwiciIsImJyaWdodCIsImFicyIsImNvbHMiLCJCcmVlZGVyIiwidHJhaXRJbnNwZWN0b3IiLCJ1cGRhdGUiLCJwcm90b3R5cGUiLCJtb3RoZXIiLCJmYXRoZXIiLCJnZW5lcmF0aW9uIiwicmVkR3JlZW5JbWFnZSIsImJsdWVJbWFnZSIsInRyYWl0cyIsImdldFRyYWl0cyIsImF0dHJpYnV0ZXMiLCJnZXRBdHRyaWJ1dGVzIiwiZ2V0UmFuZG9tTmFtZSIsImJyZWVkIiwicGFydG5lciIsIm5ld0lkIiwicDEiLCJwMiIsIm15R2VuZGVyIiwiY2hpbGQiLCJwMWciLCJwMmciLCJ0cmFpdCIsIm15VHJhaXQiLCJmaXJzdE5hbWUiLCJuYW1lTGlzdDEiLCJuYW1lTGlzdDIiLCJsYXN0TmFtZSIsIm5hbWVMaXN0MyIsIm5hbWVMaXN0NCIsIm5hbWVMaXN0NSIsImdlbmVEZWZpbml0aW9ucyIsIlBvcHVsYXRpb24iLCJjdXJyZW50R2VuZXJhdGlvbiIsImJyZWVkZXJzIiwibWF4U2l6ZSIsImJyZWVkZXJNdXRhdGlvbkJpdHMiLCJicmVlZGVyTXV0YXRpb25DaGFuY2UiLCJicmVlZGVyR2VuZXNVbmxvY2tlZCIsImluaXRpYWxTaXplIiwibWVtYmVycyIsIm0iLCJtZW1iZXIiLCJ1bml0IiwiY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24iLCJnZXRTdGF0ZSIsImNvdW50IiwicG9wdWxhdGlvbiIsImduIiwiaW5kZXhPZiIsImlzQnJlZWRpbmciLCJoYXNNYWxlIiwiaGFzRmVtYWxlIiwiZ2V0QnlJZCIsImdldEJ5R2VuZXJhdGlvbiIsImNvbnN0YW50IiwiZG9tIiwicmVjIiwiYXR0ciIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJpc0RlZmluZWQiLCJyZXF1aXJlZFRyYWl0IiwicmVxIiwiYnVpbGRUcmFpdHMiLCJ0cmFpdERlZmluaXRpb25zIiwidGQiLCJtZXQiLCJoIiwidGRnIiwidiIsIlNUUiIsIklOVCIsIkVORCIsIkNIUiIsIkxDSyIsInN0ckJhc2UiLCJpbnRCYXNlIiwiZW5kQmFzZSIsImNockJhc2UiLCJsY2tCYXNlIiwic3FydCIsImFwcCIsInRlbXBsYXRlIiwiJHNjb3BlIiwiZ2FtZUxvb3BTZXJ2aWNlIiwiZ2FtZVN0YXRlcyIsImN1cnJlbnRTdGF0ZSIsInRvZ2dsZVN0YXRlIiwiUlVOTklORyIsIlBBVVNFRCIsInNldFN0YXRlIiwiZ2V0SWNvbiIsInJlc2V0U2F2ZSIsImhhcmRSZXNldCIsIkdFTkVSQUwiLCJCUkVFRCIsIkFDSElFVkVNRU5UIiwibG9nVHlwZXMiLCJtZXNzYWdlcyIsIlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCIsInJlY2VpdmVNZXNzYWdlcyIsImdldExvZ0NsYXNzIiwidHlwZSIsInByZWZpeCIsImEiLCJldmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInNlcnZpY2UiLCIkcm9vdFNjb3BlIiwiY2xlYXJMb2ciLCJsb2dHZW5lcmFsTWVzc2FnZSIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibm93Iiwic3BsaWNlIiwiJGVtaXQiLCJsb2dCcmVlZE1lc3NhZ2UiLCJsb2dBY2hpZXZlbWVudE1lc3NhZ2UiLCJzY29wZSIsImNhbGxiYWNrIiwiaGFuZGxlciIsIiRvbiIsImJpbmQiLCJhY2hpZXZlbWVudFNlcnZpY2UiLCJyZXNvdXJjZVNlcnZpY2UiLCJtYXhQb3B1bGF0aW9uIiwiU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50IiwidXBkYXRlUG9wdWxhdGlvbiIsIlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCIsInVwZGF0ZUJyZWVkZXJzIiwiU3Vic2NyaWJlTmV3UmV3YXJkRXZlbnQiLCJyZXdhcmRFYXJuZWQiLCJyZXdhcmQiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlR2VuZSIsImdlbmVJbmRleCIsImdlbmVWYWx1ZXMiLCJ1cGRhdGVNZW1iZXIiLCJhZGRCcmVlZGVyIiwidW5pdGlkIiwicmVtb3ZlQnJlZWRlciIsImRhdGEiLCJhc3NpZ24iLCJhc3NpZ25NZSIsIiRpZCIsInRyYW5zY2x1ZGUiLCJyZXF1aXJlIiwibWFpbkN0cmwiLCJhY2hpZXZlbWVudHMiLCJBX0JJUlRIUyIsImFpZCIsImRlc2MiLCJyYW5rcyIsIkFfRElSVCIsIkFfRElSVF9DIiwiQV9CUklDS1MiLCJBX0JSSUNLU19DIiwiQV9XQVRFUiIsIkFfV0FURVJfQyIsIkFfV09PRCIsIkFfV09PRF9DIiwiQV9HT0xEIiwiQV9HT0xEX0MiLCJBX0hBUFBJTkVTUyIsIkFfSEFQUElORVNTX0MiLCJwZXJrcyIsIlBfTV9IQVBQSU5FU1MiLCJwaWQiLCJvbmNlIiwiUF9SX01VTFRJUExJRVIiLCJQX1JfQk9OVVMiLCJQX0dfRU5IQU5DRUQiLCJhY2hpZXZlbWVudFNldHVwIiwicmVzb3VyY2VUeXBlcyIsInByb2dyZXNzIiwidXBkYXRlUHJvZ3Jlc3MiLCJhbW91bnQiLCJhY2hQcm9ncmVzcyIsIm9sZHZhbCIsIm5ld3ZhbCIsImFjaFNldHVwIiwicmMiLCJhbW91bnRSZXF1aXJlZCIsImFjaGlldmVtZW50IiwicGMiLCJwIiwiYXBwbHlQZXJrIiwiYXJyIiwicGVya1NldHVwIiwicGVya1NlYXJjaCIsIm1zZyIsImdlbmUiLCJyZXBsYWNlIiwiZHQiLCJ0b1VUQ1N0cmluZyIsImF1dG9TYXZlU3RlcHMiLCJnYW1lTG9vcFNlcnZpY2VTdGF0ZSIsInN0ZXBUaW1lTXMiLCJwb3B1bGF0aW9uU2VydmljZVN0YXRlIiwiYnJlZWRTdGVwcyIsInBvcHVsYXRpb25TdGF0ZSIsImJyZWVkZXJNdWF0YXRpb25DaGFuY2UiLCJhY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSIsInJlc291cmNlU2VydmljZVN0YXRlIiwicmVzb3VyY2VzIiwiRElSVCIsIkJSSUNLUyIsIldBVEVSIiwiV09PRCIsIkdPTEQiLCJIQVBQSU5FU1MiLCIkd2luZG93IiwiaW5pdGlhbGl6ZWQiLCJsYXN0VGltZSIsImdhbWVMb29wIiwibmV3U3RhdGUiLCJzdGVwIiwic3RlcHMiLCIkYXBwbHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJTdWJzY3JpYmVHYW1lTG9vcEV2ZW50IiwiZ2FtZVNhdmVLZXkiLCJkZWZhdWx0U3RhdGUiLCJMWlN0cmluZyIsImpzb24iLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzYXZlZFN0YXRlIiwiZnJvbUpzb24iLCJnYW1lU3RhdGUiLCJzdGFydEdhbWUiLCJzdGVwc1NpbmNlU2F2ZSIsInJlbW92ZUl0ZW0iLCJzYXZlU3RhdGUiLCJzYXZlIiwiY29tcHJlc3NUb0Jhc2U2NCIsInRvSnNvbiIsInNldEl0ZW0iLCJzdGVwc1NpbmNlQnJlZWQiLCJoYW5kbGVHYW1lTG9vcCIsInBvcFVwZGF0ZWQiLCJvZmZzcHJpbmciLCJpbmRleCIsInJlc291cmNlVHlwZSIsImhhc093blByb3BlcnR5IiwicGVyayIsImFkZFJlc291cmNlIiwiZ2V0UmVzb3VyY2VzU25hcHNob3QiLCJpbmNyZWFzZVJlc291cmNlTGltaXQiLCJTdWJzY3JpYmVSZXNvdXJjZUNoYW5nZWRFdmVudCIsIlN1YnNjcmliZVJlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQiLCJsYXN0QnJlZWRlcklEIiwibmV3QnJlZWRlckdlbmRlciIsImtpbGxCcmVlZGVyIiwiYWRkTmV3QnJlZWRlciIsImdlbmRlciIsInVuc2hpZnQiLCJleHBhbmRvIiwicmFuZG9taXplTmFtZSIsInJhbmRvbWl6ZSIsInJhbmRvbWl6ZUFsbCIsIiR0aW1lb3V0IiwicmVzb3VyY2VDaGFuZ2VkIiwicmVzb3VyY2VMaW1pdENoYW5nZWQiLCJlIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUM0QkEsV0FFQSxRQUFBSyxHQUFBQyxFQUFBQyxHQVdBLElBRkEsR0FBQUMsTUFFQUQsRUFBQSxFQUFBQSxJQUNBQyxFQUFBQyxLQUFBQyxPQUFBQyxhQUFBLElBQUFMLElBQ0FBLElBQUEsQ0FHQSxPQUFBRSxHQUFBSSxLQUFBLElBR0EsUUFBQUMsR0FBQUMsRUFBQUMsR0FVQSxJQVJBLEdBQUFDLEdBRUFDLEVBRUFDLEVBSEFDLEVBQUFMLEVBQUFNLE9BRUFDLEVBQUFGLEVB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QSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLHVCQUFBQyxJQUFBLFdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsa0JBQUFDLElBQUEsZ0JBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsZ0JBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTNCLEVBQUEsS0FBQXlCLElBQUEsV0FBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLGlCQUFBQyxJQUFBLGNBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLFNBQUFDLElBQUEsT0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTNCLEVBQUEsS0FBQXlCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0EzQixFQUFBLEtBQUF5QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBM0IsRUFBQSxLQUFBeUIsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQTNCLE1BR0F4RSxLQUFBZ0csU0FBQSxtQkFBQSxXQUNBLEdBQUEvQyxLQUNBM0QsS0FBQSxXQUNBcUMsUUFDQSxHQUFBLElBQUEsTUFDQSxFQUFBLEdBQUEsTUFFQXlFLGdCQUFBLFVBR0E5RyxLQUFBLFNBQ0FxQyxR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QUEsMEJBRUFBLEVBQUFZLEtBQUEsaUJBQUEsU0FBQStULEdBQ0FBLEVBQUFDLElBQUEsMkNBQ0EsczBCQ1JBLFNBQUE1VSxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQTBVLEdBQ0ExVSxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBWSxLQUFBLGlCQUFBLFNBQUErVCxHQUNBQSxFQUFBQyxJQUFBLDZDQUNBLHkrQ0NSQSxTQUFBNVUsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUEwVSxHQUNBMVUsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQVksS0FBQSxpQkFBQSxTQUFBK1QsR0FDQUEsRUFBQUMsSUFBQSwwQ0FDQSxtNkJDUkEsU0FBQTVVLEdBQ0EsSUFDQUEsRUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBMFUsR0FDQTFVLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFZLEtBQUEsaUJBQUEsU0FBQStULEdBQ0FBLEVBQUFDLElBQUEsOENBQ0EscWhCQ1JBLFNBQUE1VSxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQTBVLEdBQ0ExVSxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBWSxLQUFBLGlCQUFBLFNBQUErVCxHQUNBQSxFQUFBQyxJQUFBLDRDQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5mdW5jdGlvbiByYW5kb21JbnRGcm9tSW50ZXJ2YWwobWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG59XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTYXZlS2V5JywgXCJHRU5FVElYX1NBVkVcIik7XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICBQQVVTRUQ6IDAsXHJcbiAgICBSVU5OSU5HOiAxXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudChcImRlZmF1bHRTdGF0ZVwiLCB7XHJcblxyXG4gICAgY2xlYXJMb2c6IHRydWUsXHJcbiAgICBhdXRvU2F2ZVN0ZXBzOiAzMCxcclxuICAgIGdhbWVMb29wU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgc3RlcFRpbWVNczogMTAwMFxyXG4gICAgfSxcclxuICAgIHBvcHVsYXRpb25TZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICBicmVlZFN0ZXBzOiA2LFxyXG4gICAgICAgIHBvcHVsYXRpb25TdGF0ZToge1xyXG4gICAgICAgICAgICBpbml0aWFsU2l6ZTogMixcclxuICAgICAgICAgICAgbWF4U2l6ZTogMjIsXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkJpdHM6IDUsXHJcbiAgICAgICAgICAgIGJyZWVkZXJHZW5lc1VubG9ja2VkOiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgNDJdLFxyXG4gICAgICAgICAgICBicmVlZGVyTXVhdGF0aW9uQ2hhbmNlOiAxMFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhY2hpZXZlbWVudFNlcnZpY2VTdGF0ZToge1xyXG4gICAgICAgIGFjaGlldmVtZW50czogW10sXHJcbiAgICAgICAgcGVya3M6IFtdXHJcbiAgICB9LFxyXG4gICAgcmVzb3VyY2VTZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICByZXNvdXJjZXM6IHtcclxuICAgICAgICAgICAgRElSVDogWzAsIDI1MDAwXSxcclxuICAgICAgICAgICAgQlJJQ0tTOiBbMCwgMjUwMDBdLFxyXG4gICAgICAgICAgICBXQVRFUjogWzAsIDEwMDBdLFxyXG4gICAgICAgICAgICBXT09EOiBbMCwgMTAwMF0sXHJcbiAgICAgICAgICAgIEdPTEQ6IFswLCAxMDAwXSxcclxuICAgICAgICAgICAgSEFQUElORVNTOiBbMCwgMTBdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2dhbWVMb29wU2VydmljZScsIFsnJHdpbmRvdycsICckcm9vdFNjb3BlJywgJ2dhbWVTdGF0ZXMnLCAnbG9nU2VydmljZScsXHJcbiAgICBmdW5jdGlvbigkd2luZG93LCAkcm9vdFNjb3BlLCBnYW1lU3RhdGVzLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHt9O1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBUaW1lTXMgPSBzdGF0ZS5zdGVwVGltZU1zIHx8IHNlbGYuc3RlcFRpbWVNcyB8fCAxMDAwO1xyXG4gICAgICAgICAgICBzZWxmLmxhc3RUaW1lID0gMDtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBnYW1lU3RhdGVzLlBBVVNFRDtcclxuICAgICAgICAgICAgaWYgKCFzZWxmLmluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNlbGYuZ2FtZUxvb3AoMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gc3RhdGUuY3VycmVudFN0YXRlIHx8IHNlbGYuY3VycmVudFN0YXRlIHx8IGdhbWVTdGF0ZXMuUlVOTklORztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGVwVGltZU1zOiBzZWxmLnN0ZXBUaW1lTXMsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGU6IHNlbGYuY3VycmVudFN0YXRlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnNldFN0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgICAgICAgICAgaWYgKG5ld1N0YXRlID09PSBnYW1lU3RhdGVzLlBBVVNFRCkgbG9nU2VydmljZS5sb2dHZW5lcmFsTWVzc2FnZShcIkdhbWUgcGF1c2VkLlwiKTtcclxuICAgICAgICAgICAgZWxzZSBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKFwiR2FtZSByZXN1bWVkLlwiKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmdhbWVMb29wID0gZnVuY3Rpb24oc3RlcCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChzZWxmLmxhc3RUaW1lICsgc3RlcCA+IChzZWxmLnN0ZXBUaW1lTXMgKiAoc3RlcHMgKyAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHN0ZXBzKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5sYXN0VGltZSA9IChzZWxmLmxhc3RUaW1lIC0gKHNlbGYuc3RlcFRpbWVNcyAqIHN0ZXBzKSk7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLmN1cnJlbnRTdGF0ZSA9PSBnYW1lU3RhdGVzLlJVTk5JTkcgJiYgc3RlcHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseSgkcm9vdFNjb3BlLiRlbWl0KCdnYW1lTG9vcEV2ZW50Jywgc3RlcHMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmdhbWVMb29wLmJpbmQodGhpcykpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlR2FtZUxvb3BFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCdnYW1lTG9vcEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7XHJcblxyXG5nYW1lLnNlcnZpY2UoJ2dhbWVTZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnZ2FtZVNhdmVLZXknLCAnZGVmYXVsdFN0YXRlJywgJ2xvZ1NlcnZpY2UnLCAnZ2FtZUxvb3BTZXJ2aWNlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgJ2FjaGlldmVtZW50U2VydmljZScsICdyZXNvdXJjZVNlcnZpY2UnLCAnTFpTdHJpbmcnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZ2FtZVNhdmVLZXksIGRlZmF1bHRTdGF0ZSwgbG9nU2VydmljZSwgZ2FtZUxvb3BTZXJ2aWNlLCBwb3B1bGF0aW9uU2VydmljZSwgYWNoaWV2ZW1lbnRTZXJ2aWNlLCByZXNvdXJjZVNlcnZpY2UsIExaU3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHZhciBqc29uID0gTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQobG9jYWxTdG9yYWdlLmdldEl0ZW0oZ2FtZVNhdmVLZXkpKTtcclxuICAgICAgICAgICAgdmFyIHNhdmVkU3RhdGUgPSAoanNvbikgPyBhbmd1bGFyLmZyb21Kc29uKGpzb24pIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBzZWxmLmdhbWVTdGF0ZSA9IHN0YXRlIHx8IHNhdmVkU3RhdGUgfHwgZGVmYXVsdFN0YXRlO1xyXG4gICAgICAgICAgICBzZWxmLmF1dG9TYXZlU3RlcHMgPSBzZWxmLmdhbWVTdGF0ZS5hdXRvU2F2ZVN0ZXBzIHx8IHNlbGYuYXV0b1NhdmVTdGVwcyB8fCAxMDtcclxuICAgICAgICAgICAgc2VsZi5zdGFydEdhbWUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlU2F2ZSA9IDA7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5zdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbG9nU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmNsZWFyTG9nKTtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuaW5pdChzZWxmLmdhbWVTdGF0ZS5wb3B1bGF0aW9uU2VydmljZVN0YXRlIHx8IHt9KTtcclxuICAgICAgICAgICAgcmVzb3VyY2VTZXJ2aWNlLmluaXQoc2VsZi5nYW1lU3RhdGUucmVzb3VyY2VTZXJ2aWNlU3RhdGUgfHwge30pO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UuaW5pdChzZWxmLmdhbWVTdGF0ZS5hY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSB8fCB7fSk7XHJcbiAgICAgICAgICAgIGdhbWVMb29wU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmdhbWVMb29wU2VydmljZVN0YXRlIHx8IHt9KTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmhhcmRSZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShnYW1lU2F2ZUtleSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5pdCgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGdhbWVMb29wU2VydmljZS5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50KCRyb290U2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBzdGVwcykge1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VTYXZlICs9IHN0ZXBzO1xyXG4gICAgICAgICAgICBpZiAoc2VsZi5zdGVwc1NpbmNlU2F2ZSA+IHNlbGYuYXV0b1NhdmVTdGVwcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNhdmVTdGF0ZSA9IGFuZ3VsYXIuY29weShzZWxmLmdhbWVTdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBzYXZlU3RhdGUucG9wdWxhdGlvblNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShwb3B1bGF0aW9uU2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5yZXNvdXJjZVNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShyZXNvdXJjZVNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICBzYXZlU3RhdGUuYWNoaWV2ZW1lbnRTZXJ2aWNlU3RhdGUgPSBhbmd1bGFyLmNvcHkoYWNoaWV2ZW1lbnRTZXJ2aWNlLmdldFN0YXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlLmdhbWVMb29wU2VydmljZVN0YXRlID0gYW5ndWxhci5jb3B5KGdhbWVMb29wU2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHZhciBzYXZlID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChhbmd1bGFyLnRvSnNvbihhbmd1bGFyLmNvcHkoc2F2ZVN0YXRlKSkpO1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZ2FtZVNhdmVLZXksIHNhdmUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoJ0dhbWUgYXV0b3NhdmVkLicpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlU2F2ZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbl0pOyIsIi8qIVxyXG4gKiBHZW5lcmF0ZSBCaXRtYXAgRGF0YSBVUkxcclxuICogaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXMtcGFpbnQvXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEwLCBQZXRlciBDb2xlc1xyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VzLlxyXG4gKiBodHRwOi8vbXJjb2xlcy5jb20vbWVkaWEvbWl0LWxpY2Vuc2UudHh0XHJcbiAqXHJcbiAqIERhdGU6IFR1ZSBPY3QgMjYgMDA6MDA6MDAgMjAxMCAtMDUwMFxyXG4gKi9cclxuXHJcbi8qXHJcbiAqIENvZGUgdG8gZ2VuZXJhdGUgQml0bWFwIGltYWdlcyAodXNpbmcgZGF0YSB1cmxzKSBmcm9tIHJvd3Mgb2YgUkdCIGFycmF5cy5cclxuICogU3BlY2lmaWNhbGx5IGZvciB1c2Ugd2l0aCBodHRwOi8vbXJjb2xlcy5jb20vbG93LXJlc3QtcGFpbnQvXHJcbiAqXHJcbiAqIFJlc2VhcmNoOlxyXG4gKlxyXG4gKiBSRkMgMjM5NyBkYXRhIFVSTFxyXG4gKiBodHRwOi8vd3d3LnhzNGFsbC5ubC9+d3JiL0FydGljbGVzL0FydGljbGVfSU1HX1JGQzIzOTdfUDFfMDEuaHRtXHJcbiAqXHJcbiAqIEJNUCBmaWxlIEZvcm1hdFxyXG4gKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JNUF9maWxlX2Zvcm1hdCNFeGFtcGxlX29mX2FfMi5DMy45NzJfUGl4ZWwuMkNfMjQtQml0X0JpdG1hcF8uMjhXaW5kb3dzX1YzX0RJQi4yOVxyXG4gKlxyXG4gKiBCTVAgTm90ZXNcclxuICpcclxuICogLSBJbnRlZ2VyIHZhbHVlcyBhcmUgbGl0dGxlLWVuZGlhbiwgaW5jbHVkaW5nIFJHQiBwaXhlbHMsIGUuZy4sICgyNTUsIDAsIDApIC0+IFxceDAwXFx4MDBcXHhGRlxyXG4gKiAtIEJpdG1hcCBkYXRhIHN0YXJ0cyBhdCBsb3dlciBsZWZ0IChhbmQgcmVhZHMgYWNyb3NzIHJvd3MpXHJcbiAqIC0gSW4gdGhlIEJNUCBkYXRhLCBwYWRkaW5nIGJ5dGVzIGFyZSBpbnNlcnRlZCBpbiBvcmRlciB0byBrZWVwIHRoZSBsaW5lcyBvZiBkYXRhIGluIG11bHRpcGxlcyBvZiBmb3VyLFxyXG4gKiAgIGUuZy4sIGEgMjQtYml0IGJpdG1hcCB3aXRoIHdpZHRoIDEgd291bGQgaGF2ZSAzIGJ5dGVzIG9mIGRhdGEgcGVyIHJvdyAoUiwgRywgQikgKyAxIGJ5dGUgb2YgcGFkZGluZ1xyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNMaXR0bGVFbmRpYW5IZXgodmFsdWUsIGJ5dGVzKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCB2YWx1ZSBpbnRvIGxpdHRsZSBlbmRpYW4gaGV4IGJ5dGVzXHJcbiAgICAgICAgLy8gdmFsdWUgLSB0aGUgbnVtYmVyIGFzIGEgZGVjaW1hbCBpbnRlZ2VyIChyZXByZXNlbnRpbmcgYnl0ZXMpXHJcbiAgICAgICAgLy8gYnl0ZXMgLSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoYXQgdGhpcyB2YWx1ZSB0YWtlcyB1cCBpbiBhIHN0cmluZ1xyXG5cclxuICAgICAgICAvLyBFeGFtcGxlOlxyXG4gICAgICAgIC8vIF9hc0xpdHRsZUVuZGlhbkhleCgyODM1LCA0KVxyXG4gICAgICAgIC8vID4gJ1xceDEzXFx4MGJcXHgwMFxceDAwJ1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyBieXRlcyA+IDA7IGJ5dGVzLS0pIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSAmIDI1NSkpO1xyXG4gICAgICAgICAgICB2YWx1ZSA+Pj0gODtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgcm93cyBvZiBSR0IgYXJyYXlzIGludG8gQk1QIGRhdGFcclxuICAgICAgICB2YXIgaSxcclxuICAgICAgICAgICAgcm93c19sZW4gPSByb3dzLmxlbmd0aCxcclxuICAgICAgICAgICAgaixcclxuICAgICAgICAgICAgcGl4ZWxzX2xlbiA9IHJvd3NfbGVuID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBwaXhlbCxcclxuICAgICAgICAgICAgcGFkZGluZyA9ICcnLFxyXG4gICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICg7IHJvd19wYWRkaW5nID4gMDsgcm93X3BhZGRpbmctLSkge1xyXG4gICAgICAgICAgICBwYWRkaW5nICs9ICdcXHgwMCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93c19sZW47IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGl4ZWxzX2xlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbCA9IHJvd3NbaV1bal07XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzJdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsxXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChwYWRkaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIFNpbXBsZXN0IHNjYWxpbmcgcG9zc2libGVcclxuICAgICAgICB2YXIgcmVhbF9oID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNjYWxlZF9oID0gcGFyc2VJbnQocmVhbF9oICogc2NhbGUpLFxyXG4gICAgICAgICAgICByZWFsX3cgPSByZWFsX2ggPyByb3dzWzBdLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlZF93ID0gcGFyc2VJbnQocmVhbF93ICogc2NhbGUpLFxyXG4gICAgICAgICAgICBuZXdfcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBuZXdfcm93LCB4LCB5O1xyXG5cclxuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgc2NhbGVkX2g7IHkrKykge1xyXG4gICAgICAgICAgICBuZXdfcm93cy5wdXNoKG5ld19yb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCBzY2FsZWRfdzsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdfcm93LnB1c2gocm93c1twYXJzZUludCh5IC8gc2NhbGUpXVtwYXJzZUludCh4IC8gc2NhbGUpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld19yb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUJpdG1hcERhdGFVUkwgPSBmdW5jdGlvbihyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIEV4cGVjdHMgcm93cyBzdGFydGluZyBpbiBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGZvcm1hdHRlZCBsaWtlIHRoaXM6IFtbWzI1NSwgMCwgMF0sIFsyNTUsIDI1NSwgMF0sIC4uLl0sIC4uLl1cclxuICAgICAgICAvLyB3aGljaCByZXByZXNlbnRzOiBbW3JlZCwgeWVsbG93LCAuLi5dLCAuLi5dXHJcblxyXG4gICAgICAgIGlmICghd2luZG93LmJ0b2EpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ09oIG5vLCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBiYXNlNjQgZW5jb2RpbmcgLSB3aW5kb3cuYnRvYSgpISEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxO1xyXG4gICAgICAgIGlmIChzY2FsZSAhPSAxKSB7XHJcbiAgICAgICAgICAgIHJvd3MgPSBfc2NhbGVSb3dzKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBoZWlnaHQgPSByb3dzLmxlbmd0aCwgLy8gdGhlIG51bWJlciBvZiByb3dzXHJcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ID8gcm93c1swXS5sZW5ndGggOiAwLCAvLyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgcGVyIHJvd1xyXG4gICAgICAgICAgICByb3dfcGFkZGluZyA9ICg0IC0gKHdpZHRoICogMykgJSA0KSAlIDQsIC8vIHBhZCBlYWNoIHJvdyB0byBhIG11bHRpcGxlIG9mIDQgYnl0ZXNcclxuICAgICAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSAod2lkdGggKiAzICsgcm93X3BhZGRpbmcpICogaGVpZ2h0LCAvLyBzaXplIGluIGJ5dGVzIG9mIEJNUCBkYXRhXHJcbiAgICAgICAgICAgIG51bV9maWxlX2J5dGVzID0gNTQgKyBudW1fZGF0YV9ieXRlcywgLy8gZnVsbCBoZWFkZXIgc2l6ZSAob2Zmc2V0KSArIHNpemUgb2YgZGF0YVxyXG4gICAgICAgICAgICBmaWxlO1xyXG5cclxuICAgICAgICBoZWlnaHQgPSBfYXNMaXR0bGVFbmRpYW5IZXgoaGVpZ2h0LCA0KTtcclxuICAgICAgICB3aWR0aCA9IF9hc0xpdHRsZUVuZGlhbkhleCh3aWR0aCwgNCk7XHJcbiAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSBfYXNMaXR0bGVFbmRpYW5IZXgobnVtX2RhdGFfYnl0ZXMsIDQpO1xyXG4gICAgICAgIG51bV9maWxlX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9maWxlX2J5dGVzLCA0KTtcclxuXHJcbiAgICAgICAgLy8gdGhlc2UgYXJlIHRoZSBhY3R1YWwgYnl0ZXMgb2YgdGhlIGZpbGUuLi5cclxuXHJcbiAgICAgICAgZmlsZSA9ICgnQk0nICsgLy8gXCJNYWdpYyBOdW1iZXJcIlxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIGZpbGUgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDM2XFx4MDBcXHgwMFxceDAwJyArIC8vIG9mZnNldCBvZiB3aGVyZSBCTVAgZGF0YSBsaXZlcyAoNTQgYnl0ZXMpXHJcbiAgICAgICAgICAgICdcXHgyOFxceDAwXFx4MDBcXHgwMCcgKyAvLyBudW1iZXIgb2YgcmVtYWluaW5nIGJ5dGVzIGluIGhlYWRlciBmcm9tIGhlcmUgKDQwIGJ5dGVzKVxyXG4gICAgICAgICAgICB3aWR0aCArIC8vIHRoZSB3aWR0aCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgaGVpZ2h0ICsgLy8gdGhlIGhlaWdodCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgJ1xceDAxXFx4MDAnICsgLy8gdGhlIG51bWJlciBvZiBjb2xvciBwbGFuZXMgKDEpXHJcbiAgICAgICAgICAgICdcXHgxOFxceDAwJyArIC8vIDI0IGJpdHMgLyBwaXhlbFxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTm8gY29tcHJlc3Npb24gKDApXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzICsgLy8gc2l6ZSBvZiB0aGUgQk1QIGRhdGEgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDEzXFx4MEJcXHgwMFxceDAwJyArIC8vIDI4MzUgcGl4ZWxzL21ldGVyIC0gaG9yaXpvbnRhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIHRoZSB2ZXJ0aWNhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyBOdW1iZXIgb2YgY29sb3JzIGluIHRoZSBwYWxldHRlIChrZWVwIDAgZm9yIDI0LWJpdClcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIDAgaW1wb3J0YW50IGNvbG9ycyAobWVhbnMgYWxsIGNvbG9ycyBhcmUgaW1wb3J0YW50KVxyXG4gICAgICAgICAgICBfY29sbGFwc2VEYXRhKHJvd3MsIHJvd19wYWRkaW5nKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiAnZGF0YTppbWFnZS9ibXA7YmFzZTY0LCcgKyBidG9hKGZpbGUpO1xyXG4gICAgfTtcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbi8vXHJcbi8vIENvZGUgc3BlY2lmaWMgdG8gbG93IHJlcyBwYWludFxyXG4vL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIHZhciAkYmdfdHJhbnNmb3JtO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKSB7XHJcbiAgICAgICAgLy8gZGlmZmVyZW50IGJyb3dzZXJzIHJldHVybiB0aGUgY29sb3IgZGlmZmVyZW50bHlcclxuICAgICAgICAvLyBsZXQncyBzdXBwb3J0IFwicmdiKDEyMywgMCwgNSlcIiwgXCIjZmZmXCIsIGFuZCBcIiNmZjAwOTlcIlxyXG4gICAgICAgIGlmICgvXnJnYlxcKFxcZCssIFxcZCssIFxcZCtcXCkkLy50ZXN0KGJnKSkge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLnN1YnN0cig0KTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCB0OyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFtpXSA9IHBhcnNlSW50KHhbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChiZy5zdWJzdHJpbmcoMCwgMSkgPT0gJyMnKSB7XHJcbiAgICAgICAgICAgICRiZ190cmFuc2Zvcm0gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0geC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoJzB4JyArIHguc3Vic3RyaW5nKGksIGkgKyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoJ1VucGFyc2VhYmxlIGNvbG9yOiAnICsgYmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiAkYmdBc1JHQihpZCkge1xyXG4gICAgICAgIHZhciBiZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgaWYgKGJnID09PSAnJykgcmV0dXJuIFsyNTUsIDI1NSwgMjU1XTtcclxuICAgICAgICBpZiAoJGJnX3RyYW5zZm9ybSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICRiZ190cmFuc2Zvcm0oYmcpO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcCA9IGZ1bmN0aW9uKHNjYWxlKSB7XHJcbiAgICAgICAgLy8gcGl4ZWxzIGFyZSB4X3kgc3RhcnRpbmcgaW4gdG9wIGxlZnQsIHdlIG5lZWQgdG8gaXRlcmF0ZSBmcm9tIGJvdHRvbSBsZWZ0XHJcbiAgICAgICAgLy8gZGltZW5zaW9ucyBhcmUgYSA1MHg1MCBzcXVhcmUgKDAsIDAsIDQ5LCA0OSlcclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxMDtcclxuXHJcbiAgICAgICAgdmFyIHgsXHJcbiAgICAgICAgICAgIHhfbGVuID0gNTAsXHJcbiAgICAgICAgICAgIHkgPSA0OSxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICByb3csXHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQsXHJcbiAgICAgICAgICAgIGltZyxcclxuICAgICAgICAgICAgc3JjO1xyXG5cclxuICAgICAgICBmb3IgKDsgeSA+PSAwOyB5LS0pIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdyA9IFtdKTtcclxuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHhfbGVuOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKCRiZ0FzUkdCKHggKyAnXycgKyB5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIHRlc3QgaW1hZ2UgKiAvXHJcbiAgICAgICAgcm93cyA9IFtcclxuICAgICAgICAgICAgW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDI1NV1dLFxyXG4gICAgICAgICAgICBbWzAsIDAsIDI1NV0sIFswLCAyNTUsMF1dXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvKiAqL1xyXG5cclxuICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBzcmMgPSB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIGltZy5hbHQgPSAnSWYgeW91IGNhbiByZWFkIHRoaXMsIHlvdXIgYnJvd3NlciBwcm9iYWJseSBkb2VzblxcJ3Qgc3VwcG9ydCB0aGUgZGF0YSBVUkwgc2NoZW1lIGZvcm1hdCEgT2ggbm8hJztcclxuICAgICAgICBpbWcudGl0bGUgPSAnWW91IGdlbmVyYXRlZCBhbiBpbWFnZSwgZ3JlYXQgam9iISBUbyBzYXZlIGl0LCBkcmFnIGl0IHRvIHlvdXIgRGVza3RvcCBvciByaWdodCBjbGljayBhbmQgc2VsZWN0IHNhdmUgYXMuJztcclxuICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xyXG4gICAgICAgIGlmIChpbWdfcGFyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5pZCA9ICdpbWcnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcCcpLmFwcGVuZENoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWdfcGFyZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiaW1nLWhlYWRlclwiPkdlbmVyYXRlZCBJbWFnZSAmbmJzcDs8YSB0aXRsZT1cImhpZGUgaW1hZ2VcIiBocmVmPVwiI1wiPng8L2E+PC9kaXY+JztcclxuICAgICAgICBpbWdfcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbWdfcGFyZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAuYXNrVG9TY2FsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHByb21wdCgnUGljayBhIHNjYWxpbmcgZmFjdG9yLi4uXFxuMSA9IGFjdHVhbCBzaXplLCAuNSA9IGhhbGYsIDIgPSBkb3VibGVcXG4obm90ZTogbGFyZ2UgbnVtYmVycyBtaWdodCBjcmFzaCB5b3VyIGJyb3dzZXIpJyk7XHJcbiAgICAgICAgaWYgKHNjYWxlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IE5hTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NhbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnVGhhdCBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHNjYWxlICogMTA7IC8vIHNpbmNlIGFjdHVhbCBzaXplIGlzIGFjdHVhbGx5IDEweCFcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcChzY2FsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxufSkodGhpcywgdGhpcy5kb2N1bWVudCk7IiwiKGZ1bmN0aW9uKCQpIHtcclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnRvb2x0aXAoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ1tyZWw9dG9vbHRpcF0nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFsndWkucm91dGVyJywgJ2x6LXN0cmluZyddKVxyXG4gICAgLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlcicsXHJcbiAgICAgICAgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVzID0gW107XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lJyxcclxuICAgICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy5ob21lJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLm1haW4nLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnbWFpbicsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLmFjaGlldmVtZW50cycsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICdhY2hpZXZlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy5hY2hpZXZlbWVudHNVSSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS50ZXN0JyxcclxuICAgICAgICAgICAgICAgIHVybDogJ3Rlc3QnLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzdGF0ZXMuZm9yRWFjaChmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoc3RhdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIF0pLnJ1bihbJ2dhbWVTZXJ2aWNlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgJ2xvZ1NlcnZpY2UnLCBmdW5jdGlvbihnYW1lU2VydmljZSwgcG9wdWxhdGlvblNlcnZpY2UsIGxvZ1NlcnZpY2UpIHtcclxuICAgICAgICBnYW1lU2VydmljZS5pbml0KCk7XHJcbiAgICAgICAgLy9wb3B1bGF0aW9uU2VydmljZS5pbml0KCk7XHJcbiAgICAgICAgLy9sb2dTZXJ2aWNlLmluaXQoKTtcclxuICAgIH1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5hY2hpZXZlbWVudHNVSScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmFjaGlldmVtZW50c1VJJyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdGl0bGU6ICdAJyxcclxuICAgICAgICBmb290ZXI6ICdAJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmFjaGlldmVtZW50c1VJJywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmZpbHRlcignaGFzVHJhaXQnLCBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbih1bml0cywgdHJhaXROYW1lKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdW5pdHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgIGlmICh1bml0c1tpXS5oYXNUcmFpdCh0cmFpdE5hbWUpKVxyXG4gICAgICAgICAgICAgICAgcmV0LnB1c2godW5pdHNbaV0pO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9O1xyXG59KTtcclxuXHJcblxyXG5nYW1lLmZhY3RvcnkoJ0JyZWVkZXInLCBbJyRmaWx0ZXInLCAnVHJhaXRJbnNwZWN0b3InLCBmdW5jdGlvbigkZmlsdGVyLCBUcmFpdEluc3BlY3Rvcikge1xyXG5cclxuXHJcblxyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBCcmVlZGVyID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy50cmFpdEluc3BlY3RvciA9IG5ldyBUcmFpdEluc3BlY3RvcigpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKGNvbmZpZyk7ICAgICAgICBcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwO1xyXG4gICAgICAgIHRoaXMubW90aGVyID0gY29uZmlnLm1vdGhlciB8fCB0aGlzLm1vdGhlciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuZmF0aGVyID0gY29uZmlnLmZhdGhlciB8fCB0aGlzLmZhdGhlciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGNvbmZpZy5nZW5lcmF0aW9uIHx8IHRoaXMuZ2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2VuZXMgPSBjb25maWcuZ2VuZXMgfHwgdGhpcy5nZW5lcyB8fCBbXTtcclxuICAgICAgICAvLyhtYXggbnVtYmVyIG9mIGJpdHMgdGhhdCBjYW4gbXV0YXRlLCBsaW1pdHMgdGhlIG1heC9taW4gdmFsdWVzIGZvciBlYWNoIGdlbmUpXHJcbiAgICAgICAgLy8gNCA9IG1heCAxNSwgNSA9IG1heCAzMS4uLiA4ID0gbWF4IDI1NVxyXG4gICAgICAgIHRoaXMubXV0YXRpb25CaXRzID0gY29uZmlnLm11dGF0aW9uQml0cyB8fCB0aGlzLm11dGF0aW9uQml0cyB8fCA0O1xyXG5cclxuICAgICAgICB0aGlzLnJlZEdyZWVuSW1hZ2UgPSBnZXRSZWRHcmVlbkltYWdlKHRoaXMuZ2VuZXMsIHRoaXMubXV0YXRpb25CaXRzKTtcclxuICAgICAgICB0aGlzLmJsdWVJbWFnZSA9IGdldEJsdWVJbWFnZSh0aGlzLmdlbmVzKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFpdHMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldFRyYWl0cyh0aGlzLmdlbmVzKTtcclxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB0aGlzLnRyYWl0SW5zcGVjdG9yLmdldEF0dHJpYnV0ZXModGhpcy5nZW5lcyk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZSA9ICh0aGlzLm5hbWUgJiYgdGhpcy5uYW1lICE9PSAnVW5rbm93biBHZW5kZXInKSA/IHRoaXMubmFtZSA6IGNvbmZpZy5uYW1lIHx8IHRoaXMuZ2V0UmFuZG9tTmFtZSgpO1xyXG5cclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5icmVlZCA9IGZ1bmN0aW9uKHBhcnRuZXIsIG5ld0lkKSB7XHJcbiAgICAgICAgdmFyIHAxID0gdGhpcztcclxuICAgICAgICB2YXIgcDIgPSBwYXJ0bmVyO1xyXG5cclxuICAgICAgICB2YXIgbXlHZW5kZXIgPSB0aGlzLmhhc1RyYWl0KCdNYWxlJykgPyAnTWFsZScgOiAnRmVtYWxlJztcclxuXHJcbiAgICAgICAgdmFyIGNoaWxkID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICBpZDogbmV3SWQsXHJcbiAgICAgICAgICAgIGdlbmVyYXRpb246IHAxLmdlbmVyYXRpb24gKyAxLFxyXG4gICAgICAgICAgICBnZW5lczogW10sXHJcbiAgICAgICAgICAgIG1vdGhlcjogbXlHZW5kZXIgPT0gJ0ZlbWFsZScgPyBwMSA6IHAyLFxyXG4gICAgICAgICAgICBmYXRoZXI6IG15R2VuZGVyID09ICdNYWxlJyA/IHAxIDogcDJcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBwMS5nZW5lcy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICB2YXIgcDFnID0gcDEuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIHZhciBwMmcgPSBwMi5nZW5lc1tnXTtcclxuICAgICAgICAgICAgY2hpbGQuZ2VuZXMucHVzaChjcm9zc292ZXIocDFnLCBwMmcsIHRoaXMubXV0YXRpb25CaXRzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkLnVwZGF0ZSgpOyAgICAgXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xyXG4gICAgfTtcclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWl0cztcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5oYXNUcmFpdCA9IGZ1bmN0aW9uKHRyYWl0KSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudHJhaXRzLmZpbHRlcihmdW5jdGlvbihteVRyYWl0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBteVRyYWl0Lm5hbWUgPT09IHRyYWl0O1xyXG4gICAgICAgIH0pLmxlbmd0aDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0ID4gMDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRSYW5kb21OYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdlbmVzIHx8IHRoaXMuZ2VuZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnVW5rbm93biBHZW5kZXInO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGZpcnN0TmFtZSA9ICh0aGlzLmhhc1RyYWl0KCdNYWxlJykpID8gbmFtZUxpc3QxW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDEubGVuZ3RoIC0gMSldIDogbmFtZUxpc3QyW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLCBuYW1lTGlzdDIubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHZhciBsYXN0TmFtZSA9IG5hbWVMaXN0M1tyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QzLmxlbmd0aCAtIDEpXSArIG5hbWVMaXN0NFtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3Q0Lmxlbmd0aCAtIDEpXSArIG5hbWVMaXN0NVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3Q1Lmxlbmd0aCAtIDEpXTtcclxuICAgICAgICByZXR1cm4gZmlyc3ROYW1lICsgbGFzdE5hbWU7XHJcbiAgICB9O1xyXG4gICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYWxsIHJlbGF0aW9ucyB0byBhY2NvdW50IGZvciBpbmJyZWVkaW5nIChha2EgdW5jbGUgYnJvdGhlcilcclxuICAgIC8qIHRoaXMgaXMgd2F5IHdyb25nLi4uLlxyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmVsYXRpb25zID0gZnVuY3Rpb24odGhleSkge1xyXG4gICAgICAgIHZhciBteXBhdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIG15bWF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgbXlHZW5kZXIgPSB0aGlzLmhhc1RyYWl0KCdNYWxlJykgPyAnTWFsZScgOiAnRmVtYWxlJztcclxuICAgICAgICB2YXIgdGhleXBhdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIHRoZXltYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciB0aGV5R2VuZGVyID0gdGhleS5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcblxyXG4gICAgICAgIHZhciB1O1xyXG4gICAgICAgIC8vIGJ1aWxkICdteScgbGlzdCBvZiBtb3RoZXJzIGFuZCBmYXRoZXJzXHJcbiAgICAgICAgdSA9IHRoaXM7XHJcbiAgICAgICAgd2hpbGUgKHUubW90aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBteW1hdGVybmFsLnB1c2godS5tb3RoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5tb3RoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlICh1LmZhdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbXlwYXRlcm5hbC5wdXNoKHUuZmF0aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUuZmF0aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBidWlsZCAndGhleScgbGlzdCBvZiBtb3RoZXJzIGFuZCBmYXRoZXJzXHJcbiAgICAgICAgdSA9IHRoZXk7XHJcbiAgICAgICAgd2hpbGUgKHUubW90aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGV5bWF0ZXJuYWwucHVzaCh1Lm1vdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1Lm1vdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdSA9IHRoZXk7XHJcbiAgICAgICAgd2hpbGUgKHUuZmF0aGVyICE9IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGV5cGF0ZXJuYWwucHVzaCh1LmZhdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1LmZhdGhlcjtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcblxyXG4gICAgICAgIC8vIGNoZWNrIGZvciBtYXRlcm5hbCByZWxhdGlvbnNoaXBzXHJcbiAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBteW1hdGVybmFsLmxlbmd0aDsgaCsrKVxyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoZXltYXRlcm5hbC5sZW5ndGg7IGsrKylcclxuICAgICAgICAgICAgICAgIGlmIChteW1hdGVybmFsW2hdLmlkID09IHRoZXltYXRlcm5hbC5pZClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBzYW1lIG1vdGhlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID09IDAgJiYga2sgPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goKCh0aGlzLmZhdGhlci5pZCAhPSB0aGV5LmZhdGhlci5pZCkgPyAnSGFsZiAnIDogJycpICsgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdTaXN0ZXInIDogJ0Jyb3RoZXInKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID4gaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goJ0dyYW5kICcucmVwZWF0KChoLWspIC0gMSkgKyAgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdOZWljZScgOiAnTmVwaGV3JykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoID4gaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goJ0dyYW5kICcucmVwZWF0KChoLWspIC0gMSkgKyAgKCh0aGV5R2VuZGVyID09ICdGZW1hbGUnKSA/ICdOZWljZScgOiAnTmVwaGV3JykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG5cclxuXHJcbiAgICB9O1xyXG4gICAgKi9cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcbiAgICB2YXIgZ2VuZXRpY09wdGlvbnMgPSB7XHJcbiAgICAgICAgY3Jvc3NvdmVycmF0ZTogMC41XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuICAgIC8vIG1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDEgPSBbJ0RpZ2d5ICcsICdEZWFuICcsICdEdWtlICcsICdEb3lsZSAnLCAnRGlyayAnLCAnRGFnICcsICdEaW1pdHJpICcsICdEcnUgJ107XHJcbiAgICAvLyBmZW1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDIgPSBbJ0RhZ2d5ICcsICdEYWlzeSAnLCAnRGluYWggJywgJ0RoYXJtYSAnLCAnRGVlICcsICdEYXBobmUgJywgJ0RpeGllICcsICdEYXJjeSAnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBwcmVmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDMgPSBbJycsICcnLCAnJywgJycsICcnLCAnVmFuICcsICdWb24gJywgJ09cXCcnLCAnTWMnLCAnTWMnXTtcclxuICAgIC8vIGxhc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDQgPSBbJ0Rvb2cnLCAnRGliYicsICdEYWJiJywgJ0RpZycsICdEYW5nJywgJ0R1Z2cnXTtcclxuICAgIC8vIGxhc3QgbmFtZSBzdWZmaXhlcyAoZW1wdHkgc3RyaW5ncyBhbmQgZHVwZXMgYXJlIGZvciBjb250cm9sbGluZyB0aGUgb2RkcylcclxuICAgIHZhciBuYW1lTGlzdDUgPSBbJycsICcnLCAnJywgJ2xlcicsICdsZXInLCAnZXInLCAnZXInLCAnZXInLCAnd3VlcnN0JywgJ2Vyd3VlcnN0JywgJ2VydG9uJywgJ2VydG9uJywgJ3NraSddO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgZnVuY3Rpb25zICovXHJcbiAgICBmdW5jdGlvbiBjcm9zc292ZXIoZzEsIGcyLCBtYXhCaXRzKSB7XHJcbiAgICAgICAgdmFyIGNyb3Nzb3ZlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgdmFyIGcgPSBhbmd1bGFyLmNvcHkoY3Jvc3NvdmVyIDw9IGdlbmV0aWNPcHRpb25zLmNyb3Nzb3ZlcnJhdGUgPyBnMSA6IGcyKTtcclxuICAgICAgICB2YXIgbXV0YXRpb25SYXRlID0gZ1syXSAvIDI1NS4wO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdSID0gJyc7XHJcbiAgICAgICAgdmFyIGJpdFN0cmluZ0cgPSAnJztcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heEJpdHM7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nUiArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IG11dGF0aW9uUmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdHICs9ICcwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2xkUiA9IGdbMF07XHJcbiAgICAgICAgdmFyIG9sZEcgPSBnWzFdO1xyXG4gICAgICAgIGdbMF0gXj0gcGFyc2VJbnQoYml0U3RyaW5nUiwgMik7XHJcbiAgICAgICAgZ1sxXSBePSBwYXJzZUludChiaXRTdHJpbmdHLCAyKTtcclxuICAgICAgICByZXR1cm4gZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWRHcmVlbkltYWdlKGdlbmVzLCBtdXRhdGlvbkJpdHMpIHtcclxuICAgICAgICByZXR1cm4gZ2VuZXJhdGVCaXRtYXBEYXRhVVJMKGFkZFJvd3MoY29udmVydFJlZEdyZWVuTWFwKGdlbmVzLCBtdXRhdGlvbkJpdHMpLCBnZW5lcy5sZW5ndGgpLCAyMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Qmx1ZUltYWdlKGdlbmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQml0bWFwRGF0YVVSTChhZGRSb3dzKGNvbnZlcnRCbHVlTWFwKGdlbmVzKSwgZ2VuZXMubGVuZ3RoKSwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRSZWRHcmVlbk1hcChnZW5lcywgbXV0YXRpb25CaXRzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBtaW5Db2xvciA9IDUwO1xyXG4gICAgICAgIHZhciBmYWN0b3IgPSAyNTUgLyAoTWF0aC5wb3coMiwgbXV0YXRpb25CaXRzKSAtIDEpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBnZW5lc1tpXVswXTtcclxuICAgICAgICAgICAgdmFyIGcgPSBnZW5lc1tpXVsxXTtcclxuICAgICAgICAgICAgdmFyIGJyaWdodCA9IE1hdGguYWJzKHIgLSBnKSAvIDI1NTtcclxuICAgICAgICAgICAgYnJpZ2h0ICo9IGZhY3RvcjtcclxuICAgICAgICAgICAgaWYgKHIgPiBnKSB7XHJcbiAgICAgICAgICAgICAgICBnID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHIgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHIgKj0gYnJpZ2h0O1xyXG4gICAgICAgICAgICBnICo9IGJyaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmIChyID4gMCkgciArPSBtaW5Db2xvcjtcclxuICAgICAgICAgICAgaWYgKGcgPiAwKSBnICs9IG1pbkNvbG9yO1xyXG4gICAgICAgICAgICBpZiAociA+IDI1NSkgciA9IDI1NTtcclxuICAgICAgICAgICAgaWYgKGcgPiAyNTUpIGcgPSAyNTU7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChbciwgZywgMF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRCbHVlTWFwKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VuZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goWzAsIDAsIGdlbmVzW2ldWzJdXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUm93cyhnZW5lcywgY29scykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IChnZW5lcy5sZW5ndGggLyBjb2xzKTsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKGdlbmVzW2kgKyAoaiAqIGNvbHMpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocm93KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQnJlZWRlcjtcclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuZmFjdG9yeSgnUG9wdWxhdGlvbicsIFsnJGZpbHRlcicsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRmaWx0ZXIsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucykge1xyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIFBvcHVsYXRpb24gPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKHN0YXRlKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgdGhpcy5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50R2VuZXJhdGlvbiA9IHN0YXRlLmN1cnJlbnRHZW5lcmF0aW9uIHx8IHRoaXMuY3VycmVudEdlbmVyYXRpb24gfHwgMDtcclxuICAgICAgICB0aGlzLmJyZWVkZXJzID0gc3RhdGUuYnJlZWRlcnMgfHwgdGhpcy5icmVlZGVycyB8fCBbXTtcclxuICAgICAgICB0aGlzLm1heFNpemUgPSBzdGF0ZS5tYXhTaXplIHx8IHRoaXMubWF4U2l6ZSB8fCAxMDtcclxuICAgICAgICB0aGlzLmJyZWVkZXJNdXRhdGlvbkJpdHMgPSBzdGF0ZS5icmVlZGVyTXV0YXRpb25CaXRzIHx8IHRoaXMuYnJlZWRlck11dGF0aW9uQml0cyB8fCA0O1xyXG4gICAgICAgIHRoaXMuYnJlZWRlck11dGF0aW9uQ2hhbmNlID0gc3RhdGUuYnJlZWRlck11dGF0aW9uQ2hhbmNlIHx8IHRoaXMuYnJlZWRlck11dGF0aW9uQ2hhbmNlIHx8IDU7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyR2VuZXNVbmxvY2tlZCA9IHN0YXRlLmJyZWVkZXJHZW5lc1VubG9ja2VkIHx8IHRoaXMuYnJlZWRlckdlbmVzVW5sb2NrZWQgfHwgWzQyXTtcclxuICAgICAgICB0aGlzLmluaXRpYWxTaXplID0gc3RhdGUuaW5pdGlhbFNpemUgfHwgdGhpcy5pbml0aWFsU2l6ZSB8fCAyO1xyXG4gICAgICAgIGlmIChzdGF0ZS5tZW1iZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWVtYmVycyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHN0YXRlLm1lbWJlcnMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZW1iZXIgPSBzdGF0ZS5tZW1iZXJzW21dO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVuaXQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG1lbWJlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICBtb3RoZXI6IG1lbWJlci5tb3RoZXIgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBmYXRoZXI6IG1lbWJlci5mYXRoZXIgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiBtZW1iZXIuZ2VuZXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBnZW5lczogbWVtYmVyLmdlbmVzLFxyXG4gICAgICAgICAgICAgICAgICAgIG11dGF0aW9uQml0czogbWVtYmVyLm11dGF0aW9uQml0cyxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtZW1iZXIubmFtZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVtYmVycy5wdXNoKHVuaXQpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB0aGlzLm1lbWJlcnMgPSB0aGlzLm1lbWJlcnMgfHwgdGhpcy5jcmVhdGVJbml0aWFsUG9wdWxhdGlvbih0aGlzLmluaXRpYWxTaXplKTtcclxuICAgIH07XHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGF0ZSA9IHtcclxuICAgICAgICAgICAgY3VycmVudEdlbmVyYXRpb246IHRoaXMuY3VycmVudEdlbmVyYXRpb24sXHJcbiAgICAgICAgICAgIGJyZWVkZXJzOiB0aGlzLmJyZWVkZXJzLFxyXG4gICAgICAgICAgICBtYXhTaXplOiB0aGlzLm1heFNpemUsXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkJpdHM6IHRoaXMuYnJlZWRlck11dGF0aW9uQml0cyxcclxuICAgICAgICAgICAgYnJlZWRlck11dGF0aW9uQ2hhbmNlOiB0aGlzLmJyZWVkZXJNdXRhdGlvbkNoYW5jZSxcclxuICAgICAgICAgICAgYnJlZWRlckdlbmVzVW5sb2NrZWQ6IHRoaXMuYnJlZWRlckdlbmVzVW5sb2NrZWQsXHJcbiAgICAgICAgICAgIGluaXRpYWxTaXplOiB0aGlzLmluaXRpYWxTaXplLFxyXG4gICAgICAgICAgICBtZW1iZXJzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCB0aGlzLm1lbWJlcnMubGVuZ3RoOyBtKyspIHtcclxuICAgICAgICAgICAgdmFyIG1lbWJlciA9IHRoaXMubWVtYmVyc1ttXTtcclxuICAgICAgICAgICAgc3RhdGUubWVtYmVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGlkOiBtZW1iZXIuaWQsXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiBtZW1iZXIuZ2VuZXJhdGlvbixcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBtZW1iZXIuZ2VuZXMsXHJcbiAgICAgICAgICAgICAgICBtdXRhdGlvbkJpdHM6IG1lbWJlci5tdXRhdGlvbkJpdHMsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBtZW1iZXIubmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5jcmVhdGVJbml0aWFsUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKGNvdW50KSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBwb3B1bGF0aW9uID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBnZW5lcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnbiA9IDA7IGduIDwgc2VsZi5nZW5lRGVmaW5pdGlvbnMubGVuZ3RoOyBnbisrKSB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcy5wdXNoKFswLCAwLCAwXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5icmVlZGVyR2VuZXNVbmxvY2tlZC5pbmRleE9mKGduKSAhPT0gLTEpIGdlbmVzW2duXVsyXSA9IHNlbGYuYnJlZWRlck11dGF0aW9uQ2hhbmNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID09PSAwID8gMjU1IDogMDtcclxuICAgICAgICAgICAgdmFyIGcgPSBpICUgMiA9PT0gMCA/IDAgOiAyNTU7XHJcblxyXG4gICAgICAgICAgICBnZW5lc1s0Ml1bMF0gPSByO1xyXG4gICAgICAgICAgICBnZW5lc1s0Ml1bMV0gPSBnO1xyXG4gICAgICAgICAgICBnZW5lc1s0Ml1bMl0gPSAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgICAgICBpZDogaSxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBnZW5lczogYW5ndWxhci5jb3B5KGdlbmVzKSxcclxuICAgICAgICAgICAgICAgIG11dGF0aW9uQml0czogc2VsZi5icmVlZGVyTXV0YXRpb25CaXRzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB1bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uLnB1c2godW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwb3B1bGF0aW9uO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5pc0JyZWVkaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVtYmVycy5sZW5ndGggPj0gdGhpcy5tYXhTaXplKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoZXJlIGFyZSBhdCBsZWFzdCAxIG1hbGUgYW5kIDEgZmVtYWxlIGluIHRoZSBicmVlZGVyc1xyXG4gICAgICAgIHZhciBoYXNNYWxlID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGhhc0ZlbWFsZSA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5icmVlZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IHRoaXMuZ2V0QnlJZCh0aGlzLmJyZWVkZXJzW2ldKTtcclxuICAgICAgICAgICAgaWYgKHVuaXQuaGFzVHJhaXQoJ01hbGUnKSkgaGFzTWFsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGVsc2UgaGFzRmVtYWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGhhc01hbGUgJiYgaGFzRmVtYWxlKSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhhc01hbGUgJiYgaGFzRmVtYWxlO1xyXG4gICAgfTtcclxuXHJcbiAgICBQb3B1bGF0aW9uLnByb3RvdHlwZS5nZXRCeUlkID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbih1bml0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bml0LmlkID09PSBpZDtcclxuICAgICAgICB9KVswXTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuZ2V0QnlHZW5lcmF0aW9uID0gZnVuY3Rpb24oZ2VuZXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuaXQuZ2VuZXJhdGlvbiA9PT0gZ2VuZXJhdGlvbjtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCFzZWxmLmlzQnJlZWRpbmcoKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdmFyIHAxID0gc2VsZi5nZXRCeUlkKHNlbGYuYnJlZWRlcnNbMF0pO1xyXG4gICAgICAgIHZhciBwMiA9IHNlbGYuZ2V0QnlJZChzZWxmLmJyZWVkZXJzWzFdKTtcclxuICAgICAgICB2YXIgY2hpbGQgPSBwMS5icmVlZChwMiwgc2VsZi5tZW1iZXJzLmxlbmd0aCk7XHJcbiAgICAgICAgc2VsZi5tZW1iZXJzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIFBvcHVsYXRpb247XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2VuZURlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGdlbmVEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgLy9nZW5lIDpyLGcsYiByOnJlY2Vzc2l2ZSwgZzpkb21pbmFudCwgYjptdXRhdGlvbnJhdGVcclxuICAgIGdlbmVEZWZpbml0aW9uc1swXSA9IHsgZG9tOiAnQnJvYWQgU2hvdWxkZXJzJywgcmVjOiAnU2xlbmRlciBTaG91bGRlcnMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMV0gPSB7IGRvbTogJ1RoaWNrIFNrdWxsJywgcmVjOiAnU29mdCBTa3VsbCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syXSA9IHsgZG9tOiAnTGFyZ2UgQXJtcycsIHJlYzogJ1NtYWxsIEFybXMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbM10gPSB7IGRvbTogJ0xhcmdlIExlZ3MnLCByZWM6ICdTbWFsbCBMZWdzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzRdID0geyBkb206ICdCaWcgQ2hlc3QnLCByZWM6ICdXZWFrIENoZXN0JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzVdID0geyBkb206ICdUb3VnaCBKYXcnLCByZWM6ICdXZWFrIEphdycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s2XSA9IHsgZG9tOiAnT2FmaXNoJywgcmVjOiAnTW91c2V5JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNF0gPSB7IGRvbTogJ0NhbGN1bGF0ZWQgRGVjaXNpb25zJywgcmVjOiAnUmVja2xlc3MnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTVdID0geyBkb206ICdMYXRlcmFsIFRoaW5rZXInLCByZWM6ICdTaW5nbGUgTWluZGVkJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE2XSA9IHsgZG9tOiAnUXVpY2sgTGVhcm5lcicsIHJlYzogJ0ZvcmdldGZ1bCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0VORCddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzMwXSA9IHsgZG9tOiAnRWxvcXVlbnQnLCByZWM6ICdDYXRhdG9uaWMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzFdID0geyBkb206ICdQb3dlcmZ1bCBWb2ljZScsIHJlYzogJ1F1aWV0IFZvaWNlJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMyXSA9IHsgZG9tOiAnRnVsbCBMaXBzJywgcmVjOiAnVGhpbiBMaXBzJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMzXSA9IHsgZG9tOiAnRGFyayBTa2luJywgcmVjOiAnRmFpciBTa2luJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzM5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydDSFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1s0MF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0MV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnTENLJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0Ml0gPSB7IGRvbTogJ0ZlbWFsZScsIHJlYzogJ01hbGUnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcblxyXG4gICAgcmV0dXJuIGdlbmVEZWZpbml0aW9ucztcclxufSkoKSk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCd0cmFpdERlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRyYWl0cyA9IFt7XHJcbiAgICAgICAgICAgIG5hbWU6ICdIYW5kc29tZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgLTIwMCwgMjAwXSxcclxuICAgICAgICAgICAgICAgIFs1LCA1MCwgMjU1XVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydNYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ1ByZXR0eScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMCwgLTIwMCwgLTEwMF0sXHJcbiAgICAgICAgICAgICAgICBbNCwgMjAsIDI0MF1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnRmVtYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0FnZ3Jlc3NpdmUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFsyLCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbNCwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzUsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFsxNCwgLTI1NSwgLTE1MF1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnRmVtYWxlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFs0MiwgMCwgMjU1XVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdNYWxlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFs0MiwgLTI1NSwgLTFdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0hhbmRzb21lIEFnZ3Jlc3NpdmUgYW5kIHNvbWV0aGluZycsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbMzAsIDAsIDBdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ0hhbmRzb21lJywgJ0FnZ3Jlc3NpdmUnXVxyXG4gICAgICAgIH1cclxuICAgIF07XHJcblxyXG4gICAgdmFyIGNoZWNrZWQgPSBbXTtcclxuICAgIHZhciBnZXRUcmFpdEJ5TmFtZSA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdHJhaXRzLmZpbHRlcihmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID09PSB0Lm5hbWU7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0cmFpdC5yZXF1aXJlZFRyYWl0cykpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmFpdC5yZXF1aXJlZFRyYWl0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVpcmVkVHJhaXQgPSB0cmFpdC5yZXF1aXJlZFRyYWl0c1tqXTtcclxuICAgICAgICAgICAgICAgIHZhciByZXEgPSBnZXRUcmFpdEJ5TmFtZShyZXF1aXJlZFRyYWl0KTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGVja2VkLmluZGV4T2YocmVxLm5hbWUpID09PSAtMSlcclxuICAgICAgICAgICAgICAgICAgICBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlKHJlcSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHJlcS5nZW5lcy5sZW5ndGg7IGcrKylcclxuICAgICAgICAgICAgICAgICAgICB0cmFpdC5nZW5lcy5wdXNoKHJlcS5nZW5lc1tnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tlZC5wdXNoKHRyYWl0Lm5hbWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYnVpbGRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWl0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdHJhaXQgPSB0cmFpdHNbaV07XHJcbiAgICAgICAgICAgIGdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUodHJhaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRyYWl0cyk7XHJcbiAgICAgICAgcmV0dXJuIHRyYWl0cztcclxuICAgIH07XHJcbiAgICByZXR1cm4gYnVpbGRUcmFpdHMoKTtcclxufSkoKSk7XHJcblxyXG5cclxuZ2FtZS5mYWN0b3J5KCdUcmFpdEluc3BlY3RvcicsIFsnJGZpbHRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRmaWx0ZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBUcmFpdEluc3BlY3RvciA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKGNvbmZpZyk7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICh0eXBlb2YoY29uZmlnKSA9PSAndW5kZWZpbmVkJykgY29uZmlnID0ge307XHJcbiAgICAgICAgLy90aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuaWQgfHwgMDsgICAgICAgIFxyXG4gICAgfTtcclxuXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUuZ2V0VHJhaXRzID0gZnVuY3Rpb24oZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmV0ID0gW107XHJcbiAgICAgICAgaWYgKGdlbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYWl0RGVmaW5pdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IHRyYWl0RGVmaW5pdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgdGQuZ2VuZXMubGVuZ3RoICYmIG1ldCA9PT0gdHJ1ZTsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRkZyA9IHRkLmdlbmVzW2hdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ID0gZ2VuZXNbdGRnWzBdXVsxXSAtIGdlbmVzW3RkZ1swXV1bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgPCB0ZGdbMV0gfHwgdiA+IHRkZ1syXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHRkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9O1xyXG5cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24oZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmV0ID0ge1xyXG4gICAgICAgICAgICBcIlNUUlwiOiAwLFxyXG4gICAgICAgICAgICBcIklOVFwiOiAwLFxyXG4gICAgICAgICAgICBcIkVORFwiOiAwLFxyXG4gICAgICAgICAgICBcIkNIUlwiOiAwLFxyXG4gICAgICAgICAgICBcIkxDS1wiOiAwXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoZ2VuZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHJCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGludEJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgZW5kQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBjaHJCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGxja0Jhc2UgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVzLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZyA8IDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ckJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCAyMClcclxuICAgICAgICAgICAgICAgICAgICBpbnRCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgMzApXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDQwKVxyXG4gICAgICAgICAgICAgICAgICAgIGNockJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBsY2tCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0LlNUUiA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhzdHJCYXNlKSArIDIwKSAvIDI1KSkgKiAoc3RyQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuSU5UID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGludEJhc2UpICsgMjApIC8gMjUpKSAqIChpbnRCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5FTkQgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoZW5kQmFzZSkgKyAyMCkgLyAyNSkpICogKGVuZEJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkNIUiA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhjaHJCYXNlKSArIDIwKSAvIDI1KSkgKiAoY2hyQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuTENLID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGxja0Jhc2UpICsgMjApIC8gMjUpKSAqIChsY2tCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuXHJcbiAgICByZXR1cm4gVHJhaXRJbnNwZWN0b3I7XHJcbn1dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2Jsb3FoZWFkR2FtZUNvbnRyb2wnLCB7XHJcbiAgICB0ZW1wbGF0ZTogJzxkaXY+JyArXHJcbiAgICAgICAgJzxidXR0b24gdGl0bGU9XCJIYXJkIFJlc2V0XCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGN0cmwucmVzZXRTYXZlKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1yZWN5Y2xlXCI+PC9pPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICc8YnV0dG9uIHRpdGxlPVwiUGxheS9QYXVzZVwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLnRvZ2dsZVN0YXRlKCk7XCI+PGkgY2xhc3M9XCJmYVwiIG5nLWNsYXNzPVwiJGN0cmwuZ2V0SWNvbigpXCI+PC9pPjwvYnV0dG9uPicgK1xyXG4gICAgICAgICc8L2Rpdj4nLFxyXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnZ2FtZVNlcnZpY2UnLCAnZ2FtZUxvb3BTZXJ2aWNlJywgJ2dhbWVTdGF0ZXMnLCBmdW5jdGlvbigkc2NvcGUsIGdhbWVTZXJ2aWNlLCBnYW1lTG9vcFNlcnZpY2UsIGdhbWVTdGF0ZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZUxvb3BTZXJ2aWNlLmdldFN0YXRlKCkuY3VycmVudFN0YXRlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi50b2dnbGVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IChzZWxmLmN1cnJlbnRTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5SVU5OSU5HID8gZ2FtZVN0YXRlcy5QQVVTRUQgOiBnYW1lU3RhdGVzLlJVTk5JTkcpO1xyXG4gICAgICAgICAgICBnYW1lTG9vcFNlcnZpY2Uuc2V0U3RhdGUoc2VsZi5jdXJyZW50U3RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmN1cnJlbnRTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5SVU5OSU5HID8gJ2ZhLXBhdXNlJyA6ICdmYS1wbGF5JztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmVzZXRTYXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGdhbWVTZXJ2aWNlLmhhcmRSZXNldCgpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XVxyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRMb2cnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9nL2xvZy5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudCgnbG9nVHlwZXMnLCB7XHJcbiAgICBHRU5FUkFMOiAxLFxyXG4gICAgQlJFRUQ6IDIsXHJcbiAgICBBQ0hJRVZFTUVOVDogM1xyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnLCBbXHJcbiAgICAnJHNjb3BlJywgJ2xvZ1NlcnZpY2UnLCAnbG9nVHlwZXMnLFxyXG4gICAgZnVuY3Rpb24oJHNjb3BlLCBsb2dTZXJ2aWNlLCBsb2dUeXBlcykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLlN1YnNjcmliZU5ld01lc3NhZ2VFdmVudCgkc2NvcGUsIHNlbGYucmVjZWl2ZU1lc3NhZ2VzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmdldExvZ0NsYXNzID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgcHJlZml4ID0gJ2xpc3QtZ3JvdXAtaXRlbS0nO1xyXG4gICAgICAgICAgICB2YXIgYSA9ICcnO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgbG9nVHlwZXMuR0VORVJBTDpcclxuICAgICAgICAgICAgICAgICAgICBhID0gJ2NvbG9yLWdlbmVyYWwnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5BQ0hJRVZFTUVOVDpcclxuICAgICAgICAgICAgICAgICAgICBhID0gJ2NvbG9yLWFjaGlldmVtZW50JztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgbG9nVHlwZXMuQlJFRUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYSA9ICdjb2xvci1icmVlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGEgPSBwcmVmaXggKyAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZWNlaXZlTWVzc2FnZXMgPSBmdW5jdGlvbihldmVudCwgbWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xyXG4gICAgICAgICAgICAkKCcubG9nLWNvbXBvbmVudCcpWzBdLnNjcm9sbFRvcCA9ICQoJy5sb2ctY29tcG9uZW50JylbMF0uc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdsb2dTZXJ2aWNlJywgWyckcm9vdFNjb3BlJywgJ2xvZ1R5cGVzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgbG9nVHlwZXMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGNsZWFyTG9nKSB7XHJcbiAgICAgICAgaWYgKGNsZWFyTG9nKSB7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5sb2dHZW5lcmFsTWVzc2FnZShcIldlbGNvbWUgdG8gR2VuZXRpeCFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNlbGYubG9nR2VuZXJhbE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHsgdHlwZTogbG9nVHlwZXMuR0VORVJBTCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5sb2dCcmVlZE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHsgdHlwZTogbG9nVHlwZXMuQlJFRUQsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuICAgIHNlbGYubG9nQWNoaWV2ZW1lbnRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkFDSElFVkVNRU5ULCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdNZXNzYWdlRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZC5jb21wb25lbnRzLmhvbWUnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5ob21lJ1xyXG59KTtcclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5ob21lJywgZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9O1xyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWUnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLm1haW5HYW1lJywgW1xyXG4gICAgJyRzY29wZScsICdwb3B1bGF0aW9uU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLCAncmVzb3VyY2VTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCRzY29wZSwgcG9wdWxhdGlvblNlcnZpY2UsIGFjaGlldmVtZW50U2VydmljZSwgcmVzb3VyY2VTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmJyZWVkZXJzID0gW107XHJcbiAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLm1heFBvcHVsYXRpb24gPSAwO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQoJHNjb3BlLCBzZWxmLnVwZGF0ZVBvcHVsYXRpb24pO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQoJHNjb3BlLCBzZWxmLnVwZGF0ZUJyZWVkZXJzKTtcclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLlN1YnNjcmliZU5ld1Jld2FyZEV2ZW50KCRzY29wZSwgc2VsZi5yZXdhcmRFYXJuZWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmV3YXJkRWFybmVkID0gZnVuY3Rpb24oZXZlbnQsIHJld2FyZCkge1xyXG4gICAgICAgICAgICAvLyBldmVudHVhbGx5IHRoaXMgd2lsbCBzaG93IGEgcG9wdXBcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmV3YXJkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnVwZGF0ZU1lbWJlcihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLmFkZEJyZWVkZXIgPSBmdW5jdGlvbih1bml0aWQpIHtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UuYWRkQnJlZWRlcih1bml0aWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5yZW1vdmVCcmVlZGVyKHVuaXRpZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi51cGRhdGVCcmVlZGVycyA9IGZ1bmN0aW9uKGV2ZW50LCBicmVlZGVycykge1xyXG4gICAgICAgICAgICBzZWxmLmJyZWVkZXJzID0gYnJlZWRlcnM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnVwZGF0ZVBvcHVsYXRpb24gPSBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24gPSBkYXRhLnBvcHVsYXRpb247XHJcbiAgICAgICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IGRhdGEubWF4U2l6ZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5dKTtcclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudChcImJsb3FoZWFkQnJlZWRlclwiLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnRzL21haW5HYW1lL2JyZWVkZXIuaHRtbFwiLFxyXG4gICAgY29udHJvbGxlcjogXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIixcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdDogJzwnLFxyXG4gICAgICAgIGFzc2lnbjogJyYnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuZ2FtZS5jb250cm9sbGVyKFwiYmxvcWhlYWRlci5jb250cm9sbGVycy5icmVlZGVyXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfTtcclxuICAgIHNlbGYuYXNzaWduTWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmFzc2lnbih7ICRpZDogc2VsZi51bml0LmlkIH0pO1xyXG4gICAgfTtcclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkUGxheWVyQm94Jywge1xyXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgIHJlcXVpcmU6IHtcclxuICAgICAgICBtYWluQ3RybDogXCJeYmxvcWhlYWQuY29tcG9uZW50cy5ob21lXCJcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5wbGF5ZXJCb3gnLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB0aXRsZTogJ0AnLFxyXG4gICAgICAgIGZvb3RlcjogJ0AnXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMucGxheWVyQm94JywgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLnVuaXQgPSBzZWxmLm1haW5DdHJsLnVuaXQ7XHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2FjaGlldmVtZW50U2V0dXAnLCB7XHJcbiAgICBhY2hpZXZlbWVudHM6IHtcclxuICAgICAgICBBX0JJUlRIUzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0JJUlRIUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdUaGUgQ2hvc2VuIE9uZScsXHJcbiAgICAgICAgICAgIGRlc2M6ICdDcmVhdGUgYSBuZXcgdW5pdCcsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMSwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX0JPTlVTJywgJ0dPTEQnLCA1MF0sXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfQk9OVVMnLCAnV09PRCcsIDEwMF1cclxuICAgICAgICAgICAgICAgIF1dLFxyXG4gICAgICAgICAgICAgICAgWzIwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfQk9OVVMnLCAnR09MRCcsIDUwXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfTV9IQVBQSU5FU1MnXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfR19FTkhBTkNFRCcsIDE0LCAxMF1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfRElSVDoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0RJUlQnLFxyXG4gICAgICAgICAgICBuYW1lOiAnSXRzIERpcnQuLi4uJyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gZGlydC4nLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjFdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0RJUlRfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0RJUlRfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdEaXJ0IEhvYXJkZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIGRpcnQuLi4gbG90cyBhbmQgbG90cyBvZiBkaXJ0IScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX0JSSUNLUzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0JSSUNLUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdicmlja3MnLFxyXG4gICAgICAgICAgICBkZXNjOiAnRWFybiBicmlja3MuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9CUklDS1NfQzoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX0JSSUNLU19DJyxcclxuICAgICAgICAgICAgbmFtZTogJ0JyaWNrIEhvYXJkZXInLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIGJyaWNrcy4uLiBsb3RzIGFuZCBsb3RzIG9mIGJyaWNrcyEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9XQVRFUjoge1xyXG4gICAgICAgICAgICBhaWQ6ICdBX1dBVEVSJyxcclxuICAgICAgICAgICAgbmFtZTogJ29tbm9tbm9tJyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gd2F0ZXIuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9XQVRFUl9DOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfV0FURVJfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdXYXRlciBIb2FyZGVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSB3YXRlci4uLiBsb3RzIGFuZCBsb3RzIG9mIHdhdGVyIScsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbMTAwLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgWydQX1JfTVVMVElQTElFUicsICdIQVBQSU5FU1MnLCAwLjJdXHJcbiAgICAgICAgICAgICAgICBdXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBBX1dPT0Q6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9XT09EJyxcclxuICAgICAgICAgICAgbmFtZTogJ3RyZWUgZ3V0cycsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIHdvb2QuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9XT09EX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9XT09EX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnV29vZCBIb2FyZGVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSB3b29kLi4uIGxvdHMgYW5kIGxvdHMgb2Ygd29vZCEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9HT0xEOiB7XHJcbiAgICAgICAgICAgIGFpZDogJ0FfR09MRCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdPb29vaGhoIFNoaWlpaWlueScsXHJcbiAgICAgICAgICAgIGRlc2M6ICdFYXJuIGdvbGQuJyxcclxuICAgICAgICAgICAgcmFua3M6IFtcclxuICAgICAgICAgICAgICAgIFs1MCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4xXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9HT0xEX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9HT0xEX0MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnR29sZCBIb2FyZGVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ0FxdWlyZSBnb2xkLi4uIGxvdHMgYW5kIGxvdHMgb2YgZ29sZCEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQV9IQVBQSU5FU1M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9IQVBQSU5FU1MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnYmUgaGFwcHkgbW9uJyxcclxuICAgICAgICAgICAgZGVzYzogJ0Vhcm4gaGFwcGluZXNzLicsXHJcbiAgICAgICAgICAgIHJhbmtzOiBbXHJcbiAgICAgICAgICAgICAgICBbNTAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9NVUxUSVBMSUVSJywgJ0hBUFBJTkVTUycsIDAuMV1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIEFfSEFQUElORVNTX0M6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9IQVBQSU5FU1NfQycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdIYXBweW5lc3MnLFxyXG4gICAgICAgICAgICBkZXNjOiAnQXF1aXJlIGhhcHBpbmVzcy4uLiBsb3RzIGFuZCBsb3RzIG9mIGhhcHBpbmVzcyEnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzEwMCwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFsnUF9SX01VTFRJUExJRVInLCAnSEFQUElORVNTJywgMC4yXVxyXG4gICAgICAgICAgICAgICAgXV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwZXJrczoge1xyXG4gICAgICAgIC8vIG1lY2hhbmljc1xyXG4gICAgICAgIFBfTV9IQVBQSU5FU1M6IHtcclxuICAgICAgICAgICAgcGlkOiAnUF9NX0hBUFBJTkVTUycsXHJcbiAgICAgICAgICAgIG5hbWU6ICdOZXcgTWVjaGFuaWM6IEhhcHBpbmVzcycsXHJcbiAgICAgICAgICAgIGRlc2M6ICdIYXBwaW5lc3MgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBob3cgY29udGVudCB5b3VyIHBvcHVsYXRpb24gaXMuJyxcclxuICAgICAgICAgICAgb25jZTogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUF9SX01VTFRJUExJRVI6IHtcclxuICAgICAgICAgICAgcGlkOiAnUF9SX01VTFRJUExJRVInLFxyXG4gICAgICAgICAgICBuYW1lOiAnUmVzb3VyY2UgTXVsaXBsaWVyJyxcclxuICAgICAgICAgICAgZGVzYzogJ1RoZSByYXRlIHRoYXQgeW91IGFxdWlyZSBbJTFdIGhhcyBiZWVuIGluY3JlYXNlZCBieSBbJTJdeC4nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQX1JfQk9OVVM6IHtcclxuICAgICAgICAgICAgcGlkOiAnUF9SX0JPTlVTJyxcclxuICAgICAgICAgICAgbmFtZTogJ0JvbnVzIFJlc291cmNlcycsXHJcbiAgICAgICAgICAgIGRlc2M6ICdbJTJdIFslMV0gaGFzIGJlZW4gYWRkZWQgdG8geW91ciBjb2ZmZXJzLidcclxuICAgICAgICB9LFxyXG4gICAgICAgIFBfR19FTkhBTkNFRDoge1xyXG4gICAgICAgICAgICBwaWQ6ICdQX0dfRU5IQU5DRUQnLFxyXG4gICAgICAgICAgICBuYW1lOiAnR2VuZSBFbmhhbmNlbWVudCcsXHJcbiAgICAgICAgICAgIGRlc2M6ICdUaGUgYm91bmRhcnkgaGFzIGJlZW4gaW5jcmVhc2VkIGJ5IFslYW10XSBmb3Igb25lIG9mIHlvdXIgWyVhdHRyXSBnZW5lcy4gKFslZG9tXS9bJXJlY10pJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLnNlcnZpY2UoJ2FjaGlldmVtZW50U2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJyRmaWx0ZXInLCAnbG9nU2VydmljZScsICdhY2hpZXZlbWVudFNldHVwJywgJ2dlbmVEZWZpbml0aW9ucycsICdyZXNvdXJjZVR5cGVzJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRmaWx0ZXIsIGxvZ1NlcnZpY2UsIGFjaGlldmVtZW50U2V0dXAsIGdlbmVEZWZpbml0aW9ucywgcmVzb3VyY2VUeXBlcykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSlcclxuICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSB7IGFjaGlldmVtZW50czogc3RhdGUuYWNoaWV2ZW1lbnRzLCBwZXJrczogc3RhdGUucGVya3MgfTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHsgYWNoaWV2ZW1lbnRzOiBbXSwgcGVya3M6IFtdIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudHM6IHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgcGVya3M6IHNlbGYucHJvZ3Jlc3MucGVya3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyA9IGZ1bmN0aW9uKGFpZCwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIHZhciBhY2hQcm9ncmVzcyA9IHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzW2FpZF07XHJcbiAgICAgICAgICAgIGlmICghYWNoUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjaFByb2dyZXNzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFpZDogYWlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzW2FpZF0gPSBhY2hQcm9ncmVzcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG9sZHZhbCA9IGFjaFByb2dyZXNzLmFtb3VudDtcclxuICAgICAgICAgICAgdmFyIG5ld3ZhbCA9IGFjaFByb2dyZXNzLmFtb3VudCArIGFtb3VudDtcclxuXHJcbiAgICAgICAgICAgIGFjaFByb2dyZXNzLmFtb3VudCA9IG5ld3ZhbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBhY2hTZXR1cCA9IGFjaGlldmVtZW50U2V0dXAuYWNoaWV2ZW1lbnRzW2FpZF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHJjID0gMDsgcmMgPCBhY2hTZXR1cC5yYW5rcy5sZW5ndGg7IHJjKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbW91bnRSZXF1aXJlZCA9IGFjaFNldHVwLnJhbmtzW3JjXVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbW91bnRSZXF1aXJlZCA+IG9sZHZhbCAmJiBhbW91bnRSZXF1aXJlZCA8PSBuZXd2YWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJld2FyZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNoaWV2ZW1lbnQ6IGFjaFNldHVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRSZXF1aXJlZDogYW1vdW50UmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmtzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZyB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQWNoaWV2ZW1lbnRNZXNzYWdlKCdBY2hpZXZlbWVudCBFYXJuZWQgLSAnICsgYWNoU2V0dXAubmFtZSArICcgKCcgKyBhbW91bnRSZXF1aXJlZCArICcpJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIHBlcmtzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcGMgPSAwOyBwYyA8IGFjaFNldHVwLnJhbmtzW3JjXVsxXS5sZW5ndGg7IHBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBzZWxmLmFwcGx5UGVyayhhY2hTZXR1cC5yYW5rc1tyY11bMV1bcGNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZC5wZXJrcy5wdXNoKHApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdSZXdhcmRFdmVudCcsIHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hcHBseVBlcmsgPSBmdW5jdGlvbihhcnIpIHtcclxuICAgICAgICAgICAgdmFyIHBpZCA9IGFyclswXTtcclxuICAgICAgICAgICAgdmFyIHBlcmtTZXR1cCA9IGFjaGlldmVtZW50U2V0dXAucGVya3NbcGlkXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcGVyayBjYW4gb25seSBiZSBlYXJuZWQgb25jZSBhbmQgdGhlIHBsYXllciBoYXMgZWFybmVkIGl0IGFscmVhZHksXHJcbiAgICAgICAgICAgIC8vIHdlIGRvIG5vdCBoYXZlIHRvIGRvIGFueXRoaW5nXHJcbiAgICAgICAgICAgIGlmIChwZXJrU2V0dXAub25jZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmtTZWFyY2ggPSAkZmlsdGVyKCdmaWx0ZXInKShzZWxmLnByb2dyZXNzLnBlcmtzLCB7IHBpZDogcGlkIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmtTZWFyY2gubGVuZ3RoICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBsb2cgdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgdmFyIG1zZyA9IHBlcmtTZXR1cC5uYW1lICsgJyAtICcgKyBwZXJrU2V0dXAuZGVzYztcclxuICAgICAgICAgICAgc3dpdGNoIChwZXJrU2V0dXAucGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQX0dfRU5IQU5DRUQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lID0gZ2VuZURlZmluaXRpb25zW2FyclsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slZG9tXScsIGdlbmUuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVyZWNdJywgZ2VuZS5yZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJWF0dHJdJywgZ2VuZS5hdHRyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVhbXRdJywgYXJyWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BfUl9CT05VUyc6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQX1JfTVVMVElQTElFUic6XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slMV0nLCByZXNvdXJjZVR5cGVzW2FyclsxXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJTJdJywgYXJyWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJScgKyBpICsgJ10nLCBhcnJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0FjaGlldmVtZW50TWVzc2FnZShtc2cpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJldCA9IHtcclxuICAgICAgICAgICAgICAgIHBpZDogcGlkLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBtc2csXHJcbiAgICAgICAgICAgICAgICBhcnI6IGFycixcclxuICAgICAgICAgICAgICAgIGR0OiAobmV3IERhdGUoKSkudG9VVENTdHJpbmcoKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzZWxmLnByb2dyZXNzLnBlcmtzLnB1c2gocmV0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVOZXdSZXdhcmRFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdSZXdhcmRFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbl0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuZ2FtZS5zZXJ2aWNlKCdwb3B1bGF0aW9uU2VydmljZScsIFtcclxuICAgICckcm9vdFNjb3BlJywgJ2dhbWVMb29wU2VydmljZScsICdQb3B1bGF0aW9uJywgJ2xvZ1NlcnZpY2UnLCAnYWNoaWV2ZW1lbnRTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsIGdhbWVMb29wU2VydmljZSwgUG9wdWxhdGlvbiwgbG9nU2VydmljZSwgYWNoaWV2ZW1lbnRTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHt9O1xyXG4gICAgICAgICAgICBzZWxmLmJyZWVkU3RlcHMgPSBzdGF0ZS5icmVlZFN0ZXBzIHx8IHN0YXRlLmJyZWVkU3RlcHMgfHwgNjtcclxuICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgPSBzdGF0ZS5zdGVwc1NpbmNlQnJlZWQgfHwgc2VsZi5zdGVwc1NpbmNlQnJlZWQgfHwgMDtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uU3RhdGUgPSBzdGF0ZS5wb3B1bGF0aW9uU3RhdGUgfHwgc2VsZi5wb3B1bGF0aW9uU3RhdGU7XHJcbiAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IChzZWxmLnBvcHVsYXRpb25TdGF0ZSkgPyBuZXcgUG9wdWxhdGlvbihzZWxmLnBvcHVsYXRpb25TdGF0ZSkgOiBzZWxmLnBvcHVsYXRpb24gfHwgbmV3IFBvcHVsYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYubG9nU2VydmljZSA9IGxvZ1NlcnZpY2U7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIHsgcG9wdWxhdGlvbjogc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMsIG1heFNpemU6IHNlbGYucG9wdWxhdGlvbi5tYXhTaXplIH0pO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgYnJlZWRTdGVwczogc2VsZi5icmVlZFN0ZXBzLFxyXG4gICAgICAgICAgICAgICAgc3RlcHNTaW5jZUJyZWVkOiBzZWxmLnN0ZXBzU2luY2VCcmVlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBzdGF0ZS5wb3B1bGF0aW9uU3RhdGUgPSBzZWxmLnBvcHVsYXRpb24uZ2V0U3RhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuaGFuZGxlR2FtZUxvb3AgPSBmdW5jdGlvbihldmVudCwgc3RlcHMpIHtcclxuICAgICAgICAgICAgdmFyIHBvcFVwZGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Lm5hbWUgIT09ICdnYW1lTG9vcEV2ZW50Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BvcHVsYXRlU2VydmljZS5oYW5kbGVHYW1lTG9vcCAtIEludmFsaWQgZXZlbnQ6ICcgKyBldmVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkICs9IHN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHNlbGYuc3RlcHNTaW5jZUJyZWVkID49IHNlbGYuYnJlZWRTdGVwcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZUJyZWVkIC09IHNlbGYuYnJlZWRTdGVwcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc3ByaW5nID0gc2VsZi5wb3B1bGF0aW9uLmJyZWVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNwcmluZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIk5ldyBvZmZzcHJpbmchIFwiICsgb2Zmc3ByaW5nLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UudXBkYXRlUHJvZ3Jlc3MoJ0FfQklSVEhTJywgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcFVwZGF0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwb3BVcGRhdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIHsgcG9wdWxhdGlvbjogc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMsIG1heFNpemU6IHNlbGYucG9wdWxhdGlvbi5tYXhTaXplIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMucHVzaChpZCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIkJyZWVkZXIgYWRkZWQ6IFwiICsgc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlbW92ZUJyZWVkZXIgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMuaW5kZXhPZihpZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLnBvcHVsYXRpb24uaXNCcmVlZGluZygpKSBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlLmxvZ0JyZWVkTWVzc2FnZShcIkJyZWVkZXIgcmVtb3ZlZDogXCIgKyBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCkubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudXBkYXRlTWVtYmVyID0gZnVuY3Rpb24oaWQsIGdlbmVJbmRleCwgZ2VuZVZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gc2VsZi5wb3B1bGF0aW9uLmdldEJ5SWQoaWQpO1xyXG4gICAgICAgICAgICBtZW1iZXIuZ2VuZXNbZ2VuZUluZGV4XSA9IGdlbmVWYWx1ZXM7XHJcbiAgICAgICAgICAgIG1lbWJlci51cGRhdGUoKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlQnJlZWRlclVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ2JyZWVkZXJVcGRhdGVFdmVudCcsIGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZGVyVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24uYnJlZWRlcnMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuU3Vic2NyaWJlUG9wdWxhdGlvblVwZGF0ZUV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3BvcHVsYXRpb25VcGRhdGVFdmVudCcsIHsgcG9wdWxhdGlvbjogc2VsZi5wb3B1bGF0aW9uLm1lbWJlcnMsIG1heFNpemU6IHNlbGYucG9wdWxhdGlvbi5tYXhTaXplIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGdhbWVMb29wU2VydmljZS5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50KCRyb290U2NvcGUsIHNlbGYuaGFuZGxlR2FtZUxvb3ApO1xyXG4gICAgfVxyXG5dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbnN0YW50KCdyZXNvdXJjZVR5cGVzJywge1xyXG4gICAgRElSVDogJ0RpcnQnLFxyXG4gICAgV0FURVI6ICdXYXRlcicsXHJcbiAgICBXT09EOiAnV29vZCcsXHJcbiAgICBHT0xEOiAnR29sZCcsXHJcbiAgICBCUklDS1M6ICdCcmlja3MnLFxyXG4gICAgSEFQUElORVNTOiAnSGFwcGluZXNzJyxcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuc2VydmljZSgncmVzb3VyY2VTZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnJGZpbHRlcicsICdkZWZhdWx0U3RhdGUnLCAnbG9nU2VydmljZScsICdnZW5lRGVmaW5pdGlvbnMnLCAncmVzb3VyY2VUeXBlcycsICdhY2hpZXZlbWVudFNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGZpbHRlciwgZGVmYXVsdFN0YXRlLCBsb2dTZXJ2aWNlLCBnZW5lRGVmaW5pdGlvbnMsIHJlc291cmNlVHlwZXMsIGFjaGlldmVtZW50U2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gZGVmYXVsdFN0YXRlLnJlc291cmNlU2VydmljZVN0YXRlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIWluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UuU3Vic2NyaWJlTmV3UmV3YXJkRXZlbnQoJHJvb3RTY29wZSwgc2VsZi5yZXdhcmRFYXJuZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHJlc291cmNlVHlwZSBpbiByZXNvdXJjZVR5cGVzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2VUeXBlcy5oYXNPd25Qcm9wZXJ0eShyZXNvdXJjZVR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSBzZWxmLnN0YXRlLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3Jlc291cmNlQ2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdyZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzFdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5zdGF0ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnJld2FyZEVhcm5lZCA9IGZ1bmN0aW9uKGV2ZW50LCByZXdhcmQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCByZXdhcmQucGVya3MubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBwZXJrID0gcmV3YXJkLnBlcmtzW3BdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmsucGlkID09PSAnUF9SX0JPTlVTJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuYWRkUmVzb3VyY2UocGVyay5hcnJbMV0sIHBlcmsuYXJyWzJdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2V0UmVzb3VyY2VzU25hcHNob3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuY29weShzZWxmLnN0YXRlLnJlc291cmNlcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRSZXNvdXJjZSA9IGZ1bmN0aW9uKHJlc291cmNlVHlwZSwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gc2VsZi5zdGF0ZS5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXTtcclxuICAgICAgICAgICAgclswXSArPSBhbW91bnQ7XHJcbiAgICAgICAgICAgIGlmIChyWzBdID4gclsxXSkgclswXSA9IHJbMV07XHJcbiAgICAgICAgICAgIGlmIChyWzBdIDwgMCkgclswXSA9IDA7XHJcbiAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV8nICsgcmVzb3VyY2VUeXBlLCBhbW91bnQpO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UudXBkYXRlUHJvZ3Jlc3MoJ0FfJyArIHJlc291cmNlVHlwZSArICdfQycsIHJbMF0pO1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncmVzb3VyY2VDaGFuZ2VkRXZlbnQnLCByZXNvdXJjZVR5cGUsIHJbMF0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5pbmNyZWFzZVJlc291cmNlTGltaXQgPSBmdW5jdGlvbihyZXNvdXJjZVR5cGUsIGFtb3VudCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IHNlbGYuc3RhdGUucmVzb3VyY2VzW3Jlc291cmNlVHlwZV07XHJcbiAgICAgICAgICAgIHJbMV0gKz0gYW1vdW50O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdyZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50JywgcmVzb3VyY2VUeXBlLCByWzFdKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZVJlc291cmNlQ2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3Jlc291cmNlQ2hhbmdlZEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGlmIChzY29wZSkgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVSZXNvdXJjZUxpbWl0Q2hhbmdlZEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ3Jlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgaWYgKHNjb3BlKSBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfVxyXG5dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMudGVzdEludGVyZmFjZSdcclxufSk7XHJcblxyXG4vLyB0YWIgY29tcG9uZW50c1xyXG5hcHAuY29tcG9uZW50KCdicmVlZGVyVGFiJywge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0czogJz0nLFxyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5sYXN0QnJlZWRlcklEID0gMDtcclxuICAgICAgICBzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPSAnTWFsZSc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2VsZi5raWxsQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0cy5zcGxpY2Uoc2VsZi51bml0cy5pbmRleE9mKHVuaXQpLCAxKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZi5hZGROZXdCcmVlZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBnZW5lcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgZ2VuZXMucHVzaChbMCwwLDBdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGdlbmRlciA9IChzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPT0gJ01hbGUnKSA/IDI1NSA6IDA7XHJcbiAgICAgICAgICAgIGdlbmVzWzQyXSA9IFtnZW5kZXIsIDI1NSAtIGdlbmRlciwgMF07XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5pdCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgICAgIGlkOiBzZWxmLmxhc3RCcmVlZGVySUQrKyxcclxuICAgICAgICAgICAgICAgIGdlbmVyYXRpb246IDAsXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogNixcclxuICAgICAgICAgICAgICAgIGdlbmVzOiBnZW5lc1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdHMudW5zaGlmdCh1bml0KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2JyZWVkZXJUYWIuaHRtbCdcclxufSk7XHJcbmFwcC5jb21wb25lbnQoJ21hdGluZ1RhYicsIHtcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdW5pdHM6ICc9JyxcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiBbJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbihCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuaHRtbCdcclxufSk7XHJcblxyXG5cclxuXHJcbmFwcC5jb21wb25lbnQoJ2dlbm9tZUVkaXRvcicse1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPSdcclxuICAgIH0sXHJcbiAgICBjb250cm9sbGVyOiBbJ2dlbmVEZWZpbml0aW9ucycsIGZ1bmN0aW9uKGdlbmVEZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgICAgIHNlbGYuZXhwYW5kbyA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemVOYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5uYW1lID0gc2VsZi51bml0LmdldFJhbmRvbU5hbWUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0LmdlbmVzW2luZGV4XSA9IFtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpLHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkscmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZUFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYudW5pdC5nZW5lcy5sZW5ndGg7IGkrKylcclxuICAgICAgICAgICAgICAgIHNlbGYucmFuZG9taXplKGkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGdlbmRlciA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDEpID09PSAwID8gMjU1IDogMDtcclxuICAgICAgICAgICAgc2VsZi51bml0LmdlbmVzWzQyXSA9IFtnZW5kZXIsIDI1NSAtIGdlbmRlciwgMF07XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgfV0sXHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuaHRtbCdcclxufSk7XHJcblxyXG5cclxuXHJcbmFwcC5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnZ2FtZVNlcnZpY2UnLCAnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsIGdhbWVTZXJ2aWNlLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcblxyXG5cclxuXHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICBzZWxmLnRyYWl0RGVmaW5pdGlvbnMgPSB0cmFpdERlZmluaXRpb25zO1xyXG4gICAgICAgIC8vc2VsZi5kaWdnZXJzID0gZ2FtZVNlcnZpY2UuZGlnZ2VycztcclxuICAgICAgICBzZWxmLnVuaXRzID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVCcmVlZEV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIG9mZnNwcmluZykge1xyXG4gICAgICAgIC8vICAgIC8vJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBvZmZzcHJpbmc7IH0pO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgIC8vICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICAgIHNlbGYuZGlnZ2VycyA9IGRhdGEuRGlnZ2VycztcclxuICAgICAgICAvLyAgICAgICAgLy9zZWxmLmRpZ2dlckFuY2VzdG9ycyA9IGRhdGEuQW5jZXN0b3JzO1xyXG4gICAgICAgIC8vICAgIH0pO1xyXG4gICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgc2VsZi51cGRhdGVHZW5lID0gZnVuY3Rpb24oZGlnZ2VySW5kZXgsIGdlbmVJbmRleCwgdmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gc2VsZi51bml0c1tkaWdnZXJJbmRleF07XHJcbiAgICAgICAgICAgIGRpZ2dlci5nZW5lc1tnZW5lSW5kZXhdID0gdmFsdWVzO1xyXG4gICAgICAgICAgICBkaWdnZXIudXBkYXRlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAqL1xyXG5cclxuICAgIH07XHJcblxyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkUmVzb3VyY2VMaXN0Jywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Jlc291cmNlTGlzdC9yZXNvdXJjZUxpc3QuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMucmVzb3VyY2VMaXN0J1xyXG59KTtcclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMucmVzb3VyY2VMaXN0JywgW1xyXG4gICAgJyRzY29wZScsICdyZXNvdXJjZVNlcnZpY2UnLCAncmVzb3VyY2VUeXBlcycsXHJcbiAgICBmdW5jdGlvbigkc2NvcGUsIHJlc291cmNlU2VydmljZSwgcmVzb3VyY2VUeXBlcykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLnJlc291cmNlVHlwZXMgPSByZXNvdXJjZVR5cGVzO1xyXG4gICAgICAgIHNlbGYucmVzb3VyY2VzID0ge307XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJlc291cmNlU2VydmljZS5TdWJzY3JpYmVSZXNvdXJjZUNoYW5nZWRFdmVudCgkc2NvcGUsIHNlbGYucmVzb3VyY2VDaGFuZ2VkKTtcclxuICAgICAgICAgICAgcmVzb3VyY2VTZXJ2aWNlLlN1YnNjcmliZVJlc291cmNlTGltaXRDaGFuZ2VkRXZlbnQoJHNjb3BlLCBzZWxmLnJlc291cmNlTGltaXRDaGFuZ2VkKTtcclxuICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXMgPSByZXNvdXJjZVNlcnZpY2UuZ2V0UmVzb3VyY2VzU25hcHNob3QoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnJlc291cmNlQ2hhbmdlZCA9IGZ1bmN0aW9uKGV2ZW50LCByZXNvdXJjZVR5cGUsIGFtb3VudCkge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV0pXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlc291cmNlc1tyZXNvdXJjZVR5cGVdID0gW107XHJcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV1bMF0gPSBhbW91bnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlc291cmNlTGltaXRDaGFuZ2VkID0gZnVuY3Rpb24oZXZlbnQsIHJlc291cmNlVHlwZSwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIGlmICghc2VsZi5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXSlcclxuICAgICAgICAgICAgICAgIHNlbGYucmVzb3VyY2VzW3Jlc291cmNlVHlwZV0gPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5yZXNvdXJjZXNbcmVzb3VyY2VUeXBlXVsxXSA9IGFtb3VudDtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7IiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvaG9tZS5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLW1kLTYgY29sLWxnLTRcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiTG9nXCI+PGJsb3FoZWFkLWxvZz48L2Jsb3FoZWFkLWxvZz48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIkdvYWxzXCI+PGJsb3FoZWFkLWdvYWwtbGlzdD48L2Jsb3FoZWFkLWdvYWwtbGlzdD48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIlJlc291cmNlc1wiPjxibG9xaGVhZC1yZXNvdXJjZS1saXN0PjwvYmxvcWhlYWQtcmVzb3VyY2UtbGlzdD48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtbWQtNiBjb2wtbGctOFwiPjxkaXYgdWktdmlldz1cIlwiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2FjaGlldmVtZW50cy9hY2hpZXZlbWVudHMuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQWNoaWV2ZW1lbnRzXCI+PGRpdiBjbGFzcz1cInJvdyBicmVlZGVyLWNvbnRhaW5lclwiPjxkaXYgbmctcmVwZWF0PVwiY2hpbGQgaW4gJGN0cmwucG9wdWxhdGlvblwiIGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC02IGNvbC1sZy00XCI+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cImNoaWxkXCIgYXNzaWduPVwiJGN0cmwuYWRkQnJlZWRlcigkaWQpXCI+PC9ibG9xaGVhZC1icmVlZGVyPjwvZGl2PjwvZGl2PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9sb2cvbG9nLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwibG9nLWNvbXBvbmVudFwiPjx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj48bGkgbmctcmVwZWF0PVwiaXRlbSBpbiAkY3RybC5tZXNzYWdlcyB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGFzcz1cIiRjdHJsLmdldExvZ0NsYXNzKGl0ZW0udHlwZSlcIj5bPHNwYW4gbmctYmluZD1cIml0ZW0udGltZXN0YW1wfGRhdGU6XFwnTU0vZGQgSEg6bW06c3NcXCdcIj48L3NwYW4+XSZuYnNwOyA8c3BhbiBuZy1iaW5kPVwiaXRlbS5tZXNzYWdlXCI+PC9zcGFuPjwvbGk+PC91bD48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg1Pnt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g1PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIj48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3JcIj48dGhlYWQ+PHRyPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5TVFI8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5JTlQ8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5FTkQ8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5DSFI8L3RoPjx0aCBzdHlsZT1cIndpZHRoOiAyMCVcIj5MQ0s8L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLlNUUlwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLklOVFwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkVORFwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkNIUlwiPjwvc3Bhbj48L3RkPjx0ZD48c3BhbiBuZy1iaW5kPVwiJGN0cmwudW5pdC5hdHRyaWJ1dGVzLkxDS1wiPjwvc3Bhbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY3RybC5hc3NpZ25NZSgpIFwiPkJyZWVkIE1lPC9idXR0b24+PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5IGRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtZXhwYW5kZWQ9XCJmYWxzZVwiPldvcmsgPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj48L2J1dHRvbj48dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PGxpPjxhPk1pbmU8L2E+PC9saT48bGk+PGE+RmFybTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiUG9wdWxhdGlvbiBbe3skY3RybC5wb3B1bGF0aW9uLmxlbmd0aH19IC8ge3skY3RybC5tYXhQb3B1bGF0aW9ufX1dIC0tLUZJTFRFUlMgSEVSRT8/Py0tLS1cIj48ZGl2IGNsYXNzPVwicm93IGJyZWVkZXItY29udGFpbmVyXCI+PGRpdiBuZy1yZXBlYXQ9XCJjaGlsZCBpbiAkY3RybC5wb3B1bGF0aW9uXCIgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTggY29sLW1kLTYgY29sLWxnLTRcIj48YmxvcWhlYWQtYnJlZWRlciB1bml0PVwiY2hpbGRcIiBhc3NpZ249XCIkY3RybC5hZGRCcmVlZGVyKCRpZClcIj48L2Jsb3FoZWFkLWJyZWVkZXI+PC9kaXY+PC9kaXY+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS0xMCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQnJlZWRlcnMgWyMgLyAjXVwiPjxkaXYgY2xhc3M9XCJyb3cgYnJlZWRlci1jb250YWluZXJcIj48ZGl2IG5nLXJlcGVhdD1cImJyZWVkZXJpZCBpbiAkY3RybC5icmVlZGVyc1wiIGNsYXNzPVwiY29sLXhzLTEyIGNvbC1sZy0xMlwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUJyZWVkZXIoYnJlZWRlcmlkKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cIiRjdHJsLnBvcHVsYXRpb25bYnJlZWRlcmlkXVwiPjwvYmxvcWhlYWQtYnJlZWRlcj48L2Rpdj48L2Rpdj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tMTAgY29sLW1kLTYgY29sLWxnLTRcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIlRhc2tzXCI+PHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPjxsaT5NaW5lcnM6IDA8L2xpPjxsaT5GYXJtZXJzOiAwPC9saT48L3VsPjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9wbGF5ZXJCb3gvcGxheWVyQm94Lmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdFwiPjxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCI+PGgzIGNsYXNzPVwicGFuZWwtdGl0bGVcIiBuZy1iaW5kPVwiJGN0cmwudGl0bGVcIj48L2gzPjwvZGl2PjxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+PG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPjwvZGl2PjxkaXYgbmctaWY9XCJhbmd1bGFyLmlzRGVmaW5lZCgkY3RybC5mb290ZXIpXCIgY2xhc3M9XCJwYW5lbC1mb290ZXJcIj48c3BhbiBuZy1iaW5kPVwiJGN0cmwuZm9vdGVyXCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtNlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLmFkZE5ld0JyZWVkZXIoKVwiPkFkZCBuZXcgQnJlZWRlcjwvYnV0dG9uPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+R2VuZGVyOiB7eyRjdHJsLm5ld0JyZWVkZXJHZW5kZXJ9fSA8c3BhbiBjbGFzcz1cImNhcmV0XCI+PC9zcGFuPjwvZGl2Pjx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdNYWxlXFwnXCI+TWFsZTwvYT48L2xpPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ0ZlbWFsZVxcJ1wiPkZlbWFsZTwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTIgY29sLXNtLTYgY29sLW1kLTRcIiBuZy1yZXBlYXQ9XCJ1bml0IGluICRjdHJsLnVuaXRzXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIodW5pdClcIj48c3Bhbj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPjxnZW5vbWUtZWRpdG9yIHVuaXQ9XCJ1bml0XCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg0PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplTmFtZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtYXN0ZXJpc2tcIj48L2k+PC9idXR0b24+IHt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIiBuZy1jbGljaz1cIiRjdHJsLmV4cGFuZG8gPSAhJGN0cmwuZXhwYW5kb1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cIkNsaWNrIHRvIGV4cGFuZC9jb2xsYXBzZVwiPjxkaXYgbmctc2hvdz1cIiRjdHJsLmV4cGFuZG9cIiBzdHlsZT1cImhlaWdodDogNDAwcHg7IG92ZXJmbG93LXk6IHNjcm9sbDsgbWFyZ2luLXRvcDo1cHhcIj48dGFibGUgY2xhc3M9XCJnZW5vbWVFZGl0b3IgdGFibGUgdGFibGUtY29uZGVuc2VkXCI+PHRoZWFkPjx0cj48dGg+Jm5ic3A7PC90aD48dGg+RG9taW5hbnQ8L3RoPjx0aD5SZWNlc3NpdmU8L3RoPjx0aD5WYWx1ZXMgKEQvUi9NKTwvdGg+PHRoPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplQWxsKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+PHRyIG5nLXJlcGVhdD1cImdlbmUgaW4gJGN0cmwuZ2VuZURlZmluaXRpb25zXCI+PHRkIG5nLWJpbmQ9XCIkaW5kZXhcIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5kb21cIj48L3RkPjx0ZCBuZy1iaW5kPVwiZ2VuZS5yZWNcIj48L3RkPjx0ZD48aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVsxXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMF1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzJdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPjwvdGQ+PHRkPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tc3VjY2Vzc1wiIG5nLWNsaWNrPVwiJGN0cmwucmFuZG9taXplKCRpbmRleCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvbWF0aW5nVGFiLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIiByb2xlPVwiZ3JvdXBcIj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPk1vdGhlcjoge3skY3RybC5tb3RoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubW90aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdGZW1hbGVcXCdcIiBuZy1iaW5kPVwidW5pdC5uYW1lXCI+PC9hPjwvbGk+PC91bD48L2Rpdj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkZhdGhlcjoge3skY3RybC5mYXRoZXIubmFtZX19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwuZmF0aGVyID0gdW5pdFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHMgfCBoYXNUcmFpdDpcXCdNYWxlXFwnXCIgbmctYmluZD1cInVuaXQubmFtZVwiPjwvYT48L2xpPjwvdWw+PC9kaXY+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5tYXRlKClcIiBuZy1kaXNhYmxlZD1cIiEkY3RybC5mYXRoZXIgfHwgISRjdHJsLm1vdGhlclwiPk1hdGU8L2J1dHRvbj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48dWwgY2xhc3M9XCJuYXYgbmF2LXRhYnNcIiByb2xlPVwidGFibGlzdFwiPjxsaSByb2xlPVwicHJlc2VudGF0aW9uXCIgY2xhc3M9XCJhY3RpdmVcIj48YSBkYXRhLXRhcmdldD1cIiNicmVlZGVyc1wiIHJvbGU9XCJ0YWJcIiBkYXRhLXRvZ2dsZT1cInRhYlwiPkJyZWVkZXJzPC9hPjwvbGk+PGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIj48YSBkYXRhLXRhcmdldD1cIiNtYXRpbmdcIiByb2xlPVwidGFiXCIgZGF0YS10b2dnbGU9XCJ0YWJcIj5NYXRpbmc8L2E+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiPjxkaXYgcm9sZT1cInRhYnBhbmVsXCIgY2xhc3M9XCJ0YWItcGFuZSBhY3RpdmVcIiBpZD1cImJyZWVkZXJzXCI+PGJyZWVkZXItdGFiIHVuaXRzPVwiJGN0cmwudW5pdHNcIj48L2JyZWVkZXItdGFiPjwvZGl2PjxkaXYgcm9sZT1cInRhYnBhbmVsXCIgY2xhc3M9XCJ0YWItcGFuZVwiIGlkPVwibWF0aW5nXCI+PG1hdGluZy10YWIgdW5pdHM9XCIkY3RybC51bml0c1wiPjwvbWF0aW5nLXRhYj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9yZXNvdXJjZUxpc3QvcmVzb3VyY2VMaXN0Lmh0bWwnLFxuICAgICc8dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1jb25kZW5zZWRcIj48dGJvZHk+PHRyIG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiAkY3RybC5yZXNvdXJjZXNcIj48dGQgbmctYmluZD1cIiRjdHJsLnJlc291cmNlVHlwZXNba2V5XVwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCIodmFsdWVbMF0gKyBcXCcgLyBcXCcgKyB2YWx1ZVsxXSlcIj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPicpO1xufV0pO1xufSkoKTtcbiJdfQ==
