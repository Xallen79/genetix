function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,a,r,o=e.length,i=o?e[0].length:0,s="",l=[];t>0;t--)s+="\0";for(n=0;n<o;n++){for(a=0;a<i;a++)r=e[n][a],l.push(String.fromCharCode(r[2])+String.fromCharCode(r[1])+String.fromCharCode(r[0]));l.push(s)}return l.join("")}function n(e,t){var n,a,r,o=e.length,i=parseInt(o*t),s=o?e[0].length:0,l=parseInt(s*t),c=[];for(r=0;r<i;r++)for(c.push(n=[]),a=0;a<l;a++)n.push(e[parseInt(r/t)][parseInt(a/t)]);return c}window.generateBitmapDataURL=function(a,r){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;r=r||1,1!=r&&(a=n(a,r));var o,i=a.length,s=i?a[0].length:0,l=(4-3*s%4)%4,c=(3*s+l)*i,d=54+c;return i=e(i,4),s=e(s,4),c=e(c,4),d=e(d,4),o="BM"+d+"\0\0\0\x006\0\0\0(\0\0\0"+s+i+"\0\0\0\0\0\0"+c+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(a,l),"data:image/bmp;base64,"+btoa(o)}}(),function(e,t,n){function a(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?o=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?o=function(e){e=e.substring(1);var t=0,n=e.length,a=[];if(3==n)for(;t<n;t++)a.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)a.push(parseInt("0x"+e.substring(t,t+2)));return a}:alert("Unparseable color: "+e)}function r(e){var r=t.getElementById(e).style.backgroundColor;return""===r?[255,255,255]:(o===n&&a(r),o(r))}var o;e.generateLowResBitmap=function(n){n=n||10;for(var a,o,i,s,l,c=50,d=49,u=[];d>=0;d--)for(u.push(o=[]),a=0;a<c;a++)o.push(r(a+"_"+d));return s=t.createElement("img"),l=e.generateBitmapDataURL(u,n),s.src=l,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",i=t.getElementById("img"),null===i&&(i=t.createElement("div"),i.id="img",t.getElementById("wrap").appendChild(i)),i.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',i.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},i.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router","lz-string"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var a=[];a.push({name:"home",url:"/",component:"bloqhead.components.home"}),a.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),a.push({name:"home.achievements",url:"achievements",component:"bloqhead.components.achievementsUI"}),a.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),a.forEach(function(t){e.state(t)})}]).run(["gameService","populationService","logService",function(e,t,n){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.achievementsUI",{templateUrl:"components/achievements/achievements.html",controller:"bloqhead.controllers.achievementsUI",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.achievementsUI",function(){var e=this;e.$onInit=function(){}});var app=angular.module("bloqhead.genetixApp");app.component("bloqheadGameControl",{template:'<div><button title="Hard Reset" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.resetSave();"><i class="fa fa-recycle"></i></button><button title="Play/Pause" type="button" class="btn btn-xs btn-primary" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["$scope","gameService","gameLoopService","gameStates",function(e,t,n,a){var r=this;r.$onInit=function(){r.currentState=n.getState().currentState},r.toggleState=function(){r.currentState=r.currentState===a.RUNNING?a.PAUSED:a.RUNNING,n.setState(r.currentState)},r.getIcon=function(){return r.currentState===a.RUNNING?"fa-pause":"fa-play"},r.resetSave=function(){t.hardReset()}}]});var game=angular.module("bloqhead.genetixApp");game.filter("hasTrait",function(){return function(e,t){for(var n=[],a=0;a<e.length;a++)e[a].hasTrait(t)&&n.push(e[a]);return n}}),game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t,n){for(var a=Math.random(),r=angular.copy(a<=c.crossoverrate?e:t),o=r[2]/255,i="",s="",l=0;l<n;l++)i+=Math.random()<o?"1":"0",s+=Math.random()<o?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(s,2),r}function a(e,t){return generateBitmapDataURL(s(o(e,t),e.length),20)}function r(e){return generateBitmapDataURL(s(i(e),e.length),20)}function o(e,t){for(var n=[],a=50,r=255/(Math.pow(2,t)-1),o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],l=Math.abs(i-s)/255;l*=r,i>s?s=0:i=0,i*=l,s*=l,i>0&&(i+=a),s>0&&(s+=a),i>255&&(i=255),s>255&&(s=255),n.push([i,s,0])}return n}function i(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],a=0;a<e.length/t;a++){for(var r=[],o=0;o<t;o++)r.push(e[o+a*t]);n.push(r)}return n}var l=function(e){this.traitInspector=new t,this.update(e)};l.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.mother=e.mother||this.mother||null,this.father=e.father||this.father||null,this.generation=e.generation||this.generation||0,this.genes=e.genes||this.genes||[],this.mutationBits=e.mutationBits||this.mutationBits||4,this.redGreenImage=a(this.genes,this.mutationBits),this.blueImage=r(this.genes),this.traits=this.traitInspector.getTraits(this.genes),this.attributes=this.traitInspector.getAttributes(this.genes),this.name=this.name&&"Unknown Gender"!==this.name?this.name:e.name||this.getRandomName()},l.prototype.breed=function(e,t){for(var a=this,r=e,o=this.hasTrait("Male")?"Male":"Female",i=new l({id:t,generation:a.generation+1,genes:[],mother:"Female"==o?a:r,father:"Male"==o?a:r}),s=0;s<a.genes.length;s++){var c=a.genes[s],d=r.genes[s];i.genes.push(n(c,d,this.mutationBits))}return i.update(),i},l.prototype.getTraits=function(){return this.traits},l.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},l.prototype.getRandomName=function(){if(!this.genes||0===this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?d[randomIntFromInterval(0,d.length-1)]:u[randomIntFromInterval(0,u.length-1)],t=p[randomIntFromInterval(0,p.length-1)]+m[randomIntFromInterval(0,m.length-1)]+g[randomIntFromInterval(0,g.length-1)];return e+t};var c={crossoverrate:.5},d=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],u=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],p=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],g=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return l}]);var game=angular.module("bloqhead.genetixApp");game.factory("Population",["$filter","Breeder","geneDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){if(e=e||{},this.geneDefinitions=n,this.currentGeneration=e.currentGeneration||this.currentGeneration||0,this.breeders=e.breeders||this.breeders||[],this.maxSize=e.maxSize||this.maxSize||10,this.breederMutationBits=e.breederMutationBits||this.breederMutationBits||4,this.breederMutationChance=e.breederMutationChance||this.breederMutationChance||5,this.breederGenesUnlocked=e.breederGenesUnlocked||this.breederGenesUnlocked||[42],this.initialSize=e.initialSize||this.initialSize||2,e.members){this.members=[];for(var a=0;a<e.members.length;a++){var r=e.members[a],o=new t({id:r.id,mother:r.mother||null,father:r.father||null,generation:r.generation,genes:r.genes,mutationBits:r.mutationBits,name:r.name});o.update(),this.members.push(o)}}else this.members=this.members||this.createInitialPopulation(this.initialSize)},a.prototype.getState=function(){for(var e={currentGeneration:this.currentGeneration,breeders:this.breeders,maxSize:this.maxSize,breederMutationBits:this.breederMutationBits,breederMutationChance:this.breederMutationChance,breederGenesUnlocked:this.breederGenesUnlocked,initialSize:this.initialSize,members:[]},t=0;t<this.members.length;t++){var n=this.members[t];e.members.push({id:n.id,generation:n.generation,genes:n.genes,mutationBits:n.mutationBits,name:n.name})}return e},a.prototype.createInitialPopulation=function(e){for(var n=this,a=[],r=0;r<e;r++){for(var o=[],i=0;i<n.geneDefinitions.length;i++)o.push([0,0,0]),n.breederGenesUnlocked.indexOf(i)!==-1&&(o[i][2]=n.breederMutationChance);var s=r%2===0?255:0,l=r%2===0?0:255;o[42][0]=s,o[42][1]=l,o[42][2]=0;var c=new t({id:r,generation:0,genes:angular.copy(o),mutationBits:n.breederMutationBits});c.update(),a.push(c)}return a},a.prototype.isBreeding=function(){if(this.members.length>=this.maxSize)return!1;for(var e=!1,t=!1,n=0;n<this.breeders.length;n++){var a=this.getById(this.breeders[n]);if(a.hasTrait("Male")?e=!0:t=!0,e&&t)break}return e&&t},a.prototype.getById=function(e){return this.members.filter(function(t){return t.id===e})[0]},a.prototype.getByGeneration=function(e){return this.members.filter(function(t){return t.generation===e})},a.prototype.breed=function(){var e=this;if(!e.isBreeding())return null;var t=e.getById(e.breeders[0]),n=e.getById(e.breeders[1]),a=t.breed(n,e.members.length);return e.members.push(a),a},a}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["INT"]},e[11]={dom:"",rec:"",attr:["INT"]},e[12]={dom:"",rec:"",attr:["INT"]},e[13]={dom:"",rec:"",attr:["INT"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["END"]},e[21]={dom:"",rec:"",attr:["END"]},e[22]={dom:"",rec:"",attr:["END"]},e[23]={dom:"",rec:"",attr:["END"]},e[24]={dom:"",rec:"",attr:["END"]},e[25]={dom:"",rec:"",attr:["END"]},e[26]={dom:"",rec:"",attr:["END"]},e[27]={dom:"",rec:"",attr:["END"]},e[28]={dom:"",rec:"",attr:["END"]},e[29]={dom:"",rec:"",attr:["END"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[33]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["LCK"]},e[41]={dom:"",rec:"",attr:["LCK"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},a=function(e){if(angular.isDefined(e.requiredTraits))for(var r=0;r<e.requiredTraits.length;r++){var o=e.requiredTraits[r],i=n(o);t.indexOf(i.name)===-1&&a(i);for(var s=0;s<i.genes.length;s++)e.genes.push(i.genes[s])}t.push(e.name)},r=function(){for(var t=0;t<e.length;t++){var n=e[t];a(n)}return e};return r()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var a=function(e){this.update(e)};return a.prototype.update=function(e){"undefined"==typeof e&&(e={})},a.prototype.getTraits=function(e){var t=[];if(e.length)for(var a=0;a<n.length;a++){for(var r=n[a],o=!0,i=0;i<r.genes.length&&o===!0;i++){var s=r.genes[i],l=e[s[0]][1]-e[s[0]][0];(l<s[1]||l>s[2])&&(o=!1)}o&&t.push(r)}return t},a.prototype.getAttributes=function(e){var t={STR:0,INT:0,END:0,CHR:0,LCK:0};if(e.length){for(var n=0,a=0,r=0,o=0,i=0,s=0;s<e.length;s++)s<10?n+=e[s][1]-e[s][0]:s<20?a+=e[s][1]-e[s][0]:s<30?r+=e[s][1]-e[s][0]:s<40?o+=e[s][1]-e[s][0]:i+=e[s][1]-e[s][0];t.STR=Math.floor(Math.sqrt((Math.abs(n)+20)/25))*(n<0?-1:1),t.INT=Math.floor(Math.sqrt((Math.abs(a)+20)/25))*(a<0?-1:1),t.END=Math.floor(Math.sqrt((Math.abs(r)+20)/25))*(r<0?-1:1),t.CHR=Math.floor(Math.sqrt((Math.abs(o)+20)/25))*(o<0?-1:1),t.LCK=Math.floor(Math.sqrt((Math.abs(i)+20)/25))*(i<0?-1:1)}return t},a}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.home",{templateUrl:"components/home.html",controller:"bloqhead.controllers.home"}),game.controller("bloqhead.controllers.home",function(){this.$onInit=function(){}}),game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","populationService","achievementService",function(e,t,n){var a=this;a.$onInit=function(){a.breeders=[],a.population=[],a.maxPopulation=0,t.SubscribePopulationUpdateEvent(e,a.updatePopulation),t.SubscribeBreederUpdateEvent(e,a.updateBreeders),n.SubscribeNewRewardEvent(e,a.rewardEarned)},a.rewardEarned=function(e,t){console.log(t)},a.updateGene=function(e,n,a){t.updateMember(e,n,a)},a.addBreeder=function(e){t.addBreeder(e)},a.removeBreeder=function(e){t.removeBreeder(e)},a.updateBreeders=function(e,t){a.breeders=t},a.updatePopulation=function(e,t){a.population=t.population,a.maxPopulation=t.maxSize}}]),game.component("bloqheadBreeder",{templateUrl:"components/mainGame/breeder.html",controller:"bloqheader.controllers.breeder",bindings:{unit:"<",assign:"&"}}),game.controller("bloqheader.controllers.breeder",function(){var e=this;e.$onInit=function(){},e.assignMe=function(){e.assign({$id:e.unit.id})}});var game=angular.module("bloqhead.genetixApp");game.component("bloqheadLog",{templateUrl:"components/log/log.html",controller:"bloqhead.controllers.log"}),game.constant("logTypes",{GENERAL:1,BREED:2,ACHIEVEMENT:3}),game.controller("bloqhead.controllers.log",["$scope","logService","logTypes",function(e,t,n){var a=this;a.$onInit=function(){a.messages=[],t.SubscribeNewMessageEvent(e,a.receiveMessages)},a.getLogClass=function(e){var t="list-group-item-",a="";switch(e){case n.GENERAL:a="color-general";break;case n.ACHIEVEMENT:a="color-achievement";break;case n.BREED:a="color-breed";break;default:a=t+"none"}return a},a.receiveMessages=function(e,t){a.messages=t,$(".log-component")[0].scrollTop=$(".log-component")[0].scrollHeight}}]),game.service("logService",["$rootScope","logTypes",function(e,t){var n=this;n.init=function(e){e&&(n.messages=[],n.logGeneralMessage("Welcome to Genetix!"))},n.logGeneralMessage=function(a){n.messages.push({type:t.GENERAL,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logBreedMessage=function(a){n.messages.push({type:t.BREED,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.logAchievementMessage=function(a){n.messages.push({type:t.ACHIEVEMENT,timestamp:Date.now(),message:a}),n.messages.length>100&&n.messages.splice(0,1),e.$emit("newMessageEvent",n.messages)},n.SubscribeNewMessageEvent=function(t,a){var r=e.$on("newMessageEvent",a.bind(this));t.$on("$destroy",r),e.$emit("newMessageEvent",n.messages)}}]);var game=angular.module("bloqhead.genetixApp");game.component("bloqheadPlayerBox",{transclude:!0,require:{mainCtrl:"^bloqhead.components.home"},templateUrl:"components/playerBox/playerBox.html",controller:"bloqhead.controllers.playerBox",bindings:{title:"@",footer:"@"}}),game.controller("bloqhead.controllers.playerBox",function(){var e=this;e.$onInit=function(){e.unit=e.mainCtrl.unit}});var game=angular.module("bloqhead.genetixApp");game.constant("achievementSetup",{achievements:{A_BIRTHS:{aid:"A_BIRTHS",name:"The Chosen One",desc:"Create a new unit",ranks:[[5,[["P_R_GOLD",100],["P_R_WOOD",100]]],[20,[["P_M_HAPPINESS"],["P_G_ENHANCED",14,10]]]]}},perks:{P_M_HAPPINESS:{pid:"P_M_HAPPINESS",name:"New Mechanic: Happiness",desc:"Happiness is a representation of how content your population is.",once:!0},P_R_GOLD:{pid:"P_R_GOLD",name:"Earned Bonus Resources: Gold",desc:"[%1] gold has been added to your coffers."},P_R_WOOD:{pid:"P_R_WOOD",name:"Earned Bonus Resources: Wood",desc:"[%1] wood has been added to your coffers."},P_G_ENHANCED:{pid:"P_G_ENHANCED",name:"Gene Enhancement",desc:"The boundary has been increased by [%amt] for one of your [%attr] genes. ([%dom]/[%rec])"}}}),game.service("achievementService",["$rootScope","$filter","logService","achievementSetup","geneDefinitions",function(e,t,n,a,r){var o=this;o.init=function(e){e?o.progress={achievements:e.achievements,perks:e.perks}:o.progress={achievements:[],perks:[]}},o.getState=function(){return{achievements:o.progress.achievements,perks:o.progress.perks}},o.updateProgress=function(t,r){var i=o.progress.achievements[t];i||(i={aid:t,amount:0},o.progress.achievements[t]=i);var s=i.amount,l=i.amount+r;i.amount=l;for(var c=a.achievements[t],d=0;d<c.ranks.length;d++){var u=c.ranks[d][0];if(u>s&&u<=l){var p={achievement:c,amountRequired:u,perks:[]};n.logAchievementMessage("Achievement Earned - "+c.name+" ("+u+")");for(var m=0;m<c.ranks[d][1].length;m++){var g=o.applyPerk(c.ranks[d][1][m]);null!==g&&p.perks.push(g)}e.$emit("newRewardEvent",p)}}},o.applyPerk=function(e){var i=e[0],s=a.perks[i];if(s.once){var l=t("filter")(o.progress.perks,{pid:i});if(0!==l.length)return null}var c=s.name+" - "+s.desc;switch(s.pid){case"P_G_ENHANCED":var d=r[e[1]];c=c.replace("[%dom]",d.dom),c=c.replace("[%rec]",d.rec),c=c.replace("[%attr]",d.attr[0]),c=c.replace("[%amt]",e[2]);break;default:for(var u=1;u<e.length;u++)c=c.replace("[%"+u+"]",e[u])}switch(n.logAchievementMessage(c),i){case"P_G_ENHANCED":break;case"R_GOLD":break;case"R_WOOD":}var p={pid:i,msg:c,arr:e,dt:(new Date).toUTCString()};return o.progress.perks.push(p),p},o.SubscribeNewRewardEvent=function(t,n){var a=e.$on("newRewardEvent",n.bind(this));t.$on("$destroy",a)}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameSaveKey","GENETIX_SAVE"),game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.constant("defaultState",{clearLog:!0,autoSaveSteps:30,gameLoopServiceState:{stepTimeMs:1e3},populationServiceState:{breedSteps:6,populationState:{initialSize:2,maxSize:22,breederMutationBits:5,breederGenesUnlocked:[0,1,2,3,4,5,6,7,8,9,42],breederMuatationChance:10}},achievementServiceState:{achievements:[],perks:[]}}),game.service("gameLoopService",["$window","$rootScope","gameStates","logService",function(e,t,n,a){var r=this;r.initialized=!1,r.init=function(e){e=e||{},r.stepTimeMs=e.stepTimeMs||r.stepTimeMs||1e3,r.lastTime=0,r.currentState=n.PAUSED,r.initialized||(r.initialized=!0,r.gameLoop(0)),r.currentState=e.currentState||r.currentState||n.RUNNING},r.getState=function(){return{stepTimeMs:r.stepTimeMs,currentState:r.currentState}},r.setState=function(e){r.currentState=e,e===n.PAUSED?a.logGeneralMessage("Game paused."):a.logGeneralMessage("Game resumed.")},r.gameLoop=function(a){for(var r=this,o=0;r.lastTime+a>r.stepTimeMs*(o+1);)o++;r.lastTime=r.lastTime-r.stepTimeMs*o,r.currentState==n.RUNNING&&o>0&&t.$apply(t.$emit("gameLoopEvent",o)),e.requestAnimationFrame(this.gameLoop.bind(this))},r.SubscribeGameLoopEvent=function(e,n){var a=t.$on("gameLoopEvent",n.bind(this));e.$on("$destroy",a)}}]),game.service("gameService",["$rootScope","gameSaveKey","defaultState","logService","gameLoopService","populationService","achievementService","LZString",function(e,t,n,a,r,o,i,s){var l=this;l.init=function(e){var a=s.decompressFromBase64(localStorage.getItem(t)),r=a?angular.fromJson(a):void 0;l.gameState=e||r||n,l.autoSaveSteps=l.gameState.autoSaveSteps||l.autoSaveSteps||10,l.startGame(),l.stepsSinceSave=0},l.startGame=function(){a.init(l.gameState.clearLog),o.init(l.gameState.populationServiceState||{}),i.init(l.gameState.achievementServiceState||{}),r.init(l.gameState.gameLoopServiceState||{})},l.hardReset=function(){localStorage.removeItem(t),l.init()},r.SubscribeGameLoopEvent(e,function(e,n){if(l.stepsSinceSave+=n,l.stepsSinceSave>l.autoSaveSteps){var c=angular.copy(l.gameState);c.populationServiceState=angular.copy(o.getState()),c.achievementServiceState=angular.copy(i.getState()),c.gameLoopServiceState=angular.copy(r.getState());var d=s.compressToBase64(angular.toJson(angular.copy(c)));localStorage.setItem(t,d),a.logGeneralMessage("Game autosaved."),l.stepsSinceSave=0}})}]);var game=angular.module("bloqhead.genetixApp");game.service("populationService",["$rootScope","gameLoopService","Population","logService","achievementService",function(e,t,n,a,r){var o=this;o.init=function(t){t=t||{},o.breedSteps=t.breedSteps||t.breedSteps||6,o.stepsSinceBreed=t.stepsSinceBreed||o.stepsSinceBreed||0,o.populationState=t.populationState||o.populationState,o.population=o.populationState?new n(o.populationState):o.population||new n,o.logService=a,e.$emit("breederUpdateEvent",o.population.breeders),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},o.getState=function(){var e={breedSteps:o.breedSteps,stepsSinceBreed:o.stepsSinceBreed};return e.populationState=o.population.getState(),e},o.handleGameLoop=function(t,n){var i=!1;if("gameLoopEvent"!==t.name)return void console.log("populateService.handleGameLoop - Invalid event: "+t);if(o.population.isBreeding()){for(o.stepsSinceBreed+=n;o.stepsSinceBreed>=o.breedSteps;){o.stepsSinceBreed-=o.breedSteps;var s=o.population.breed();null!==s&&(a.logBreedMessage("New offspring! "+s.name),r.updateProgress("A_BIRTHS",1),i=!0)}i&&e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})}},o.addBreeder=function(t){o.population.breeders.indexOf(t)===-1&&(o.population.breeders.push(t),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder added: "+o.population.getById(t).name))},o.removeBreeder=function(t){var n=o.population.breeders.indexOf(t);n!==-1&&(o.population.breeders.splice(n,1),o.population.isBreeding()||(o.stepsSinceBreed=0),e.$emit("breederUpdateEvent",o.population.breeders),o.logService.logBreedMessage("Breeder removed: "+o.population.getById(t).name))},o.updateMember=function(t,n,a){var r=o.population.getById(t);r.genes[n]=a,r.update(),e.$emit("populationUpdateEvent",o.population.members)},o.SubscribeBreederUpdateEvent=function(t,n){var a=e.$on("breederUpdateEvent",n);t.$on("$destroy",a),e.$emit("breederUpdateEvent",o.population.breeders)},o.SubscribePopulationUpdateEvent=function(t,n){var a=e.$on("populationUpdateEvent",n.bind(this));t.$on("$destroy",a),e.$emit("populationUpdateEvent",{population:o.population.members,maxSize:o.population.maxSize})},t.SubscribeGameLoopEvent(e,o.handleGameLoop)}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("breederTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){var a=this;a.lastBreederID=0,a.newBreederGender="Male",a.killBreeder=function(e){a.units.splice(a.units.indexOf(e),1)},a.addNewBreeder=function(){for(var n=[],r=0;r<t.length;r++)n.push([0,0,0]);var o="Male"==a.newBreederGender?255:0;n[42]=[o,255-o,0];var i=new e({id:a.lastBreederID++,generation:0,scale:6,genes:n});i.update(),a.units.unshift(i)}}],templateUrl:"components/testInterface/breederTab.html"}),app.component("matingTab",{bindings:{units:"="},controller:["Breeder","geneDefinitions","traitDefinitions",function(e,t,n){}],templateUrl:"components/testInterface/matingTab.html"}),app.component("genomeEditor",{bindings:{unit:"="},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e,t.expando=!1},t.randomizeName=function(){t.unit.name=t.unit.getRandomName()},t.randomize=function(e){t.unit.genes[e]=[randomIntFromInterval(0,255),randomIntFromInterval(0,255),randomIntFromInterval(0,255)]},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0===randomIntFromInterval(0,1)?255:0;t.unit.genes[42]=[n,255-n,0],t.unit.update()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,a,r,o){var i=this;i.$onInit=function(){i.geneDefinitions=r,i.traitDefinitions=o,i.units=[]}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<div class="row"><div class="col-xs-6 col-lg-4"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Log"><bloqhead-log></bloqhead-log></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Goals"><bloqhead-goal-list></bloqhead-goal-list></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Resources"></bloqhead-player-box></div></div></div><div class="col-xs-6 col-lg-8"><div ui-view=""></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/achievements/achievements.html",'<div class="col-xs-12"><div class="row">I could display achievements...if someone coded me.</div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/breeder.html",'<div class="bloqhead-component"><h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><table class="table table-bordered table-condensed genomeEditor"><thead><tr><th style="width: 20%">STR</th><th style="width: 20%">INT</th><th style="width: 20%">END</th><th style="width: 20%">CHR</th><th style="width: 20%">LCK</th></tr></thead><tbody><tr><td><span ng-bind="$ctrl.unit.attributes.STR"></span></td><td><span ng-bind="$ctrl.unit.attributes.INT"></span></td><td><span ng-bind="$ctrl.unit.attributes.END"></span></td><td><span ng-bind="$ctrl.unit.attributes.CHR"></span></td><td><span ng-bind="$ctrl.unit.attributes.LCK"></span></td></tr></tbody></table><button class="btn btn-sm btn-primary" ng-click="$ctrl.assignMe() ">Breed Me</button><div class="btn-group"><button class="btn btn-sm btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Work <span class="caret"></span></button><ul class="dropdown-menu"><li><a>Mine</a></li><li><a>Farm</a></li></ul></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<div class="col-xs-12"><div class="row"><div class="col-xs-12"><bloqhead-player-box title="Population [{{$ctrl.population.length}} / {{$ctrl.maxPopulation}}] ---FILTERS HERE???----"><div class="row"><div ng-repeat="child in $ctrl.population" class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-breeder unit="child" assign="$ctrl.addBreeder($id)"></bloqhead-breeder></div></div></bloqhead-player-box></div></div><div class="row"><div class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-player-box title="Breeders [# / #]"><div class="row" ng-repeat="breederid in $ctrl.breeders"><div class="col-xs-12 col-lg-12"><button type="button" class="close" ng-click="$ctrl.removeBreeder(breederid)"><span>&times;</span></button><bloqhead-breeder unit="$ctrl.population[breederid]"></bloqhead-breeder></div></div></bloqhead-player-box></div><div class="col-xs-12 col-sm-8 col-md-6 col-lg-4"><bloqhead-player-box title="Tasks"><ul class="list-group"><li>Miners: 0</li><li>Farmers: 0</li></ul></bloqhead-player-box></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/log/log.html",'<div class="log-component"><ul class="list-group"><li ng-repeat="item in $ctrl.messages track by $index" ng-class="$ctrl.getLogClass(item.type)">[<span ng-bind="item.timestamp|date:\'MM/dd HH:mm:ss\'"></span>]&nbsp; <span ng-bind="item.message"></span></li></ul></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/playerBox/playerBox.html",'<div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title" ng-bind="$ctrl.title"></h3></div><div class="panel-body"><ng-transclude></ng-transclude></div><div class="panel-footer"><span ng-bind="$ctrl.footer"></span></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/breederTab.html",'<div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="unit in $ctrl.units"><button type="button" class="close" ng-click="$ctrl.killBreeder(unit)"><span>&times;</span></button><genome-editor unit="unit"></genome-editor></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<div class="bloqhead-component"><h4><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomizeName();"><i class="fa fa-asterisk"></i></button> {{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}" ng-click="$ctrl.expando = !$ctrl.expando" data-toggle="tooltip" rel="tooltip" title="Click to expand/collapse"><div ng-show="$ctrl.expando" style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values (D/R/M)</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td><input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div></div>');
}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/matingTab.html",'<div class="row"><div class="col-xs-12"><div class="btn-group" role="group"><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Mother: {{$ctrl.mother.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.mother = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Female\'" ng-bind="unit.name"></a></li></ul></div><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Father: {{$ctrl.father.name}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.father = unit" ng-repeat="unit in $ctrl.units | hasTrait:\'Male\'" ng-bind="unit.name"></a></li></ul></div><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.mate()" ng-disabled="!$ctrl.father || !$ctrl.mother">Mate</button></div></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div class="col-xs-12"><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#mating" role="tab" data-toggle="tab">Mating</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><breeder-tab units="$ctrl.units"></breeder-tab></div><div role="tabpanel" class="tab-pane" id="mating"><mating-tab units="$ctrl.units"></mating-tab></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL2dhbWVDb250cm9sL2dhbWVDb250cm9sLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3BvcHVsYXRpb24uanMiLCJjb21wb25lbnRzL2NsYXNzZXMvdHJhaXQuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9hY2hpZXZlbWVudFNlcnZpY2UuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL3BvcHVsYXRpb25TZXJ2aWNlLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuY29tcG9uZW50LmpzIiwiY29tcG9uZW50cy9ob21lLmpzIiwiY29tcG9uZW50cy9hY2hpZXZlbWVudHMvYWNoaWV2ZW1lbnRzLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5qcyIsImNvbXBvbmVudHMvbG9nL2xvZy5qcyIsImNvbXBvbmVudHMvcGxheWVyQm94L3BsYXllckJveC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJyYW5kb21JbnRGcm9tSW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYXNMaXR0bGVFbmRpYW5IZXgiLCJ2YWx1ZSIsImJ5dGVzIiwicmVzdWx0IiwicHVzaCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImpvaW4iLCJfY29sbGFwc2VEYXRhIiwicm93cyIsInJvd19wYWRkaW5nIiwiaSIsImoiLCJwaXhlbCIsInJvd3NfbGVuIiwibGVuZ3RoIiwicGl4ZWxzX2xlbiIsInBhZGRpbmciLCJfc2NhbGVSb3dzIiwic2NhbGUiLCJuZXdfcm93IiwieCIsInkiLCJyZWFsX2giLCJzY2FsZWRfaCIsInBhcnNlSW50IiwicmVhbF93Iiwic2NhbGVkX3ciLCJuZXdfcm93cyIsIndpbmRvdyIsImdlbmVyYXRlQml0bWFwRGF0YVVSTCIsImJ0b2EiLCJhbGVydCIsImZpbGUiLCJoZWlnaHQiLCJ3aWR0aCIsIm51bV9kYXRhX2J5dGVzIiwibnVtX2ZpbGVfYnl0ZXMiLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIl9hc3NpZ25fYmdfdHJhbnNmb3JtIiwiYmciLCJ0ZXN0IiwiJGJnX3RyYW5zZm9ybSIsInNwbGl0Iiwic3Vic3RyIiwic3Vic3RyaW5nIiwibGVuIiwiJGJnQXNSR0IiLCJpZCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJnZW5lcmF0ZUxvd1Jlc0JpdG1hcCIsInJvdyIsImltZ19wYXJlbnQiLCJpbWciLCJzcmMiLCJ4X2xlbiIsImNyZWF0ZUVsZW1lbnQiLCJhbHQiLCJ0aXRsZSIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJvbmNsaWNrIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiYXNrVG9TY2FsZSIsInByb21wdCIsInBhcnNlRmxvYXQiLCJOYU4iLCJpc05hTiIsInRoaXMiLCIkIiwidG9vbHRpcCIsInNlbGVjdG9yIiwialF1ZXJ5IiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZXMiLCJuYW1lIiwidXJsIiwiY29tcG9uZW50IiwiZm9yRWFjaCIsInN0YXRlIiwicnVuIiwiZ2FtZVNlcnZpY2UiLCJwb3B1bGF0aW9uU2VydmljZSIsImxvZ1NlcnZpY2UiLCJpbml0IiwiZ2FtZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImJpbmRpbmdzIiwiZm9vdGVyIiwic2VsZiIsIiRvbkluaXQiLCJhcHAiLCJ0ZW1wbGF0ZSIsIiRzY29wZSIsImdhbWVMb29wU2VydmljZSIsImdhbWVTdGF0ZXMiLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZSIsInRvZ2dsZVN0YXRlIiwiUlVOTklORyIsIlBBVVNFRCIsInNldFN0YXRlIiwiZ2V0SWNvbiIsInJlc2V0U2F2ZSIsImhhcmRSZXNldCIsImZpbHRlciIsInVuaXRzIiwidHJhaXROYW1lIiwicmV0IiwiaGFzVHJhaXQiLCJmYWN0b3J5IiwiJGZpbHRlciIsIlRyYWl0SW5zcGVjdG9yIiwiY3Jvc3NvdmVyIiwiZzEiLCJnMiIsIm1heEJpdHMiLCJnIiwiY29weSIsImdlbmV0aWNPcHRpb25zIiwiY3Jvc3NvdmVycmF0ZSIsIm11dGF0aW9uUmF0ZSIsImJpdFN0cmluZ1IiLCJiaXRTdHJpbmdHIiwiZ2V0UmVkR3JlZW5JbWFnZSIsImdlbmVzIiwibXV0YXRpb25CaXRzIiwiYWRkUm93cyIsImNvbnZlcnRSZWRHcmVlbk1hcCIsImdldEJsdWVJbWFnZSIsImNvbnZlcnRCbHVlTWFwIiwibWluQ29sb3IiLCJmYWN0b3IiLCJwb3ciLCJyIiwiYnJpZ2h0IiwiYWJzIiwiY29scyIsIkJyZWVkZXIiLCJ0cmFpdEluc3BlY3RvciIsInVwZGF0ZSIsInByb3RvdHlwZSIsIm1vdGhlciIsImZhdGhlciIsImdlbmVyYXRpb24iLCJyZWRHcmVlbkltYWdlIiwiYmx1ZUltYWdlIiwidHJhaXRzIiwiZ2V0VHJhaXRzIiwiYXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZXMiLCJnZXRSYW5kb21OYW1lIiwiYnJlZWQiLCJwYXJ0bmVyIiwibmV3SWQiLCJwMSIsInAyIiwibXlHZW5kZXIiLCJjaGlsZCIsInAxZyIsInAyZyIsInRyYWl0IiwibXlUcmFpdCIsImZpcnN0TmFtZSIsIm5hbWVMaXN0MSIsIm5hbWVMaXN0MiIsImxhc3ROYW1lIiwibmFtZUxpc3QzIiwibmFtZUxpc3Q0IiwibmFtZUxpc3Q1IiwiZ2VuZURlZmluaXRpb25zIiwiUG9wdWxhdGlvbiIsImN1cnJlbnRHZW5lcmF0aW9uIiwiYnJlZWRlcnMiLCJtYXhTaXplIiwiYnJlZWRlck11dGF0aW9uQml0cyIsImJyZWVkZXJNdXRhdGlvbkNoYW5jZSIsImJyZWVkZXJHZW5lc1VubG9ja2VkIiwiaW5pdGlhbFNpemUiLCJtZW1iZXJzIiwibSIsIm1lbWJlciIsInVuaXQiLCJjcmVhdGVJbml0aWFsUG9wdWxhdGlvbiIsImNvdW50IiwicG9wdWxhdGlvbiIsImduIiwiaW5kZXhPZiIsImlzQnJlZWRpbmciLCJoYXNNYWxlIiwiaGFzRmVtYWxlIiwiZ2V0QnlJZCIsImdldEJ5R2VuZXJhdGlvbiIsImNvbnN0YW50IiwiZG9tIiwicmVjIiwiYXR0ciIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJpc0RlZmluZWQiLCJyZXF1aXJlZFRyYWl0IiwicmVxIiwiYnVpbGRUcmFpdHMiLCJ0cmFpdERlZmluaXRpb25zIiwidGQiLCJtZXQiLCJoIiwidGRnIiwidiIsIlNUUiIsIklOVCIsIkVORCIsIkNIUiIsIkxDSyIsInN0ckJhc2UiLCJpbnRCYXNlIiwiZW5kQmFzZSIsImNockJhc2UiLCJsY2tCYXNlIiwic3FydCIsImFjaGlldmVtZW50U2VydmljZSIsIm1heFBvcHVsYXRpb24iLCJTdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQiLCJ1cGRhdGVQb3B1bGF0aW9uIiwiU3Vic2NyaWJlQnJlZWRlclVwZGF0ZUV2ZW50IiwidXBkYXRlQnJlZWRlcnMiLCJTdWJzY3JpYmVOZXdSZXdhcmRFdmVudCIsInJld2FyZEVhcm5lZCIsImV2ZW50IiwicmV3YXJkIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZUdlbmUiLCJnZW5lSW5kZXgiLCJnZW5lVmFsdWVzIiwidXBkYXRlTWVtYmVyIiwiYWRkQnJlZWRlciIsInVuaXRpZCIsInJlbW92ZUJyZWVkZXIiLCJkYXRhIiwiYXNzaWduIiwiYXNzaWduTWUiLCIkaWQiLCJHRU5FUkFMIiwiQlJFRUQiLCJBQ0hJRVZFTUVOVCIsImxvZ1R5cGVzIiwibWVzc2FnZXMiLCJTdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQiLCJyZWNlaXZlTWVzc2FnZXMiLCJnZXRMb2dDbGFzcyIsInR5cGUiLCJwcmVmaXgiLCJhIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0Iiwic2VydmljZSIsIiRyb290U2NvcGUiLCJjbGVhckxvZyIsImxvZ0dlbmVyYWxNZXNzYWdlIiwibWVzc2FnZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJzcGxpY2UiLCIkZW1pdCIsImxvZ0JyZWVkTWVzc2FnZSIsImxvZ0FjaGlldmVtZW50TWVzc2FnZSIsInNjb3BlIiwiY2FsbGJhY2siLCJoYW5kbGVyIiwiJG9uIiwiYmluZCIsInRyYW5zY2x1ZGUiLCJyZXF1aXJlIiwibWFpbkN0cmwiLCJhY2hpZXZlbWVudHMiLCJBX0JJUlRIUyIsImFpZCIsImRlc2MiLCJyYW5rcyIsInBlcmtzIiwiUF9NX0hBUFBJTkVTUyIsInBpZCIsIm9uY2UiLCJQX1JfR09MRCIsIlBfUl9XT09EIiwiUF9HX0VOSEFOQ0VEIiwiYWNoaWV2ZW1lbnRTZXR1cCIsInByb2dyZXNzIiwidXBkYXRlUHJvZ3Jlc3MiLCJhbW91bnQiLCJhY2hQcm9ncmVzcyIsIm9sZHZhbCIsIm5ld3ZhbCIsImFjaFNldHVwIiwicmMiLCJhbW91bnRSZXF1aXJlZCIsImFjaGlldmVtZW50IiwicGMiLCJwIiwiYXBwbHlQZXJrIiwiYXJyIiwicGVya1NldHVwIiwicGVya1NlYXJjaCIsIm1zZyIsImdlbmUiLCJyZXBsYWNlIiwiZHQiLCJ0b1VUQ1N0cmluZyIsImF1dG9TYXZlU3RlcHMiLCJnYW1lTG9vcFNlcnZpY2VTdGF0ZSIsInN0ZXBUaW1lTXMiLCJwb3B1bGF0aW9uU2VydmljZVN0YXRlIiwiYnJlZWRTdGVwcyIsInBvcHVsYXRpb25TdGF0ZSIsImJyZWVkZXJNdWF0YXRpb25DaGFuY2UiLCJhY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSIsIiR3aW5kb3ciLCJpbml0aWFsaXplZCIsImxhc3RUaW1lIiwiZ2FtZUxvb3AiLCJuZXdTdGF0ZSIsInN0ZXAiLCJzdGVwcyIsIiRhcHBseSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIlN1YnNjcmliZUdhbWVMb29wRXZlbnQiLCJnYW1lU2F2ZUtleSIsImRlZmF1bHRTdGF0ZSIsIkxaU3RyaW5nIiwianNvbiIsImRlY29tcHJlc3NGcm9tQmFzZTY0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNhdmVkU3RhdGUiLCJmcm9tSnNvbiIsImdhbWVTdGF0ZSIsInN0YXJ0R2FtZSIsInN0ZXBzU2luY2VTYXZlIiwicmVtb3ZlSXRlbSIsInNhdmVTdGF0ZSIsInNhdmUiLCJjb21wcmVzc1RvQmFzZTY0IiwidG9Kc29uIiwic2V0SXRlbSIsInN0ZXBzU2luY2VCcmVlZCIsImhhbmRsZUdhbWVMb29wIiwicG9wVXBkYXRlZCIsIm9mZnNwcmluZyIsImluZGV4IiwibGFzdEJyZWVkZXJJRCIsIm5ld0JyZWVkZXJHZW5kZXIiLCJraWxsQnJlZWRlciIsImFkZE5ld0JyZWVkZXIiLCJnZW5kZXIiLCJ1bnNoaWZ0IiwiZXhwYW5kbyIsInJhbmRvbWl6ZU5hbWUiLCJyYW5kb21pemUiLCJyYW5kb21pemVBbGwiLCIkdGltZW91dCIsImUiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5n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QyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBMUIsRUFBQSxLQUFBd0IsSUFBQSxXQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsaUJBQUFDLElBQUEsY0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxZQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIsRUFBQSxLQUFBd0IsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQTFCLEVBQUEsS0FBQXdCLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0ExQixFQUFBLEtBQUF3QixJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBMUIs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QSx1QkFDQSxNQUFBMFMsR0FDQTFTLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFZLEtBQUEsaUJBQUEsU0FBQStSLEdBQ0FBLEVBQUFDLElBQUEsMENBQ0EsbTZCQ1JBLFNBQUE1UyxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQTBTLEdBQ0ExUyxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBWSxLQUFBLGlCQUFBLFNBQUErUixHQUNBQSxFQUFBQyxJQUFBLDhDQUNBIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5mdW5jdGlvbiByYW5kb21JbnRGcm9tSW50ZXJ2YWwobWluLCBtYXgpIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkgKyBtaW4pO1xyXG59XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTYXZlS2V5JywgXCJHRU5FVElYX1NBVkVcIik7XHJcbmdhbWUuY29uc3RhbnQoJ2dhbWVTdGF0ZXMnLCB7XHJcbiAgICBQQVVTRUQ6IDAsXHJcbiAgICBSVU5OSU5HOiAxXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudChcImRlZmF1bHRTdGF0ZVwiLCB7XHJcblxyXG4gICAgY2xlYXJMb2c6IHRydWUsXHJcbiAgICBhdXRvU2F2ZVN0ZXBzOiAzMCxcclxuICAgIGdhbWVMb29wU2VydmljZVN0YXRlOiB7XHJcbiAgICAgICAgc3RlcFRpbWVNczogMTAwMFxyXG4gICAgfSxcclxuICAgIHBvcHVsYXRpb25TZXJ2aWNlU3RhdGU6IHtcclxuICAgICAgICBicmVlZFN0ZXBzOiA2LFxyXG4gICAgICAgIHBvcHVsYXRpb25TdGF0ZToge1xyXG4gICAgICAgICAgICBpbml0aWFsU2l6ZTogMixcclxuICAgICAgICAgICAgbWF4U2l6ZTogMjIsXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkJpdHM6IDUsXHJcbiAgICAgICAgICAgIGJyZWVkZXJHZW5lc1VubG9ja2VkOiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgNDJdLFxyXG4gICAgICAgICAgICBicmVlZGVyTXVhdGF0aW9uQ2hhbmNlOiAxMFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhY2hpZXZlbWVudFNlcnZpY2VTdGF0ZToge1xyXG4gICAgICAgIGFjaGlldmVtZW50czogW10sXHJcbiAgICAgICAgcGVya3M6IFtdXHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbmdhbWUuc2VydmljZSgnZ2FtZUxvb3BTZXJ2aWNlJywgWyckd2luZG93JywgJyRyb290U2NvcGUnLCAnZ2FtZVN0YXRlcycsICdsb2dTZXJ2aWNlJyxcclxuICAgIGZ1bmN0aW9uKCR3aW5kb3csICRyb290U2NvcGUsIGdhbWVTdGF0ZXMsIGxvZ1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcFRpbWVNcyA9IHN0YXRlLnN0ZXBUaW1lTXMgfHwgc2VsZi5zdGVwVGltZU1zIHx8IDEwMDA7XHJcbiAgICAgICAgICAgIHNlbGYubGFzdFRpbWUgPSAwO1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVTdGF0ZXMuUEFVU0VEO1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYuaW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5nYW1lTG9vcCgwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBzdGF0ZS5jdXJyZW50U3RhdGUgfHwgc2VsZi5jdXJyZW50U3RhdGUgfHwgZ2FtZVN0YXRlcy5SVU5OSU5HO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0ZXBUaW1lTXM6IHNlbGYuc3RlcFRpbWVNcyxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZTogc2VsZi5jdXJyZW50U3RhdGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuc2V0U3RhdGUgPSBmdW5jdGlvbihuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGdhbWVTdGF0ZXMuUEFVU0VEKSBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKFwiR2FtZSBwYXVzZWQuXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGxvZ1NlcnZpY2UubG9nR2VuZXJhbE1lc3NhZ2UoXCJHYW1lIHJlc3VtZWQuXCIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZ2FtZUxvb3AgPSBmdW5jdGlvbihzdGVwKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHN0ZXBzID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKHNlbGYubGFzdFRpbWUgKyBzdGVwID4gKHNlbGYuc3RlcFRpbWVNcyAqIChzdGVwcyArIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgc3RlcHMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxmLmxhc3RUaW1lID0gKHNlbGYubGFzdFRpbWUgLSAoc2VsZi5zdGVwVGltZU1zICogc3RlcHMpKTtcclxuICAgICAgICAgICAgaWYgKHNlbGYuY3VycmVudFN0YXRlID09IGdhbWVTdGF0ZXMuUlVOTklORyAmJiBzdGVwcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCRyb290U2NvcGUuJGVtaXQoJ2dhbWVMb29wRXZlbnQnLCBzdGVwcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVHYW1lTG9vcEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ2dhbWVMb29wRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgfVxyXG5dKTtcclxuXHJcbmdhbWUuc2VydmljZSgnZ2FtZVNlcnZpY2UnLCBbXHJcbiAgICAnJHJvb3RTY29wZScsICdnYW1lU2F2ZUtleScsICdkZWZhdWx0U3RhdGUnLCAnbG9nU2VydmljZScsICdnYW1lTG9vcFNlcnZpY2UnLCAncG9wdWxhdGlvblNlcnZpY2UnLCAnYWNoaWV2ZW1lbnRTZXJ2aWNlJywgJ0xaU3RyaW5nJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsIGdhbWVTYXZlS2V5LCBkZWZhdWx0U3RhdGUsIGxvZ1NlcnZpY2UsIGdhbWVMb29wU2VydmljZSwgcG9wdWxhdGlvblNlcnZpY2UsIGFjaGlldmVtZW50U2VydmljZSwgTFpTdHJpbmcpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGpzb24gPSBMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShnYW1lU2F2ZUtleSkpO1xyXG4gICAgICAgICAgICB2YXIgc2F2ZWRTdGF0ZSA9IChqc29uKSA/IGFuZ3VsYXIuZnJvbUpzb24oanNvbikgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHNlbGYuZ2FtZVN0YXRlID0gc3RhdGUgfHwgc2F2ZWRTdGF0ZSB8fCBkZWZhdWx0U3RhdGU7XHJcbiAgICAgICAgICAgIHNlbGYuYXV0b1NhdmVTdGVwcyA9IHNlbGYuZ2FtZVN0YXRlLmF1dG9TYXZlU3RlcHMgfHwgc2VsZi5hdXRvU2F2ZVN0ZXBzIHx8IDEwO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0R2FtZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VTYXZlID0gMDtcclxuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnN0YXJ0R2FtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLmluaXQoc2VsZi5nYW1lU3RhdGUuY2xlYXJMb2cpO1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLnBvcHVsYXRpb25TZXJ2aWNlU3RhdGUgfHwge30pO1xyXG4gICAgICAgICAgICBhY2hpZXZlbWVudFNlcnZpY2UuaW5pdChzZWxmLmdhbWVTdGF0ZS5hY2hpZXZlbWVudFNlcnZpY2VTdGF0ZSB8fCB7fSk7XHJcbiAgICAgICAgICAgIGdhbWVMb29wU2VydmljZS5pbml0KHNlbGYuZ2FtZVN0YXRlLmdhbWVMb29wU2VydmljZVN0YXRlIHx8IHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuaGFyZFJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGdhbWVTYXZlS2V5KTtcclxuICAgICAgICAgICAgc2VsZi5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZ2FtZUxvb3BTZXJ2aWNlLlN1YnNjcmliZUdhbWVMb29wRXZlbnQoJHJvb3RTY29wZSwgZnVuY3Rpb24oZXZlbnQsIHN0ZXBzKSB7XHJcbiAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgKz0gc3RlcHM7XHJcbiAgICAgICAgICAgIGlmIChzZWxmLnN0ZXBzU2luY2VTYXZlID4gc2VsZi5hdXRvU2F2ZVN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZVN0YXRlID0gYW5ndWxhci5jb3B5KHNlbGYuZ2FtZVN0YXRlKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5wb3B1bGF0aW9uU2VydmljZVN0YXRlID0gYW5ndWxhci5jb3B5KHBvcHVsYXRpb25TZXJ2aWNlLmdldFN0YXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgc2F2ZVN0YXRlLmFjaGlldmVtZW50U2VydmljZVN0YXRlID0gYW5ndWxhci5jb3B5KGFjaGlldmVtZW50U2VydmljZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgIHNhdmVTdGF0ZS5nYW1lTG9vcFNlcnZpY2VTdGF0ZSA9IGFuZ3VsYXIuY29weShnYW1lTG9vcFNlcnZpY2UuZ2V0U3RhdGUoKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2F2ZSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoYW5ndWxhci50b0pzb24oYW5ndWxhci5jb3B5KHNhdmVTdGF0ZSkpKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGdhbWVTYXZlS2V5LCBzYXZlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0dlbmVyYWxNZXNzYWdlKCdHYW1lIGF1dG9zYXZlZC4nKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuc3RlcHNTaW5jZVNhdmUgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5dKTsiLCIvKiFcclxuICogR2VuZXJhdGUgQml0bWFwIERhdGEgVVJMXHJcbiAqIGh0dHA6Ly9tcmNvbGVzLmNvbS9sb3ctcmVzLXBhaW50L1xyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMCwgUGV0ZXIgQ29sZXNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlcy5cclxuICogaHR0cDovL21yY29sZXMuY29tL21lZGlhL21pdC1saWNlbnNlLnR4dFxyXG4gKlxyXG4gKiBEYXRlOiBUdWUgT2N0IDI2IDAwOjAwOjAwIDIwMTAgLTA1MDBcclxuICovXHJcblxyXG4vKlxyXG4gKiBDb2RlIHRvIGdlbmVyYXRlIEJpdG1hcCBpbWFnZXMgKHVzaW5nIGRhdGEgdXJscykgZnJvbSByb3dzIG9mIFJHQiBhcnJheXMuXHJcbiAqIFNwZWNpZmljYWxseSBmb3IgdXNlIHdpdGggaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXN0LXBhaW50L1xyXG4gKlxyXG4gKiBSZXNlYXJjaDpcclxuICpcclxuICogUkZDIDIzOTcgZGF0YSBVUkxcclxuICogaHR0cDovL3d3dy54czRhbGwubmwvfndyYi9BcnRpY2xlcy9BcnRpY2xlX0lNR19SRkMyMzk3X1AxXzAxLmh0bVxyXG4gKlxyXG4gKiBCTVAgZmlsZSBGb3JtYXRcclxuICogaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CTVBfZmlsZV9mb3JtYXQjRXhhbXBsZV9vZl9hXzIuQzMuOTcyX1BpeGVsLjJDXzI0LUJpdF9CaXRtYXBfLjI4V2luZG93c19WM19ESUIuMjlcclxuICpcclxuICogQk1QIE5vdGVzXHJcbiAqXHJcbiAqIC0gSW50ZWdlciB2YWx1ZXMgYXJlIGxpdHRsZS1lbmRpYW4sIGluY2x1ZGluZyBSR0IgcGl4ZWxzLCBlLmcuLCAoMjU1LCAwLCAwKSAtPiBcXHgwMFxceDAwXFx4RkZcclxuICogLSBCaXRtYXAgZGF0YSBzdGFydHMgYXQgbG93ZXIgbGVmdCAoYW5kIHJlYWRzIGFjcm9zcyByb3dzKVxyXG4gKiAtIEluIHRoZSBCTVAgZGF0YSwgcGFkZGluZyBieXRlcyBhcmUgaW5zZXJ0ZWQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgbGluZXMgb2YgZGF0YSBpbiBtdWx0aXBsZXMgb2YgZm91cixcclxuICogICBlLmcuLCBhIDI0LWJpdCBiaXRtYXAgd2l0aCB3aWR0aCAxIHdvdWxkIGhhdmUgMyBieXRlcyBvZiBkYXRhIHBlciByb3cgKFIsIEcsIEIpICsgMSBieXRlIG9mIHBhZGRpbmdcclxuICovXHJcblxyXG4oZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gX2FzTGl0dGxlRW5kaWFuSGV4KHZhbHVlLCBieXRlcykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgdmFsdWUgaW50byBsaXR0bGUgZW5kaWFuIGhleCBieXRlc1xyXG4gICAgICAgIC8vIHZhbHVlIC0gdGhlIG51bWJlciBhcyBhIGRlY2ltYWwgaW50ZWdlciAocmVwcmVzZW50aW5nIGJ5dGVzKVxyXG4gICAgICAgIC8vIGJ5dGVzIC0gdGhlIG51bWJlciBvZiBieXRlcyB0aGF0IHRoaXMgdmFsdWUgdGFrZXMgdXAgaW4gYSBzdHJpbmdcclxuXHJcbiAgICAgICAgLy8gRXhhbXBsZTpcclxuICAgICAgICAvLyBfYXNMaXR0bGVFbmRpYW5IZXgoMjgzNSwgNClcclxuICAgICAgICAvLyA+ICdcXHgxM1xceDBiXFx4MDBcXHgwMCdcclxuXHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKDsgYnl0ZXMgPiAwOyBieXRlcy0tKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUodmFsdWUgJiAyNTUpKTtcclxuICAgICAgICAgICAgdmFsdWUgPj49IDg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9jb2xsYXBzZURhdGEocm93cywgcm93X3BhZGRpbmcpIHtcclxuICAgICAgICAvLyBDb252ZXJ0IHJvd3Mgb2YgUkdCIGFycmF5cyBpbnRvIEJNUCBkYXRhXHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgIHJvd3NfbGVuID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGosXHJcbiAgICAgICAgICAgIHBpeGVsc19sZW4gPSByb3dzX2xlbiA/IHJvd3NbMF0ubGVuZ3RoIDogMCxcclxuICAgICAgICAgICAgcGl4ZWwsXHJcbiAgICAgICAgICAgIHBhZGRpbmcgPSAnJyxcclxuICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyByb3dfcGFkZGluZyA+IDA7IHJvd19wYWRkaW5nLS0pIHtcclxuICAgICAgICAgICAgcGFkZGluZyArPSAnXFx4MDAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJvd3NfbGVuOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBpeGVsc19sZW47IGorKykge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWwgPSByb3dzW2ldW2pdO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsyXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMV0pICtcclxuICAgICAgICAgICAgICAgICAgICBTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzBdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFkZGluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9zY2FsZVJvd3Mocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBTaW1wbGVzdCBzY2FsaW5nIHBvc3NpYmxlXHJcbiAgICAgICAgdmFyIHJlYWxfaCA9IHJvd3MubGVuZ3RoLFxyXG4gICAgICAgICAgICBzY2FsZWRfaCA9IHBhcnNlSW50KHJlYWxfaCAqIHNjYWxlKSxcclxuICAgICAgICAgICAgcmVhbF93ID0gcmVhbF9oID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBzY2FsZWRfdyA9IHBhcnNlSW50KHJlYWxfdyAqIHNjYWxlKSxcclxuICAgICAgICAgICAgbmV3X3Jvd3MgPSBbXSxcclxuICAgICAgICAgICAgbmV3X3JvdywgeCwgeTtcclxuXHJcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IHNjYWxlZF9oOyB5KyspIHtcclxuICAgICAgICAgICAgbmV3X3Jvd3MucHVzaChuZXdfcm93ID0gW10pO1xyXG4gICAgICAgICAgICBmb3IgKHggPSAwOyB4IDwgc2NhbGVkX3c7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgbmV3X3Jvdy5wdXNoKHJvd3NbcGFyc2VJbnQoeSAvIHNjYWxlKV1bcGFyc2VJbnQoeCAvIHNjYWxlKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdfcm93cztcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMID0gZnVuY3Rpb24ocm93cywgc2NhbGUpIHtcclxuICAgICAgICAvLyBFeHBlY3RzIHJvd3Mgc3RhcnRpbmcgaW4gYm90dG9tIGxlZnRcclxuICAgICAgICAvLyBmb3JtYXR0ZWQgbGlrZSB0aGlzOiBbW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDBdLCAuLi5dLCAuLi5dXHJcbiAgICAgICAgLy8gd2hpY2ggcmVwcmVzZW50czogW1tyZWQsIHllbGxvdywgLi4uXSwgLi4uXVxyXG5cclxuICAgICAgICBpZiAoIXdpbmRvdy5idG9hKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdPaCBubywgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYmFzZTY0IGVuY29kaW5nIC0gd2luZG93LmJ0b2EoKSEhJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTtcclxuICAgICAgICBpZiAoc2NhbGUgIT0gMSkge1xyXG4gICAgICAgICAgICByb3dzID0gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaGVpZ2h0ID0gcm93cy5sZW5ndGgsIC8vIHRoZSBudW1iZXIgb2Ygcm93c1xyXG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCA/IHJvd3NbMF0ubGVuZ3RoIDogMCwgLy8gdGhlIG51bWJlciBvZiBjb2x1bW5zIHBlciByb3dcclxuICAgICAgICAgICAgcm93X3BhZGRpbmcgPSAoNCAtICh3aWR0aCAqIDMpICUgNCkgJSA0LCAvLyBwYWQgZWFjaCByb3cgdG8gYSBtdWx0aXBsZSBvZiA0IGJ5dGVzXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzID0gKHdpZHRoICogMyArIHJvd19wYWRkaW5nKSAqIGhlaWdodCwgLy8gc2l6ZSBpbiBieXRlcyBvZiBCTVAgZGF0YVxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyA9IDU0ICsgbnVtX2RhdGFfYnl0ZXMsIC8vIGZ1bGwgaGVhZGVyIHNpemUgKG9mZnNldCkgKyBzaXplIG9mIGRhdGFcclxuICAgICAgICAgICAgZmlsZTtcclxuXHJcbiAgICAgICAgaGVpZ2h0ID0gX2FzTGl0dGxlRW5kaWFuSGV4KGhlaWdodCwgNCk7XHJcbiAgICAgICAgd2lkdGggPSBfYXNMaXR0bGVFbmRpYW5IZXgod2lkdGgsIDQpO1xyXG4gICAgICAgIG51bV9kYXRhX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9kYXRhX2J5dGVzLCA0KTtcclxuICAgICAgICBudW1fZmlsZV9ieXRlcyA9IF9hc0xpdHRsZUVuZGlhbkhleChudW1fZmlsZV9ieXRlcywgNCk7XHJcblxyXG4gICAgICAgIC8vIHRoZXNlIGFyZSB0aGUgYWN0dWFsIGJ5dGVzIG9mIHRoZSBmaWxlLi4uXHJcblxyXG4gICAgICAgIGZpbGUgPSAoJ0JNJyArIC8vIFwiTWFnaWMgTnVtYmVyXCJcclxuICAgICAgICAgICAgbnVtX2ZpbGVfYnl0ZXMgKyAvLyBzaXplIG9mIHRoZSBmaWxlIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwJyArIC8vIHJlc2VydmVkXHJcbiAgICAgICAgICAgICdcXHgzNlxceDAwXFx4MDBcXHgwMCcgKyAvLyBvZmZzZXQgb2Ygd2hlcmUgQk1QIGRhdGEgbGl2ZXMgKDU0IGJ5dGVzKVxyXG4gICAgICAgICAgICAnXFx4MjhcXHgwMFxceDAwXFx4MDAnICsgLy8gbnVtYmVyIG9mIHJlbWFpbmluZyBieXRlcyBpbiBoZWFkZXIgZnJvbSBoZXJlICg0MCBieXRlcylcclxuICAgICAgICAgICAgd2lkdGggKyAvLyB0aGUgd2lkdGggb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgIGhlaWdodCArIC8vIHRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcCBpbiBwaXhlbHMqXHJcbiAgICAgICAgICAgICdcXHgwMVxceDAwJyArIC8vIHRoZSBudW1iZXIgb2YgY29sb3IgcGxhbmVzICgxKVxyXG4gICAgICAgICAgICAnXFx4MThcXHgwMCcgKyAvLyAyNCBiaXRzIC8gcGl4ZWxcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIE5vIGNvbXByZXNzaW9uICgwKVxyXG4gICAgICAgICAgICBudW1fZGF0YV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIEJNUCBkYXRhIChieXRlcykqXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIGhvcml6b250YWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MTNcXHgwQlxceDAwXFx4MDAnICsgLy8gMjgzNSBwaXhlbHMvbWV0ZXIgLSB0aGUgdmVydGljYWwgcmVzb2x1dGlvblxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTnVtYmVyIG9mIGNvbG9ycyBpbiB0aGUgcGFsZXR0ZSAoa2VlcCAwIGZvciAyNC1iaXQpXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyAwIGltcG9ydGFudCBjb2xvcnMgKG1lYW5zIGFsbCBjb2xvcnMgYXJlIGltcG9ydGFudClcclxuICAgICAgICAgICAgX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZylcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gJ2RhdGE6aW1hZ2UvYm1wO2Jhc2U2NCwnICsgYnRvYShmaWxlKTtcclxuICAgIH07XHJcblxyXG59KSgpO1xyXG5cclxuXHJcblxyXG4vL1xyXG4vLyBDb2RlIHNwZWNpZmljIHRvIGxvdyByZXMgcGFpbnRcclxuLy9cclxuXHJcbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICB2YXIgJGJnX3RyYW5zZm9ybTtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNzaWduX2JnX3RyYW5zZm9ybShiZykge1xyXG4gICAgICAgIC8vIGRpZmZlcmVudCBicm93c2VycyByZXR1cm4gdGhlIGNvbG9yIGRpZmZlcmVudGx5XHJcbiAgICAgICAgLy8gbGV0J3Mgc3VwcG9ydCBcInJnYigxMjMsIDAsIDUpXCIsIFwiI2ZmZlwiLCBhbmQgXCIjZmYwMDk5XCJcclxuICAgICAgICBpZiAoL15yZ2JcXChcXGQrLCBcXGQrLCBcXGQrXFwpJC8udGVzdChiZykpIHtcclxuICAgICAgICAgICAgJGJnX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgICAgIHggPSB4LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICB4WzBdID0geFswXS5zdWJzdHIoNCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgdDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHhbaV0gPSBwYXJzZUludCh4W2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmcuc3Vic3RyaW5nKDAsIDEpID09ICcjJykge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IHgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCgnMHgnICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpICsgeC5zdWJzdHJpbmcoaSwgaSArIDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdVbnBhcnNlYWJsZSBjb2xvcjogJyArIGJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJGJnQXNSR0IoaWQpIHtcclxuICAgICAgICB2YXIgYmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIGlmIChiZyA9PT0gJycpIHJldHVybiBbMjU1LCAyNTUsIDI1NV07XHJcbiAgICAgICAgaWYgKCRiZ190cmFuc2Zvcm0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBfYXNzaWduX2JnX3RyYW5zZm9ybShiZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgIH1cclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAgPSBmdW5jdGlvbihzY2FsZSkge1xyXG4gICAgICAgIC8vIHBpeGVscyBhcmUgeF95IHN0YXJ0aW5nIGluIHRvcCBsZWZ0LCB3ZSBuZWVkIHRvIGl0ZXJhdGUgZnJvbSBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGRpbWVuc2lvbnMgYXJlIGEgNTB4NTAgc3F1YXJlICgwLCAwLCA0OSwgNDkpXHJcblxyXG4gICAgICAgIHNjYWxlID0gc2NhbGUgfHwgMTA7XHJcblxyXG4gICAgICAgIHZhciB4LFxyXG4gICAgICAgICAgICB4X2xlbiA9IDUwLFxyXG4gICAgICAgICAgICB5ID0gNDksXHJcbiAgICAgICAgICAgIHJvd3MgPSBbXSxcclxuICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICBpbWdfcGFyZW50LFxyXG4gICAgICAgICAgICBpbWcsXHJcbiAgICAgICAgICAgIHNyYztcclxuXHJcbiAgICAgICAgZm9yICg7IHkgPj0gMDsgeS0tKSB7XHJcbiAgICAgICAgICAgIHJvd3MucHVzaChyb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB4X2xlbjsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaCgkYmdBc1JHQih4ICsgJ18nICsgeSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0ZXN0IGltYWdlICogL1xyXG4gICAgICAgIHJvd3MgPSBbXHJcbiAgICAgICAgICAgIFtbMjU1LCAwLCAwXSwgWzI1NSwgMjU1LCAyNTVdXSxcclxuICAgICAgICAgICAgW1swLCAwLCAyNTVdLCBbMCwgMjU1LDBdXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLyogKi9cclxuXHJcbiAgICAgICAgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgc3JjID0gd2luZG93LmdlbmVyYXRlQml0bWFwRGF0YVVSTChyb3dzLCBzY2FsZSk7XHJcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcclxuICAgICAgICBpbWcuYWx0ID0gJ0lmIHlvdSBjYW4gcmVhZCB0aGlzLCB5b3VyIGJyb3dzZXIgcHJvYmFibHkgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGRhdGEgVVJMIHNjaGVtZSBmb3JtYXQhIE9oIG5vISc7XHJcbiAgICAgICAgaW1nLnRpdGxlID0gJ1lvdSBnZW5lcmF0ZWQgYW4gaW1hZ2UsIGdyZWF0IGpvYiEgVG8gc2F2ZSBpdCwgZHJhZyBpdCB0byB5b3VyIERlc2t0b3Agb3IgcmlnaHQgY2xpY2sgYW5kIHNlbGVjdCBzYXZlIGFzLic7XHJcbiAgICAgICAgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICBpZiAoaW1nX3BhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQuaWQgPSAnaW1nJztcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXAnKS5hcHBlbmRDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW1nX3BhcmVudC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImltZy1oZWFkZXJcIj5HZW5lcmF0ZWQgSW1hZ2UgJm5ic3A7PGEgdGl0bGU9XCJoaWRlIGltYWdlXCIgaHJlZj1cIiNcIj54PC9hPjwvZGl2Pic7XHJcbiAgICAgICAgaW1nX3BhcmVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGltZ19wYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1nJyk7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpbWdfcGFyZW50KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaW1nX3BhcmVudC5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmdlbmVyYXRlTG93UmVzQml0bWFwLmFza1RvU2NhbGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2NhbGUgPSBwcm9tcHQoJ1BpY2sgYSBzY2FsaW5nIGZhY3Rvci4uLlxcbjEgPSBhY3R1YWwgc2l6ZSwgLjUgPSBoYWxmLCAyID0gZG91YmxlXFxuKG5vdGU6IGxhcmdlIG51bWJlcnMgbWlnaHQgY3Jhc2ggeW91ciBicm93c2VyKScpO1xyXG4gICAgICAgIGlmIChzY2FsZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KHNjYWxlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBOYU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTmFOKHNjYWxlKSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoJ1RoYXQgaXMgbm90IGEgbnVtYmVyIScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAqIDEwOyAvLyBzaW5jZSBhY3R1YWwgc2l6ZSBpcyBhY3R1YWxseSAxMHghXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAoc2NhbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbn0pKHRoaXMsIHRoaXMuZG9jdW1lbnQpOyIsIihmdW5jdGlvbigkKSB7XHJcbiAgICAkKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJ2JvZHknKS50b29sdGlwKHtcclxuICAgICAgICAgICAgc2VsZWN0b3I6ICdbcmVsPXRvb2x0aXBdJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pKGpRdWVyeSk7XHJcblxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbJ3VpLnJvdXRlcicsICdsei1zdHJpbmcnXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcclxuICAgICAgICAgICAgdmFyIHN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZScsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5tYWluJyxcclxuICAgICAgICAgICAgICAgIHVybDogJ21haW4nLFxyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdGF0ZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnaG9tZS5hY2hpZXZlbWVudHMnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnYWNoaWV2ZW1lbnRzJyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMuYWNoaWV2ZW1lbnRzVUknXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUudGVzdCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICd0ZXN0JyxcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudDogJ2Jsb3FoZWFkLmNvbXBvbmVudHMudGVzdEludGVyZmFjZSdcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICBdKS5ydW4oWydnYW1lU2VydmljZScsICdwb3B1bGF0aW9uU2VydmljZScsICdsb2dTZXJ2aWNlJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UsIHBvcHVsYXRpb25TZXJ2aWNlLCBsb2dTZXJ2aWNlKSB7XHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICAgIC8vcG9wdWxhdGlvblNlcnZpY2UuaW5pdCgpO1xyXG4gICAgICAgIC8vbG9nU2VydmljZS5pbml0KCk7XHJcbiAgICB9XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMuYWNoaWV2ZW1lbnRzVUknLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5hY2hpZXZlbWVudHNVSScsXHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHRpdGxlOiAnQCcsXHJcbiAgICAgICAgZm9vdGVyOiAnQCdcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5hY2hpZXZlbWVudHNVSScsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgfTtcclxufSk7IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5hcHAuY29tcG9uZW50KCdibG9xaGVhZEdhbWVDb250cm9sJywge1xyXG4gICAgdGVtcGxhdGU6ICc8ZGl2PicgK1xyXG4gICAgICAgICc8YnV0dG9uIHRpdGxlPVwiSGFyZCBSZXNldFwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIiRjdHJsLnJlc2V0U2F2ZSgpO1wiPjxpIGNsYXNzPVwiZmEgZmEtcmVjeWNsZVwiPjwvaT48L2J1dHRvbj4nICtcclxuICAgICAgICAnPGJ1dHRvbiB0aXRsZT1cIlBsYXkvUGF1c2VcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCIkY3RybC50b2dnbGVTdGF0ZSgpO1wiPjxpIGNsYXNzPVwiZmFcIiBuZy1jbGFzcz1cIiRjdHJsLmdldEljb24oKVwiPjwvaT48L2J1dHRvbj4nICtcclxuICAgICAgICAnPC9kaXY+JyxcclxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ2dhbWVTZXJ2aWNlJywgJ2dhbWVMb29wU2VydmljZScsICdnYW1lU3RhdGVzJywgZnVuY3Rpb24oJHNjb3BlLCBnYW1lU2VydmljZSwgZ2FtZUxvb3BTZXJ2aWNlLCBnYW1lU3RhdGVzKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRTdGF0ZSA9IGdhbWVMb29wU2VydmljZS5nZXRTdGF0ZSgpLmN1cnJlbnRTdGF0ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudG9nZ2xlU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSAoc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/IGdhbWVTdGF0ZXMuUEFVU0VEIDogZ2FtZVN0YXRlcy5SVU5OSU5HKTtcclxuICAgICAgICAgICAgZ2FtZUxvb3BTZXJ2aWNlLnNldFN0YXRlKHNlbGYuY3VycmVudFN0YXRlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYuZ2V0SWNvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/ICdmYS1wYXVzZScgOiAnZmEtcGxheSc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJlc2V0U2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBnYW1lU2VydmljZS5oYXJkUmVzZXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgfV1cclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5maWx0ZXIoJ2hhc1RyYWl0JywgZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odW5pdHMsIHRyYWl0TmFtZSkge1xyXG4gICAgICAgIHZhciByZXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVuaXRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICBpZiAodW5pdHNbaV0uaGFzVHJhaXQodHJhaXROYW1lKSlcclxuICAgICAgICAgICAgICAgIHJldC5wdXNoKHVuaXRzW2ldKTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxufSk7XHJcblxyXG5cclxuZ2FtZS5mYWN0b3J5KCdCcmVlZGVyJywgWyckZmlsdGVyJywgJ1RyYWl0SW5zcGVjdG9yJywgZnVuY3Rpb24oJGZpbHRlciwgVHJhaXRJbnNwZWN0b3IpIHtcclxuXHJcblxyXG5cclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgQnJlZWRlciA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMudHJhaXRJbnNwZWN0b3IgPSBuZXcgVHJhaXRJbnNwZWN0b3IoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpOyAgICAgICAgXHJcbiAgICB9O1xyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZihjb25maWcpID09ICd1bmRlZmluZWQnKSBjb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkIHx8IHRoaXMuaWQgfHwgMDtcclxuICAgICAgICB0aGlzLm1vdGhlciA9IGNvbmZpZy5tb3RoZXIgfHwgdGhpcy5tb3RoZXIgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmZhdGhlciA9IGNvbmZpZy5mYXRoZXIgfHwgdGhpcy5mYXRoZXIgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLmdlbmVyYXRpb24gPSBjb25maWcuZ2VuZXJhdGlvbiB8fCB0aGlzLmdlbmVyYXRpb24gfHwgMDtcclxuICAgICAgICB0aGlzLmdlbmVzID0gY29uZmlnLmdlbmVzIHx8IHRoaXMuZ2VuZXMgfHwgW107XHJcbiAgICAgICAgLy8obWF4IG51bWJlciBvZiBiaXRzIHRoYXQgY2FuIG11dGF0ZSwgbGltaXRzIHRoZSBtYXgvbWluIHZhbHVlcyBmb3IgZWFjaCBnZW5lKVxyXG4gICAgICAgIC8vIDQgPSBtYXggMTUsIDUgPSBtYXggMzEuLi4gOCA9IG1heCAyNTVcclxuICAgICAgICB0aGlzLm11dGF0aW9uQml0cyA9IGNvbmZpZy5tdXRhdGlvbkJpdHMgfHwgdGhpcy5tdXRhdGlvbkJpdHMgfHwgNDtcclxuXHJcbiAgICAgICAgdGhpcy5yZWRHcmVlbkltYWdlID0gZ2V0UmVkR3JlZW5JbWFnZSh0aGlzLmdlbmVzLCB0aGlzLm11dGF0aW9uQml0cyk7XHJcbiAgICAgICAgdGhpcy5ibHVlSW1hZ2UgPSBnZXRCbHVlSW1hZ2UodGhpcy5nZW5lcyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJhaXRzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRUcmFpdHModGhpcy5nZW5lcyk7XHJcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRBdHRyaWJ1dGVzKHRoaXMuZ2VuZXMpO1xyXG5cclxuICAgICAgICB0aGlzLm5hbWUgPSAodGhpcy5uYW1lICYmIHRoaXMubmFtZSAhPT0gJ1Vua25vd24gR2VuZGVyJykgPyB0aGlzLm5hbWUgOiBjb25maWcubmFtZSB8fCB0aGlzLmdldFJhbmRvbU5hbWUoKTtcclxuXHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbihwYXJ0bmVyLCBuZXdJZCkge1xyXG4gICAgICAgIHZhciBwMSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHAyID0gcGFydG5lcjtcclxuXHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcblxyXG4gICAgICAgIHZhciBjaGlsZCA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgaWQ6IG5ld0lkLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uOiBwMS5nZW5lcmF0aW9uICsgMSxcclxuICAgICAgICAgICAgZ2VuZXM6IFtdLFxyXG4gICAgICAgICAgICBtb3RoZXI6IG15R2VuZGVyID09ICdGZW1hbGUnID8gcDEgOiBwMixcclxuICAgICAgICAgICAgZmF0aGVyOiBteUdlbmRlciA9PSAnTWFsZScgPyBwMSA6IHAyXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcDEuZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHAxZyA9IHAxLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICB2YXIgcDJnID0gcDIuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIGNoaWxkLmdlbmVzLnB1c2goY3Jvc3NvdmVyKHAxZywgcDJnLCB0aGlzLm11dGF0aW9uQml0cykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGlsZC51cGRhdGUoKTsgICAgIFxyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuaGFzVHJhaXQgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRyYWl0cy5maWx0ZXIoZnVuY3Rpb24obXlUcmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbXlUcmFpdC5uYW1lID09PSB0cmFpdDtcclxuICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nZW5lcyB8fCB0aGlzLmdlbmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ1Vua25vd24gR2VuZGVyJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKSA/IG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QxLmxlbmd0aCAtIDEpXSA6IG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwgbmFtZUxpc3QyLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbGFzdE5hbWUgPSBuYW1lTGlzdDNbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0My5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDRbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NC5sZW5ndGggLSAxKV0gKyBuYW1lTGlzdDVbcmFuZG9tSW50RnJvbUludGVydmFsKDAsIG5hbWVMaXN0NS5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgcmV0dXJuIGZpcnN0TmFtZSArIGxhc3ROYW1lO1xyXG4gICAgfTtcclxuICAgIC8vIHdlIG5lZWQgdG8gcmV0dXJuIGFsbCByZWxhdGlvbnMgdG8gYWNjb3VudCBmb3IgaW5icmVlZGluZyAoYWthIHVuY2xlIGJyb3RoZXIpXHJcbiAgICAvKiB0aGlzIGlzIHdheSB3cm9uZy4uLi5cclxuICAgIEJyZWVkZXIucHJvdG90eXBlLmdldFJlbGF0aW9ucyA9IGZ1bmN0aW9uKHRoZXkpIHtcclxuICAgICAgICB2YXIgbXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciBteW1hdGVybmFsID0gW107XHJcbiAgICAgICAgdmFyIG15R2VuZGVyID0gdGhpcy5oYXNUcmFpdCgnTWFsZScpID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgdmFyIHRoZXlwYXRlcm5hbCA9IFtdO1xyXG4gICAgICAgIHZhciB0aGV5bWF0ZXJuYWwgPSBbXTtcclxuICAgICAgICB2YXIgdGhleUdlbmRlciA9IHRoZXkuaGFzVHJhaXQoJ01hbGUnKSA/ICdNYWxlJyA6ICdGZW1hbGUnO1xyXG5cclxuICAgICAgICB2YXIgdTtcclxuICAgICAgICAvLyBidWlsZCAnbXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbXltYXRlcm5hbC5wdXNoKHUubW90aGVyKTtcclxuICAgICAgICAgICAgdSA9IHUubW90aGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1ID0gdGhpcztcclxuICAgICAgICB3aGlsZSAodS5mYXRoZXIgIT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG15cGF0ZXJuYWwucHVzaCh1LmZhdGhlcik7XHJcbiAgICAgICAgICAgIHUgPSB1LmZhdGhlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYnVpbGQgJ3RoZXknIGxpc3Qgb2YgbW90aGVycyBhbmQgZmF0aGVyc1xyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1Lm1vdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleW1hdGVybmFsLnB1c2godS5tb3RoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5tb3RoZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHUgPSB0aGV5O1xyXG4gICAgICAgIHdoaWxlICh1LmZhdGhlciAhPSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhleXBhdGVybmFsLnB1c2godS5mYXRoZXIpO1xyXG4gICAgICAgICAgICB1ID0gdS5mYXRoZXI7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBmb3IgbWF0ZXJuYWwgcmVsYXRpb25zaGlwc1xyXG4gICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgbXltYXRlcm5hbC5sZW5ndGg7IGgrKylcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGV5bWF0ZXJuYWwubGVuZ3RoOyBrKyspXHJcbiAgICAgICAgICAgICAgICBpZiAobXltYXRlcm5hbFtoXS5pZCA9PSB0aGV5bWF0ZXJuYWwuaWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgc2FtZSBtb3RoZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA9PSAwICYmIGtrID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCgodGhpcy5mYXRoZXIuaWQgIT0gdGhleS5mYXRoZXIuaWQpID8gJ0hhbGYgJyA6ICcnKSArICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnU2lzdGVyJyA6ICdCcm90aGVyJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaCA+IGspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKCdHcmFuZCAnLnJlcGVhdCgoaC1rKSAtIDEpICsgICgodGhleUdlbmRlciA9PSAnRmVtYWxlJykgPyAnTmVpY2UnIDogJ05lcGhldycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcblxyXG4gICAgfTtcclxuICAgICovXHJcblxyXG5cclxuICAgIC8qIHByaXZhdGUgbWVtYmVycyAqL1xyXG4gICAgdmFyIGdlbmV0aWNPcHRpb25zID0ge1xyXG4gICAgICAgIGNyb3Nzb3ZlcnJhdGU6IDAuNVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyBtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QxID0gWydEaWdneSAnLCAnRGVhbiAnLCAnRHVrZSAnLCAnRG95bGUgJywgJ0RpcmsgJywgJ0RhZyAnLCAnRGltaXRyaSAnLCAnRHJ1ICddO1xyXG4gICAgLy8gZmVtYWxlIGZpcnN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3QyID0gWydEYWdneSAnLCAnRGFpc3kgJywgJ0RpbmFoICcsICdEaGFybWEgJywgJ0RlZSAnLCAnRGFwaG5lICcsICdEaXhpZSAnLCAnRGFyY3kgJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgcHJlZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3QzID0gWycnLCAnJywgJycsICcnLCAnJywgJ1ZhbiAnLCAnVm9uICcsICdPXFwnJywgJ01jJywgJ01jJ107XHJcbiAgICAvLyBsYXN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3Q0ID0gWydEb29nJywgJ0RpYmInLCAnRGFiYicsICdEaWcnLCAnRGFuZycsICdEdWdnJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgc3VmZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3Q1ID0gWycnLCAnJywgJycsICdsZXInLCAnbGVyJywgJ2VyJywgJ2VyJywgJ2VyJywgJ3d1ZXJzdCcsICdlcnd1ZXJzdCcsICdlcnRvbicsICdlcnRvbicsICdza2knXTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIGZ1bmN0aW9ucyAqL1xyXG4gICAgZnVuY3Rpb24gY3Jvc3NvdmVyKGcxLCBnMiwgbWF4Qml0cykge1xyXG4gICAgICAgIHZhciBjcm9zc292ZXIgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgIHZhciBnID0gYW5ndWxhci5jb3B5KGNyb3Nzb3ZlciA8PSBnZW5ldGljT3B0aW9ucy5jcm9zc292ZXJyYXRlID8gZzEgOiBnMik7XHJcbiAgICAgICAgdmFyIG11dGF0aW9uUmF0ZSA9IGdbMl0gLyAyNTUuMDtcclxuICAgICAgICB2YXIgYml0U3RyaW5nUiA9ICcnO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdHID0gJyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhCaXRzOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nUiArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9sZFIgPSBnWzBdO1xyXG4gICAgICAgIHZhciBvbGRHID0gZ1sxXTtcclxuICAgICAgICBnWzBdIF49IHBhcnNlSW50KGJpdFN0cmluZ1IsIDIpO1xyXG4gICAgICAgIGdbMV0gXj0gcGFyc2VJbnQoYml0U3RyaW5nRywgMik7XHJcbiAgICAgICAgcmV0dXJuIGc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmVkR3JlZW5JbWFnZShnZW5lcywgbXV0YXRpb25CaXRzKSB7XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlQml0bWFwRGF0YVVSTChhZGRSb3dzKGNvbnZlcnRSZWRHcmVlbk1hcChnZW5lcywgbXV0YXRpb25CaXRzKSwgZ2VuZXMubGVuZ3RoKSwgMjApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJsdWVJbWFnZShnZW5lcykge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIDIwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMsIG11dGF0aW9uQml0cykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgbWluQ29sb3IgPSA1MDtcclxuICAgICAgICB2YXIgZmFjdG9yID0gMjU1IC8gKE1hdGgucG93KDIsIG11dGF0aW9uQml0cykgLSAxKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZ2VuZXNbaV1bMF07XHJcbiAgICAgICAgICAgIHZhciBnID0gZ2VuZXNbaV1bMV07XHJcbiAgICAgICAgICAgIHZhciBicmlnaHQgPSBNYXRoLmFicyhyIC0gZykgLyAyNTU7XHJcbiAgICAgICAgICAgIGJyaWdodCAqPSBmYWN0b3I7XHJcbiAgICAgICAgICAgIGlmIChyID4gZykge1xyXG4gICAgICAgICAgICAgICAgZyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByICo9IGJyaWdodDtcclxuICAgICAgICAgICAgZyAqPSBicmlnaHQ7XHJcblxyXG4gICAgICAgICAgICBpZiAociA+IDApIHIgKz0gbWluQ29sb3I7XHJcbiAgICAgICAgICAgIGlmIChnID4gMCkgZyArPSBtaW5Db2xvcjtcclxuICAgICAgICAgICAgaWYgKHIgPiAyNTUpIHIgPSAyNTU7XHJcbiAgICAgICAgICAgIGlmIChnID4gMjU1KSBnID0gMjU1O1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3IsIGcsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qmx1ZU1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFswLCAwLCBnZW5lc1tpXVsyXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJvd3MoZ2VuZXMsIGNvbHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoZ2VuZXMubGVuZ3RoIC8gY29scyk7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaChnZW5lc1tpICsgKGogKiBjb2xzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEJyZWVkZXI7XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmZhY3RvcnkoJ1BvcHVsYXRpb24nLCBbJyRmaWx0ZXInLCAnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMpIHtcclxuXHJcblxyXG4gICAgLyogY29uc3RydWN0b3IgKi9cclxuICAgIHZhciBQb3B1bGF0aW9uID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShzdGF0ZSk7XHJcbiAgICB9O1xyXG4gICAgLyogcHVibGljIGZ1bmN0aW9ucyAqL1xyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHt9O1xyXG4gICAgICAgIHRoaXMuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEdlbmVyYXRpb24gPSBzdGF0ZS5jdXJyZW50R2VuZXJhdGlvbiB8fCB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uIHx8IDA7XHJcbiAgICAgICAgdGhpcy5icmVlZGVycyA9IHN0YXRlLmJyZWVkZXJzIHx8IHRoaXMuYnJlZWRlcnMgfHwgW107XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gc3RhdGUubWF4U2l6ZSB8fCB0aGlzLm1heFNpemUgfHwgMTA7XHJcbiAgICAgICAgdGhpcy5icmVlZGVyTXV0YXRpb25CaXRzID0gc3RhdGUuYnJlZWRlck11dGF0aW9uQml0cyB8fCB0aGlzLmJyZWVkZXJNdXRhdGlvbkJpdHMgfHwgNDtcclxuICAgICAgICB0aGlzLmJyZWVkZXJNdXRhdGlvbkNoYW5jZSA9IHN0YXRlLmJyZWVkZXJNdXRhdGlvbkNoYW5jZSB8fCB0aGlzLmJyZWVkZXJNdXRhdGlvbkNoYW5jZSB8fCA1O1xyXG4gICAgICAgIHRoaXMuYnJlZWRlckdlbmVzVW5sb2NrZWQgPSBzdGF0ZS5icmVlZGVyR2VuZXNVbmxvY2tlZCB8fCB0aGlzLmJyZWVkZXJHZW5lc1VubG9ja2VkIHx8IFs0Ml07XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU2l6ZSA9IHN0YXRlLmluaXRpYWxTaXplIHx8IHRoaXMuaW5pdGlhbFNpemUgfHwgMjtcclxuICAgICAgICBpZiAoc3RhdGUubWVtYmVycykge1xyXG4gICAgICAgICAgICB0aGlzLm1lbWJlcnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBzdGF0ZS5tZW1iZXJzLmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVtYmVyID0gc3RhdGUubWVtYmVyc1ttXTtcclxuICAgICAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBtZW1iZXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW90aGVyOiBtZW1iZXIubW90aGVyIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZmF0aGVyOiBtZW1iZXIuZmF0aGVyIHx8IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogbWVtYmVyLmdlbmVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXM6IG1lbWJlci5nZW5lcyxcclxuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbkJpdHM6IG1lbWJlci5tdXRhdGlvbkJpdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVtYmVyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuaXQudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbWJlcnMucHVzaCh1bml0KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgdGhpcy5tZW1iZXJzID0gdGhpcy5tZW1iZXJzIHx8IHRoaXMuY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24odGhpcy5pbml0aWFsU2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRHZW5lcmF0aW9uOiB0aGlzLmN1cnJlbnRHZW5lcmF0aW9uLFxyXG4gICAgICAgICAgICBicmVlZGVyczogdGhpcy5icmVlZGVycyxcclxuICAgICAgICAgICAgbWF4U2l6ZTogdGhpcy5tYXhTaXplLFxyXG4gICAgICAgICAgICBicmVlZGVyTXV0YXRpb25CaXRzOiB0aGlzLmJyZWVkZXJNdXRhdGlvbkJpdHMsXHJcbiAgICAgICAgICAgIGJyZWVkZXJNdXRhdGlvbkNoYW5jZTogdGhpcy5icmVlZGVyTXV0YXRpb25DaGFuY2UsXHJcbiAgICAgICAgICAgIGJyZWVkZXJHZW5lc1VubG9ja2VkOiB0aGlzLmJyZWVkZXJHZW5lc1VubG9ja2VkLFxyXG4gICAgICAgICAgICBpbml0aWFsU2l6ZTogdGhpcy5pbml0aWFsU2l6ZSxcclxuICAgICAgICAgICAgbWVtYmVyczogW11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAodmFyIG0gPSAwOyBtIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgbSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSB0aGlzLm1lbWJlcnNbbV07XHJcbiAgICAgICAgICAgIHN0YXRlLm1lbWJlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpZDogbWVtYmVyLmlkLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogbWVtYmVyLmdlbmVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBnZW5lczogbWVtYmVyLmdlbmVzLFxyXG4gICAgICAgICAgICAgICAgbXV0YXRpb25CaXRzOiBtZW1iZXIubXV0YXRpb25CaXRzLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbWVtYmVyLm5hbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuY3JlYXRlSW5pdGlhbFBvcHVsYXRpb24gPSBmdW5jdGlvbihjb3VudCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgcG9wdWxhdGlvbiA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZ2VuZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgZ24gPSAwOyBnbiA8IHNlbGYuZ2VuZURlZmluaXRpb25zLmxlbmd0aDsgZ24rKykge1xyXG4gICAgICAgICAgICAgICAgZ2VuZXMucHVzaChbMCwgMCwgMF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuYnJlZWRlckdlbmVzVW5sb2NrZWQuaW5kZXhPZihnbikgIT09IC0xKSBnZW5lc1tnbl1bMl0gPSBzZWxmLmJyZWVkZXJNdXRhdGlvbkNoYW5jZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA9PT0gMCA/IDI1NSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBnID0gaSAlIDIgPT09IDAgPyAwIDogMjU1O1xyXG5cclxuICAgICAgICAgICAgZ2VuZXNbNDJdWzBdID0gcjtcclxuICAgICAgICAgICAgZ2VuZXNbNDJdWzFdID0gZztcclxuICAgICAgICAgICAgZ2VuZXNbNDJdWzJdID0gMDtcclxuXHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGksXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IGFuZ3VsYXIuY29weShnZW5lcyksXHJcbiAgICAgICAgICAgICAgICBtdXRhdGlvbkJpdHM6IHNlbGYuYnJlZWRlck11dGF0aW9uQml0c1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgcG9wdWxhdGlvbi5wdXNoKHVuaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9wdWxhdGlvbjtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuaXNCcmVlZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1lbWJlcnMubGVuZ3RoID49IHRoaXMubWF4U2l6ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBhcmUgYXQgbGVhc3QgMSBtYWxlIGFuZCAxIGZlbWFsZSBpbiB0aGUgYnJlZWRlcnNcclxuICAgICAgICB2YXIgaGFzTWFsZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICBoYXNGZW1hbGUgPSBmYWxzZTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYnJlZWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSB0aGlzLmdldEJ5SWQodGhpcy5icmVlZGVyc1tpXSk7XHJcbiAgICAgICAgICAgIGlmICh1bml0Lmhhc1RyYWl0KCdNYWxlJykpIGhhc01hbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlIGhhc0ZlbWFsZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChoYXNNYWxlICYmIGhhc0ZlbWFsZSkgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoYXNNYWxlICYmIGhhc0ZlbWFsZTtcclxuICAgIH07XHJcblxyXG4gICAgUG9wdWxhdGlvbi5wcm90b3R5cGUuZ2V0QnlJZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5pdC5pZCA9PT0gaWQ7XHJcbiAgICAgICAgfSlbMF07XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmdldEJ5R2VuZXJhdGlvbiA9IGZ1bmN0aW9uKGdlbmVyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbih1bml0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bml0LmdlbmVyYXRpb24gPT09IGdlbmVyYXRpb247XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIFBvcHVsYXRpb24ucHJvdG90eXBlLmJyZWVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmICghc2VsZi5pc0JyZWVkaW5nKCkpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHZhciBwMSA9IHNlbGYuZ2V0QnlJZChzZWxmLmJyZWVkZXJzWzBdKTtcclxuICAgICAgICB2YXIgcDIgPSBzZWxmLmdldEJ5SWQoc2VsZi5icmVlZGVyc1sxXSk7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gcDEuYnJlZWQocDIsIHNlbGYubWVtYmVycy5sZW5ndGgpO1xyXG4gICAgICAgIHNlbGYubWVtYmVycy5wdXNoKGNoaWxkKTtcclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBQb3B1bGF0aW9uO1xyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcbmdhbWUuY29uc3RhbnQoJ2dlbmVEZWZpbml0aW9ucycsIChmdW5jdGlvbigpIHtcclxuICAgIHZhciBnZW5lRGVmaW5pdGlvbnMgPSBbXTtcclxuICAgIC8vZ2VuZSA6cixnLGIgcjpyZWNlc3NpdmUsIGc6ZG9taW5hbnQsIGI6bXV0YXRpb25yYXRlXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMF0gPSB7IGRvbTogJ0Jyb2FkIFNob3VsZGVycycsIHJlYzogJ1NsZW5kZXIgU2hvdWxkZXJzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzFdID0geyBkb206ICdUaGljayBTa3VsbCcsIHJlYzogJ1NvZnQgU2t1bGwnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMl0gPSB7IGRvbTogJ0xhcmdlIEFybXMnLCByZWM6ICdTbWFsbCBBcm1zJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzNdID0geyBkb206ICdMYXJnZSBMZWdzJywgcmVjOiAnU21hbGwgTGVncycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s0XSA9IHsgZG9tOiAnQmlnIENoZXN0JywgcmVjOiAnV2VhayBDaGVzdCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s1XSA9IHsgZG9tOiAnVG91Z2ggSmF3JywgcmVjOiAnV2VhayBKYXcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNl0gPSB7IGRvbTogJ09hZmlzaCcsIHJlYzogJ01vdXNleScsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTRdID0geyBkb206ICdDYWxjdWxhdGVkIERlY2lzaW9ucycsIHJlYzogJ1JlY2tsZXNzJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE1XSA9IHsgZG9tOiAnTGF0ZXJhbCBUaGlua2VyJywgcmVjOiAnU2luZ2xlIE1pbmRlZCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNl0gPSB7IGRvbTogJ1F1aWNrIExlYXJuZXInLCByZWM6ICdGb3JnZXRmdWwnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMThdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0lOVCddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzIwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzIxXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzIyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzIzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzI5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydFTkQnXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1szMF0gPSB7IGRvbTogJ0Vsb3F1ZW50JywgcmVjOiAnQ2F0YXRvbmljJywgYXR0cjogWydDSFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzMxXSA9IHsgZG9tOiAnUG93ZXJmdWwgVm9pY2UnLCByZWM6ICdRdWlldCBWb2ljZScsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMl0gPSB7IGRvbTogJ0Z1bGwgTGlwcycsIHJlYzogJ1RoaW4gTGlwcycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szM10gPSB7IGRvbTogJ0RhcmsgU2tpbicsIHJlYzogJ0ZhaXIgU2tpbicsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0xDSyddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDJdID0geyBkb206ICdGZW1hbGUnLCByZWM6ICdNYWxlJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG5cclxuICAgIHJldHVybiBnZW5lRGVmaW5pdGlvbnM7XHJcbn0pKCkpO1xyXG5cclxuZ2FtZS5jb25zdGFudCgndHJhaXREZWZpbml0aW9ucycsIChmdW5jdGlvbigpIHtcclxuICAgIHZhciB0cmFpdHMgPSBbe1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIDIwMF0sXHJcbiAgICAgICAgICAgICAgICBbNSwgNTAsIDI1NV1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnTWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdQcmV0dHknLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIC0xMDBdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwLCAyNDBdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ0ZlbWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdBZ2dyZXNzaXZlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMiwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs1LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMTQsIC0yNTUsIC0xNTBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0ZlbWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIDAsIDI1NV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnTWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIC0yNTUsIC0xXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdIYW5kc29tZSBBZ2dyZXNzaXZlIGFuZCBzb21ldGhpbmcnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzMwLCAwLCAwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydIYW5kc29tZScsICdBZ2dyZXNzaXZlJ11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBjaGVja2VkID0gW107XHJcbiAgICB2YXIgZ2V0VHJhaXRCeU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWl0cy5maWx0ZXIoZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gdC5uYW1lO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlID0gZnVuY3Rpb24odHJhaXQpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodHJhaXQucmVxdWlyZWRUcmFpdHMpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJhaXQucmVxdWlyZWRUcmFpdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXF1aXJlZFRyYWl0ID0gdHJhaXQucmVxdWlyZWRUcmFpdHNbal07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxID0gZ2V0VHJhaXRCeU5hbWUocmVxdWlyZWRUcmFpdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZC5pbmRleE9mKHJlcS5uYW1lKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZShyZXEpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCByZXEuZ2VuZXMubGVuZ3RoOyBnKyspXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhaXQuZ2VuZXMucHVzaChyZXEuZ2VuZXNbZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoZWNrZWQucHVzaCh0cmFpdC5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJ1aWxkVHJhaXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRyYWl0ID0gdHJhaXRzW2ldO1xyXG4gICAgICAgICAgICBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlKHRyYWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFpdHMpO1xyXG4gICAgICAgIHJldHVybiB0cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGJ1aWxkVHJhaXRzKCk7XHJcbn0pKCkpO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnVHJhaXRJbnNwZWN0b3InLCBbJyRmaWx0ZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgVHJhaXRJbnNwZWN0b3IgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIC8vdGhpcy5pZCA9IGNvbmZpZy5pZCB8fCB0aGlzLmlkIHx8IDA7ICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdERlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSB0cmFpdERlZmluaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IHRkLmdlbmVzLmxlbmd0aCAmJiBtZXQgPT09IHRydWU7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZGcgPSB0ZC5nZW5lc1toXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGdlbmVzW3RkZ1swXV1bMV0gLSBnZW5lc1t0ZGdbMF1dWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2IDwgdGRnWzFdIHx8IHYgPiB0ZGdbMl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcbiAgICBUcmFpdEluc3BlY3Rvci5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IHtcclxuICAgICAgICAgICAgXCJTVFJcIjogMCxcclxuICAgICAgICAgICAgXCJJTlRcIjogMCxcclxuICAgICAgICAgICAgXCJFTkRcIjogMCxcclxuICAgICAgICAgICAgXCJDSFJcIjogMCxcclxuICAgICAgICAgICAgXCJMQ0tcIjogMFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGdlbmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgc3RyQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBpbnRCYXNlID0gMCxcclxuICAgICAgICAgICAgICAgIGVuZEJhc2UgPSAwLFxyXG4gICAgICAgICAgICAgICAgY2hyQmFzZSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsY2tCYXNlID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBnZW5lcy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGcgPCAxMClcclxuICAgICAgICAgICAgICAgICAgICBzdHJCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnIDwgMjApXHJcbiAgICAgICAgICAgICAgICAgICAgaW50QmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZyA8IDMwKVxyXG4gICAgICAgICAgICAgICAgICAgIGVuZEJhc2UgKz0gZ2VuZXNbZ11bMV0gLSBnZW5lc1tnXVswXTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGcgPCA0MClcclxuICAgICAgICAgICAgICAgICAgICBjaHJCYXNlICs9IGdlbmVzW2ddWzFdIC0gZ2VuZXNbZ11bMF07XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgbGNrQmFzZSArPSBnZW5lc1tnXVsxXSAtIGdlbmVzW2ddWzBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldC5TVFIgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoc3RyQmFzZSkgKyAyMCkgLyAyNSkpICogKHN0ckJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LklOVCA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhpbnRCYXNlKSArIDIwKSAvIDI1KSkgKiAoaW50QmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgICAgICByZXQuRU5EID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoKE1hdGguYWJzKGVuZEJhc2UpICsgMjApIC8gMjUpKSAqIChlbmRCYXNlIDwgMCA/IC0xIDogMSk7XHJcbiAgICAgICAgICAgIHJldC5DSFIgPSBNYXRoLmZsb29yKE1hdGguc3FydCgoTWF0aC5hYnMoY2hyQmFzZSkgKyAyMCkgLyAyNSkpICogKGNockJhc2UgPCAwID8gLTEgOiAxKTtcclxuICAgICAgICAgICAgcmV0LkxDSyA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KChNYXRoLmFicyhsY2tCYXNlKSArIDIwKSAvIDI1KSkgKiAobGNrQmFzZSA8IDAgPyAtMSA6IDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBtZW1iZXJzICovXHJcblxyXG4gICAgcmV0dXJuIFRyYWl0SW5zcGVjdG9yO1xyXG59XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMuaG9tZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9ob21lLmh0bWwnLFxyXG4gICAgY29udHJvbGxlcjogJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnXHJcbn0pO1xyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLmhvbWUnLCBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIH07XHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy5tYWluR2FtZScsIHtcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy9tYWluR2FtZS9tYWluR2FtZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5tYWluR2FtZSdcclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuY29udHJvbGxlcignYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnLCBbXHJcbiAgICAnJHNjb3BlJywgJ3BvcHVsYXRpb25TZXJ2aWNlJywgJ2FjaGlldmVtZW50U2VydmljZScsXHJcbiAgICBmdW5jdGlvbigkc2NvcGUsIHBvcHVsYXRpb25TZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRlcnMgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gW107XHJcbiAgICAgICAgICAgIHNlbGYubWF4UG9wdWxhdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZVBvcHVsYXRpb25VcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlUG9wdWxhdGlvbik7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLlN1YnNjcmliZUJyZWVkZXJVcGRhdGVFdmVudCgkc2NvcGUsIHNlbGYudXBkYXRlQnJlZWRlcnMpO1xyXG5cclxuICAgICAgICAgICAgYWNoaWV2ZW1lbnRTZXJ2aWNlLlN1YnNjcmliZU5ld1Jld2FyZEV2ZW50KCRzY29wZSwgc2VsZi5yZXdhcmRFYXJuZWQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYucmV3YXJkRWFybmVkID0gZnVuY3Rpb24oZXZlbnQsIHJld2FyZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXdhcmQpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgcG9wdWxhdGlvblNlcnZpY2UudXBkYXRlTWVtYmVyKGlkLCBnZW5lSW5kZXgsIGdlbmVWYWx1ZXMpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuYWRkQnJlZWRlciA9IGZ1bmN0aW9uKHVuaXRpZCkge1xyXG4gICAgICAgICAgICBwb3B1bGF0aW9uU2VydmljZS5hZGRCcmVlZGVyKHVuaXRpZCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5yZW1vdmVCcmVlZGVyID0gZnVuY3Rpb24odW5pdGlkKSB7XHJcbiAgICAgICAgICAgIHBvcHVsYXRpb25TZXJ2aWNlLnJlbW92ZUJyZWVkZXIodW5pdGlkKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLnVwZGF0ZUJyZWVkZXJzID0gZnVuY3Rpb24oZXZlbnQsIGJyZWVkZXJzKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRlcnMgPSBicmVlZGVycztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudXBkYXRlUG9wdWxhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbiA9IGRhdGEucG9wdWxhdGlvbjtcclxuICAgICAgICAgICAgc2VsZi5tYXhQb3B1bGF0aW9uID0gZGF0YS5tYXhTaXplO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbl0pO1xyXG5cclxuXHJcbmdhbWUuY29tcG9uZW50KFwiYmxvcWhlYWRCcmVlZGVyXCIsIHtcclxuICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudHMvbWFpbkdhbWUvYnJlZWRlci5odG1sXCIsXHJcbiAgICBjb250cm9sbGVyOiBcImJsb3FoZWFkZXIuY29udHJvbGxlcnMuYnJlZWRlclwiLFxyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPCcsXHJcbiAgICAgICAgYXNzaWduOiAnJidcclxuICAgIH1cclxufSk7XHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoXCJibG9xaGVhZGVyLmNvbnRyb2xsZXJzLmJyZWVkZXJcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICB9O1xyXG4gICAgc2VsZi5hc3NpZ25NZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuYXNzaWduKHsgJGlkOiBzZWxmLnVuaXQuaWQgfSk7XHJcbiAgICB9O1xyXG59KTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5nYW1lLmNvbXBvbmVudCgnYmxvcWhlYWRMb2cnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbG9nL2xvZy5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnXHJcbn0pO1xyXG5cclxuZ2FtZS5jb25zdGFudCgnbG9nVHlwZXMnLCB7XHJcbiAgICBHRU5FUkFMOiAxLFxyXG4gICAgQlJFRUQ6IDIsXHJcbiAgICBBQ0hJRVZFTUVOVDogM1xyXG59KTtcclxuXHJcblxyXG5cclxuZ2FtZS5jb250cm9sbGVyKCdibG9xaGVhZC5jb250cm9sbGVycy5sb2cnLCBbJyRzY29wZScsICdsb2dTZXJ2aWNlJywgJ2xvZ1R5cGVzJywgZnVuY3Rpb24oJHNjb3BlLCBsb2dTZXJ2aWNlLCBsb2dUeXBlcykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIGxvZ1NlcnZpY2UuU3Vic2NyaWJlTmV3TWVzc2FnZUV2ZW50KCRzY29wZSwgc2VsZi5yZWNlaXZlTWVzc2FnZXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmdldExvZ0NsYXNzID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgIHZhciBwcmVmaXggPSAnbGlzdC1ncm91cC1pdGVtLSc7XHJcbiAgICAgICAgdmFyIGEgPSAnJztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5HRU5FUkFMOlxyXG4gICAgICAgICAgICAgICAgYSA9ICdjb2xvci1nZW5lcmFsJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGxvZ1R5cGVzLkFDSElFVkVNRU5UOlxyXG4gICAgICAgICAgICAgICAgYSA9ICdjb2xvci1hY2hpZXZlbWVudCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBsb2dUeXBlcy5CUkVFRDpcclxuICAgICAgICAgICAgICAgIGEgPSAnY29sb3ItYnJlZWQnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBhID0gcHJlZml4ICsgJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnJlY2VpdmVNZXNzYWdlcyA9IGZ1bmN0aW9uKGV2ZW50LCBtZXNzYWdlcykge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMgPSBtZXNzYWdlcztcclxuICAgICAgICAkKCcubG9nLWNvbXBvbmVudCcpWzBdLnNjcm9sbFRvcCA9ICQoJy5sb2ctY29tcG9uZW50JylbMF0uc2Nyb2xsSGVpZ2h0O1xyXG4gICAgfTtcclxufV0pO1xyXG5cclxuZ2FtZS5zZXJ2aWNlKCdsb2dTZXJ2aWNlJywgWyckcm9vdFNjb3BlJywgJ2xvZ1R5cGVzJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgbG9nVHlwZXMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGNsZWFyTG9nKSB7XHJcbiAgICAgICAgaWYgKGNsZWFyTG9nKSB7XHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMgPSBbXTtcclxuICAgICAgICAgICAgc2VsZi5sb2dHZW5lcmFsTWVzc2FnZShcIldlbGNvbWUgdG8gR2VuZXRpeCFcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHNlbGYubG9nR2VuZXJhbE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHsgdHlwZTogbG9nVHlwZXMuR0VORVJBTCwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCBtZXNzYWdlOiBtZXNzYWdlIH0pO1xyXG4gICAgICAgIGlmIChzZWxmLm1lc3NhZ2VzLmxlbmd0aCA+IDEwMClcclxuICAgICAgICAgICAgc2VsZi5tZXNzYWdlcy5zcGxpY2UoMCwgMSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5sb2dCcmVlZE1lc3NhZ2UgPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgICAgICAgc2VsZi5tZXNzYWdlcy5wdXNoKHsgdHlwZTogbG9nVHlwZXMuQlJFRUQsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICBpZiAoc2VsZi5tZXNzYWdlcy5sZW5ndGggPiAxMDApXHJcbiAgICAgICAgICAgIHNlbGYubWVzc2FnZXMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJ25ld01lc3NhZ2VFdmVudCcsIHNlbGYubWVzc2FnZXMpO1xyXG4gICAgfTtcclxuICAgIHNlbGYubG9nQWNoaWV2ZW1lbnRNZXNzYWdlID0gZnVuY3Rpb24obWVzc2FnZSkge1xyXG4gICAgICAgIHNlbGYubWVzc2FnZXMucHVzaCh7IHR5cGU6IGxvZ1R5cGVzLkFDSElFVkVNRU5ULCB0aW1lc3RhbXA6IERhdGUubm93KCksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgaWYgKHNlbGYubWVzc2FnZXMubGVuZ3RoID4gMTAwKVxyXG4gICAgICAgICAgICBzZWxmLm1lc3NhZ2VzLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdNZXNzYWdlRXZlbnQnLCBzZWxmLm1lc3NhZ2VzKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5TdWJzY3JpYmVOZXdNZXNzYWdlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdNZXNzYWdlRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3TWVzc2FnZUV2ZW50Jywgc2VsZi5tZXNzYWdlcyk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBnYW1lID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmdhbWUuY29tcG9uZW50KCdibG9xaGVhZFBsYXllckJveCcsIHtcclxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICByZXF1aXJlOiB7XHJcbiAgICAgICAgbWFpbkN0cmw6IFwiXmJsb3FoZWFkLmNvbXBvbmVudHMuaG9tZVwiXHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMucGxheWVyQm94JyxcclxuICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgdGl0bGU6ICdAJyxcclxuICAgICAgICBmb290ZXI6ICdAJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnBsYXllckJveCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi51bml0ID0gc2VsZi5tYWluQ3RybC51bml0O1xyXG4gICAgfTtcclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnN0YW50KCdhY2hpZXZlbWVudFNldHVwJywge1xyXG4gICAgYWNoaWV2ZW1lbnRzOiB7XHJcbiAgICAgICAgQV9CSVJUSFM6IHtcclxuICAgICAgICAgICAgYWlkOiAnQV9CSVJUSFMnLFxyXG4gICAgICAgICAgICBuYW1lOiAnVGhlIENob3NlbiBPbmUnLFxyXG4gICAgICAgICAgICBkZXNjOiAnQ3JlYXRlIGEgbmV3IHVuaXQnLFxyXG4gICAgICAgICAgICByYW5rczogW1xyXG4gICAgICAgICAgICAgICAgWzUsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9HT0xEJywgMTAwXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfUl9XT09EJywgMTAwXVxyXG4gICAgICAgICAgICAgICAgXV0sXHJcbiAgICAgICAgICAgICAgICBbMjAsIFtcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfTV9IQVBQSU5FU1MnXSxcclxuICAgICAgICAgICAgICAgICAgICBbJ1BfR19FTkhBTkNFRCcsIDE0LCAxMF1cclxuICAgICAgICAgICAgICAgIF1dXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcGVya3M6IHtcclxuICAgICAgICBQX01fSEFQUElORVNTOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfTV9IQVBQSU5FU1MnLFxyXG4gICAgICAgICAgICBuYW1lOiAnTmV3IE1lY2hhbmljOiBIYXBwaW5lc3MnLFxyXG4gICAgICAgICAgICBkZXNjOiAnSGFwcGluZXNzIGlzIGEgcmVwcmVzZW50YXRpb24gb2YgaG93IGNvbnRlbnQgeW91ciBwb3B1bGF0aW9uIGlzLicsXHJcbiAgICAgICAgICAgIG9uY2U6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIFBfUl9HT0xEOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfUl9HT0xEJyxcclxuICAgICAgICAgICAgbmFtZTogJ0Vhcm5lZCBCb251cyBSZXNvdXJjZXM6IEdvbGQnLFxyXG4gICAgICAgICAgICBkZXNjOiAnWyUxXSBnb2xkIGhhcyBiZWVuIGFkZGVkIHRvIHlvdXIgY29mZmVycy4nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQX1JfV09PRDoge1xyXG4gICAgICAgICAgICBwaWQ6ICdQX1JfV09PRCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdFYXJuZWQgQm9udXMgUmVzb3VyY2VzOiBXb29kJyxcclxuICAgICAgICAgICAgZGVzYzogJ1slMV0gd29vZCBoYXMgYmVlbiBhZGRlZCB0byB5b3VyIGNvZmZlcnMuJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUF9HX0VOSEFOQ0VEOiB7XHJcbiAgICAgICAgICAgIHBpZDogJ1BfR19FTkhBTkNFRCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdHZW5lIEVuaGFuY2VtZW50JyxcclxuICAgICAgICAgICAgZGVzYzogJ1RoZSBib3VuZGFyeSBoYXMgYmVlbiBpbmNyZWFzZWQgYnkgWyVhbXRdIGZvciBvbmUgb2YgeW91ciBbJWF0dHJdIGdlbmVzLiAoWyVkb21dL1slcmVjXSknXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSk7XHJcblxyXG5cclxuXHJcbmdhbWUuc2VydmljZSgnYWNoaWV2ZW1lbnRTZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnJGZpbHRlcicsICdsb2dTZXJ2aWNlJywgJ2FjaGlldmVtZW50U2V0dXAnLCAnZ2VuZURlZmluaXRpb25zJyxcclxuICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICRmaWx0ZXIsIGxvZ1NlcnZpY2UsIGFjaGlldmVtZW50U2V0dXAsIGdlbmVEZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgc2VsZi5pbml0ID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGF0ZSlcclxuICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MgPSB7IGFjaGlldmVtZW50czogc3RhdGUuYWNoaWV2ZW1lbnRzLCBwZXJrczogc3RhdGUucGVya3MgfTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2VsZi5wcm9ncmVzcyA9IHsgYWNoaWV2ZW1lbnRzOiBbXSwgcGVya3M6IFtdIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudHM6IHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgcGVya3M6IHNlbGYucHJvZ3Jlc3MucGVya3NcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgc2VsZi51cGRhdGVQcm9ncmVzcyA9IGZ1bmN0aW9uKGFpZCwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgIHZhciBhY2hQcm9ncmVzcyA9IHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzW2FpZF07XHJcbiAgICAgICAgICAgIGlmICghYWNoUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgICAgIGFjaFByb2dyZXNzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFpZDogYWlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudDogMFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHNlbGYucHJvZ3Jlc3MuYWNoaWV2ZW1lbnRzW2FpZF0gPSBhY2hQcm9ncmVzcztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG9sZHZhbCA9IGFjaFByb2dyZXNzLmFtb3VudDtcclxuICAgICAgICAgICAgdmFyIG5ld3ZhbCA9IGFjaFByb2dyZXNzLmFtb3VudCArIGFtb3VudDtcclxuXHJcbiAgICAgICAgICAgIGFjaFByb2dyZXNzLmFtb3VudCA9IG5ld3ZhbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBhY2hTZXR1cCA9IGFjaGlldmVtZW50U2V0dXAuYWNoaWV2ZW1lbnRzW2FpZF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHJjID0gMDsgcmMgPCBhY2hTZXR1cC5yYW5rcy5sZW5ndGg7IHJjKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbW91bnRSZXF1aXJlZCA9IGFjaFNldHVwLnJhbmtzW3JjXVswXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbW91bnRSZXF1aXJlZCA+IG9sZHZhbCAmJiBhbW91bnRSZXF1aXJlZCA8PSBuZXd2YWwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJld2FyZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNoaWV2ZW1lbnQ6IGFjaFNldHVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnRSZXF1aXJlZDogYW1vdW50UmVxdWlyZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmtzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZyB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQWNoaWV2ZW1lbnRNZXNzYWdlKCdBY2hpZXZlbWVudCBFYXJuZWQgLSAnICsgYWNoU2V0dXAubmFtZSArICcgKCcgKyBhbW91bnRSZXF1aXJlZCArICcpJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIHBlcmtzXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcGMgPSAwOyBwYyA8IGFjaFNldHVwLnJhbmtzW3JjXVsxXS5sZW5ndGg7IHBjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBzZWxmLmFwcGx5UGVyayhhY2hTZXR1cC5yYW5rc1tyY11bMV1bcGNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2FyZC5wZXJrcy5wdXNoKHApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCduZXdSZXdhcmRFdmVudCcsIHJld2FyZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hcHBseVBlcmsgPSBmdW5jdGlvbihhcnIpIHtcclxuICAgICAgICAgICAgdmFyIHBpZCA9IGFyclswXTtcclxuICAgICAgICAgICAgdmFyIHBlcmtTZXR1cCA9IGFjaGlldmVtZW50U2V0dXAucGVya3NbcGlkXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgcGVyayBjYW4gb25seSBiZSBlYXJuZWQgb25jZSBhbmQgdGhlIHBsYXllciBoYXMgZWFybmVkIGl0IGFscmVhZHksXHJcbiAgICAgICAgICAgIC8vIHdlIGRvIG5vdCBoYXZlIHRvIGRvIGFueXRoaW5nXHJcbiAgICAgICAgICAgIGlmIChwZXJrU2V0dXAub25jZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmtTZWFyY2ggPSAkZmlsdGVyKCdmaWx0ZXInKShzZWxmLnByb2dyZXNzLnBlcmtzLCB7IHBpZDogcGlkIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBlcmtTZWFyY2gubGVuZ3RoICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBsb2cgdGhlIG1lc3NhZ2VcclxuICAgICAgICAgICAgdmFyIG1zZyA9IHBlcmtTZXR1cC5uYW1lICsgJyAtICcgKyBwZXJrU2V0dXAuZGVzYztcclxuICAgICAgICAgICAgc3dpdGNoIChwZXJrU2V0dXAucGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdQX0dfRU5IQU5DRUQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lID0gZ2VuZURlZmluaXRpb25zW2FyclsxXV07XHJcbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnJlcGxhY2UoJ1slZG9tXScsIGdlbmUuZG9tKTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVyZWNdJywgZ2VuZS5yZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJWF0dHJdJywgZ2VuZS5hdHRyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBtc2cgPSBtc2cucmVwbGFjZSgnWyVhbXRdJywgYXJyWzJdKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IG1zZy5yZXBsYWNlKCdbJScgKyBpICsgJ10nLCBhcnJbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsb2dTZXJ2aWNlLmxvZ0FjaGlldmVtZW50TWVzc2FnZShtc2cpO1xyXG5cclxuICAgICAgICAgICAgLy8gZG8gdGhlIHdvcmtcclxuICAgICAgICAgICAgc3dpdGNoIChwaWQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1BfR19FTkhBTkNFRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5oYW5jZSB0aGUgZ2VuZVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnUl9HT0xEJzpcclxuICAgICAgICAgICAgICAgICAgICAvLyBpbmNyZWFzZSBwbGF5ZXIgZ29sZCBieSBhcnJbMV1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1JfV09PRCc6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5jcmVhc2UgcGxheWVyIHdvb2QgYnkgYXJyWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByZXQgPSB7XHJcbiAgICAgICAgICAgICAgICBwaWQ6IHBpZCxcclxuICAgICAgICAgICAgICAgIG1zZzogbXNnLFxyXG4gICAgICAgICAgICAgICAgYXJyOiBhcnIsXHJcbiAgICAgICAgICAgICAgICBkdDogKG5ldyBEYXRlKCkpLnRvVVRDU3RyaW5nKClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc2VsZi5wcm9ncmVzcy5wZXJrcy5wdXNoKHJldCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxmLlN1YnNjcmliZU5ld1Jld2FyZEV2ZW50ID0gZnVuY3Rpb24oc2NvcGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ25ld1Jld2FyZEV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1cclxuXSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5nYW1lLnNlcnZpY2UoJ3BvcHVsYXRpb25TZXJ2aWNlJywgW1xyXG4gICAgJyRyb290U2NvcGUnLCAnZ2FtZUxvb3BTZXJ2aWNlJywgJ1BvcHVsYXRpb24nLCAnbG9nU2VydmljZScsICdhY2hpZXZlbWVudFNlcnZpY2UnLFxyXG4gICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgZ2FtZUxvb3BTZXJ2aWNlLCBQb3B1bGF0aW9uLCBsb2dTZXJ2aWNlLCBhY2hpZXZlbWVudFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gc3RhdGUgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuYnJlZWRTdGVwcyA9IHN0YXRlLmJyZWVkU3RlcHMgfHwgc3RhdGUuYnJlZWRTdGVwcyB8fCA2O1xyXG4gICAgICAgICAgICBzZWxmLnN0ZXBzU2luY2VCcmVlZCA9IHN0YXRlLnN0ZXBzU2luY2VCcmVlZCB8fCBzZWxmLnN0ZXBzU2luY2VCcmVlZCB8fCAwO1xyXG4gICAgICAgICAgICBzZWxmLnBvcHVsYXRpb25TdGF0ZSA9IHN0YXRlLnBvcHVsYXRpb25TdGF0ZSB8fCBzZWxmLnBvcHVsYXRpb25TdGF0ZTtcclxuICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uID0gKHNlbGYucG9wdWxhdGlvblN0YXRlKSA/IG5ldyBQb3B1bGF0aW9uKHNlbGYucG9wdWxhdGlvblN0YXRlKSA6IHNlbGYucG9wdWxhdGlvbiB8fCBuZXcgUG9wdWxhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgc2VsZi5sb2dTZXJ2aWNlID0gbG9nU2VydmljZTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnYnJlZWRlclVwZGF0ZUV2ZW50Jywgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBicmVlZFN0ZXBzOiBzZWxmLmJyZWVkU3RlcHMsXHJcbiAgICAgICAgICAgICAgICBzdGVwc1NpbmNlQnJlZWQ6IHNlbGYuc3RlcHNTaW5jZUJyZWVkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHN0YXRlLnBvcHVsYXRpb25TdGF0ZSA9IHNlbGYucG9wdWxhdGlvbi5nZXRTdGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5oYW5kbGVHYW1lTG9vcCA9IGZ1bmN0aW9uKGV2ZW50LCBzdGVwcykge1xyXG4gICAgICAgICAgICB2YXIgcG9wVXBkYXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQubmFtZSAhPT0gJ2dhbWVMb29wRXZlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9wdWxhdGVTZXJ2aWNlLmhhbmRsZUdhbWVMb29wIC0gSW52YWxpZCBldmVudDogJyArIGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2VsZi5wb3B1bGF0aW9uLmlzQnJlZWRpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgKz0gc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoc2VsZi5zdGVwc1NpbmNlQnJlZWQgPj0gc2VsZi5icmVlZFN0ZXBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGVwc1NpbmNlQnJlZWQgLT0gc2VsZi5icmVlZFN0ZXBzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzcHJpbmcgPSBzZWxmLnBvcHVsYXRpb24uYnJlZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc3ByaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiTmV3IG9mZnNwcmluZyEgXCIgKyBvZmZzcHJpbmcubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjaGlldmVtZW50U2VydmljZS51cGRhdGVQcm9ncmVzcygnQV9CSVJUSFMnLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wVXBkYXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHBvcFVwZGF0ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5hZGRCcmVlZGVyID0gZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5wdXNoKGlkKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciBhZGRlZDogXCIgKyBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCkubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmVtb3ZlQnJlZWRlciA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHNlbGYucG9wdWxhdGlvbi5icmVlZGVycy5pbmRleE9mKGlkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5wb3B1bGF0aW9uLmJyZWVkZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYucG9wdWxhdGlvbi5pc0JyZWVkaW5nKCkpIHNlbGYuc3RlcHNTaW5jZUJyZWVkID0gMDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmxvZ1NlcnZpY2UubG9nQnJlZWRNZXNzYWdlKFwiQnJlZWRlciByZW1vdmVkOiBcIiArIHNlbGYucG9wdWxhdGlvbi5nZXRCeUlkKGlkKS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi51cGRhdGVNZW1iZXIgPSBmdW5jdGlvbihpZCwgZ2VuZUluZGV4LCBnZW5lVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBzZWxmLnBvcHVsYXRpb24uZ2V0QnlJZChpZCk7XHJcbiAgICAgICAgICAgIG1lbWJlci5nZW5lc1tnZW5lSW5kZXhdID0gZ2VuZVZhbHVlcztcclxuICAgICAgICAgICAgbWVtYmVyLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdwb3B1bGF0aW9uVXBkYXRlRXZlbnQnLCBzZWxmLnBvcHVsYXRpb24ubWVtYmVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVCcmVlZGVyVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbignYnJlZWRlclVwZGF0ZUV2ZW50JywgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2JyZWVkZXJVcGRhdGVFdmVudCcsIHNlbGYucG9wdWxhdGlvbi5icmVlZGVycyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5TdWJzY3JpYmVQb3B1bGF0aW9uVXBkYXRlRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSAkcm9vdFNjb3BlLiRvbigncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgY2FsbGJhY2suYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgncG9wdWxhdGlvblVwZGF0ZUV2ZW50JywgeyBwb3B1bGF0aW9uOiBzZWxmLnBvcHVsYXRpb24ubWVtYmVycywgbWF4U2l6ZTogc2VsZi5wb3B1bGF0aW9uLm1heFNpemUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZ2FtZUxvb3BTZXJ2aWNlLlN1YnNjcmliZUdhbWVMb29wRXZlbnQoJHJvb3RTY29wZSwgc2VsZi5oYW5kbGVHYW1lTG9vcCk7XHJcbiAgICB9XHJcbl0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbi8vIHRhYiBjb21wb25lbnRzXHJcbmFwcC5jb21wb25lbnQoJ2JyZWVkZXJUYWInLCB7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXRzOiAnPScsXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oQnJlZWRlciwgZ2VuZURlZmluaXRpb25zLCB0cmFpdERlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmxhc3RCcmVlZGVySUQgPSAwO1xyXG4gICAgICAgIHNlbGYubmV3QnJlZWRlckdlbmRlciA9ICdNYWxlJztcclxuICAgICAgICBcclxuICAgICAgICBzZWxmLmtpbGxCcmVlZGVyID0gZnVuY3Rpb24odW5pdCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXRzLnNwbGljZShzZWxmLnVuaXRzLmluZGV4T2YodW5pdCksIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxmLmFkZE5ld0JyZWVkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgZ2VuZURlZmluaXRpb25zLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcy5wdXNoKFswLDAsMF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuXHJcbiAgICAgICAgICAgIHZhciB1bml0ID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHNlbGYubGFzdEJyZWVkZXJJRCsrLFxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbjogMCxcclxuICAgICAgICAgICAgICAgIHNjYWxlOiA2LFxyXG4gICAgICAgICAgICAgICAgZ2VuZXM6IGdlbmVzXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdW5pdC51cGRhdGUoKTtcclxuICAgICAgICAgICAgc2VsZi51bml0cy51bnNoaWZ0KHVuaXQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG5cclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvYnJlZWRlclRhYi5odG1sJ1xyXG59KTtcclxuYXBwLmNvbXBvbmVudCgnbWF0aW5nVGFiJywge1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0czogJz0nLFxyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnQnJlZWRlcicsICdnZW5lRGVmaW5pdGlvbnMnLCAndHJhaXREZWZpbml0aW9ucycsIGZ1bmN0aW9uKEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL21hdGluZ1RhYi5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbXBvbmVudCgnZ2Vub21lRWRpdG9yJyx7XHJcbiAgICBiaW5kaW5nczoge1xyXG4gICAgICAgIHVuaXQ6ICc9J1xyXG4gICAgfSxcclxuICAgIGNvbnRyb2xsZXI6IFsnZ2VuZURlZmluaXRpb25zJywgZnVuY3Rpb24oZ2VuZURlZmluaXRpb25zKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmdlbmVEZWZpbml0aW9ucyA9IGdlbmVEZWZpbml0aW9ucztcclxuICAgICAgICAgICAgc2VsZi5leHBhbmRvID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZWxmLnJhbmRvbWl6ZU5hbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi51bml0Lm5hbWUgPSBzZWxmLnVuaXQuZ2V0UmFuZG9tTmFtZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbaW5kZXhdID0gW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkscmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSxyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYucmFuZG9taXplQWxsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi51bml0LmdlbmVzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICAgICAgc2VsZi5yYW5kb21pemUoaSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZ2VuZGVyID0gcmFuZG9tSW50RnJvbUludGVydmFsKDAsMSkgPT09IDAgPyAyNTUgOiAwO1xyXG4gICAgICAgICAgICBzZWxmLnVuaXQuZ2VuZXNbNDJdID0gW2dlbmRlciwgMjU1IC0gZ2VuZGVyLCAwXTtcclxuICAgICAgICAgICAgc2VsZi51bml0LnVwZGF0ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICB9XSxcclxuICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL2dlbm9tZUVkaXRvci5odG1sJ1xyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHJcblxyXG5cclxuICAgIHNlbGYuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIHNlbGYudHJhaXREZWZpbml0aW9ucyA9IHRyYWl0RGVmaW5pdGlvbnM7XHJcbiAgICAgICAgLy9zZWxmLmRpZ2dlcnMgPSBnYW1lU2VydmljZS5kaWdnZXJzO1xyXG4gICAgICAgIHNlbGYudW5pdHMgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZUJyZWVkRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgb2Zmc3ByaW5nKSB7XHJcbiAgICAgICAgLy8gICAgLy8kc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgeyBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IG9mZnNwcmluZzsgfSk7XHJcbiAgICAgICAgLy99KTtcclxuICAgICAgICAvL2dhbWVTZXJ2aWNlLlN1YnNjcmliZU5ld0dlbmVyYXRpb25FdmVudCgkc2NvcGUsIGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XHJcbiAgICAgICAgLy8gICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgICAgc2VsZi5kaWdnZXJzID0gZGF0YS5EaWdnZXJzO1xyXG4gICAgICAgIC8vICAgICAgICAvL3NlbGYuZGlnZ2VyQW5jZXN0b3JzID0gZGF0YS5BbmNlc3RvcnM7XHJcbiAgICAgICAgLy8gICAgfSk7XHJcbiAgICAgICAgLy99KTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICBzZWxmLnVwZGF0ZUdlbmUgPSBmdW5jdGlvbihkaWdnZXJJbmRleCwgZ2VuZUluZGV4LCB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgdmFyIHVuaXQgPSBzZWxmLnVuaXRzW2RpZ2dlckluZGV4XTtcclxuICAgICAgICAgICAgZGlnZ2VyLmdlbmVzW2dlbmVJbmRleF0gPSB2YWx1ZXM7XHJcbiAgICAgICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICovXHJcblxyXG4gICAgfTtcclxuXHJcbn1dKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9ob21lLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy02IGNvbC1sZy00XCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIkxvZ1wiPjxibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1sb2c+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJHb2Fsc1wiPjxibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1nb2FsLWxpc3Q+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGJsb3FoZWFkLXBsYXllci1ib3ggdGl0bGU9XCJSZXNvdXJjZXNcIj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy02IGNvbC1sZy04XCI+PGRpdiB1aS12aWV3PVwiXCI+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvYWNoaWV2ZW1lbnRzL2FjaGlldmVtZW50cy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxkaXYgY2xhc3M9XCJyb3dcIj5JIGNvdWxkIGRpc3BsYXkgYWNoaWV2ZW1lbnRzLi4uaWYgc29tZW9uZSBjb2RlZCBtZS48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29tcG9uZW50cy9tYWluR2FtZS9icmVlZGVyLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiYmxvcWhlYWQtY29tcG9uZW50XCI+PGg0Pnt7JGN0cmwudW5pdC5uYW1lfX0gPGkgY2xhc3M9XCJmYSBmYS1zdGFyXCIgbmctcmVwZWF0PVwidHJhaXQgaW4gJGN0cmwudW5pdC50cmFpdHNcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiByZWw9XCJ0b29sdGlwXCIgdGl0bGU9XCJ7e3RyYWl0Lm5hbWV9fVwiPjwvaT48L2g0PjxpbWcgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZVwiIG5nLXNyYz1cInt7JGN0cmwudW5pdC5yZWRHcmVlbkltYWdlfX1cIj48dGFibGUgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgZ2Vub21lRWRpdG9yXCI+PHRoZWFkPjx0cj48dGggc3R5bGU9XCJ3aWR0aDogMjAlXCI+U1RSPC90aD48dGggc3R5bGU9XCJ3aWR0aDogMjAlXCI+SU5UPC90aD48dGggc3R5bGU9XCJ3aWR0aDogMjAlXCI+RU5EPC90aD48dGggc3R5bGU9XCJ3aWR0aDogMjAlXCI+Q0hSPC90aD48dGggc3R5bGU9XCJ3aWR0aDogMjAlXCI+TENLPC90aD48L3RyPjwvdGhlYWQ+PHRib2R5Pjx0cj48dGQ+PHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5TVFJcIj48L3NwYW4+PC90ZD48dGQ+PHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5JTlRcIj48L3NwYW4+PC90ZD48dGQ+PHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5FTkRcIj48L3NwYW4+PC90ZD48dGQ+PHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5DSFJcIj48L3NwYW4+PC90ZD48dGQ+PHNwYW4gbmctYmluZD1cIiRjdHJsLnVuaXQuYXR0cmlidXRlcy5MQ0tcIj48L3NwYW4+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiJGN0cmwuYXNzaWduTWUoKSBcIj5CcmVlZCBNZTwvYnV0dG9uPjxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zbSBidG4tcHJpbWFyeSBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj5Xb3JrIDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9idXR0b24+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YT5NaW5lPC9hPjwvbGk+PGxpPjxhPkZhcm08L2E+PC9saT48L3VsPjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48YmxvcWhlYWQtcGxheWVyLWJveCB0aXRsZT1cIlBvcHVsYXRpb24gW3t7JGN0cmwucG9wdWxhdGlvbi5sZW5ndGh9fSAvIHt7JGN0cmwubWF4UG9wdWxhdGlvbn19XSAtLS1GSUxURVJTIEhFUkU/Pz8tLS0tXCI+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgbmctcmVwZWF0PVwiY2hpbGQgaW4gJGN0cmwucG9wdWxhdGlvblwiIGNsYXNzPVwiY29sLXhzLTEyIGNvbC1zbS04IGNvbC1tZC02IGNvbC1sZy00XCI+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cImNoaWxkXCIgYXNzaWduPVwiJGN0cmwuYWRkQnJlZWRlcigkaWQpXCI+PC9ibG9xaGVhZC1icmVlZGVyPjwvZGl2PjwvZGl2PjwvYmxvcWhlYWQtcGxheWVyLWJveD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiQnJlZWRlcnMgWyMgLyAjXVwiPjxkaXYgY2xhc3M9XCJyb3dcIiBuZy1yZXBlYXQ9XCJicmVlZGVyaWQgaW4gJGN0cmwuYnJlZWRlcnNcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyIGNvbC1sZy0xMlwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBuZy1jbGljaz1cIiRjdHJsLnJlbW92ZUJyZWVkZXIoYnJlZWRlcmlkKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGJsb3FoZWFkLWJyZWVkZXIgdW5pdD1cIiRjdHJsLnBvcHVsYXRpb25bYnJlZWRlcmlkXVwiPjwvYmxvcWhlYWQtYnJlZWRlcj48L2Rpdj48L2Rpdj48L2Jsb3FoZWFkLXBsYXllci1ib3g+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tOCBjb2wtbWQtNiBjb2wtbGctNFwiPjxibG9xaGVhZC1wbGF5ZXItYm94IHRpdGxlPVwiVGFza3NcIj48dWwgY2xhc3M9XCJsaXN0LWdyb3VwXCI+PGxpPk1pbmVyczogMDwvbGk+PGxpPkZhcm1lcnM6IDA8L2xpPjwvdWw+PC9ibG9xaGVhZC1wbGF5ZXItYm94PjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2xvZy9sb2cuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJsb2ctY29tcG9uZW50XCI+PHVsIGNsYXNzPVwibGlzdC1ncm91cFwiPjxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluICRjdHJsLm1lc3NhZ2VzIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwiJGN0cmwuZ2V0TG9nQ2xhc3MoaXRlbS50eXBlKVwiPls8c3BhbiBuZy1iaW5kPVwiaXRlbS50aW1lc3RhbXB8ZGF0ZTpcXCdNTS9kZCBISDptbTpzc1xcJ1wiPjwvc3Bhbj5dJm5ic3A7IDxzcGFuIG5nLWJpbmQ9XCJpdGVtLm1lc3NhZ2VcIj48L3NwYW4+PC9saT48L3VsPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3BsYXllckJveC9wbGF5ZXJCb3guaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0XCI+PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj48aDMgY2xhc3M9XCJwYW5lbC10aXRsZVwiIG5nLWJpbmQ9XCIkY3RybC50aXRsZVwiPjwvaDM+PC9kaXY+PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj48bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+PC9kaXY+PGRpdiBjbGFzcz1cInBhbmVsLWZvb3RlclwiPjxzcGFuIG5nLWJpbmQ9XCIkY3RybC5mb290ZXJcIj48L3NwYW4+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9icmVlZGVyVGFiLmh0bWwnLFxuICAgICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGJ0bi1ncm91cFwiIG5nLWNsaWNrPVwiJGN0cmwuYWRkTmV3QnJlZWRlcigpXCI+QWRkIG5ldyBCcmVlZGVyPC9idXR0b24+PGRpdiBjbGFzcz1cImRyb3Bkb3duIGJ0bi1ncm91cFwiPjxkaXYgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1pbmZvIGRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIj5HZW5kZXI6IHt7JGN0cmwubmV3QnJlZWRlckdlbmRlcn19IDxzcGFuIGNsYXNzPVwiY2FyZXRcIj48L3NwYW4+PC9kaXY+PHVsIGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPjxsaT48YSBkYXRhLXRhcmdldD1cIlwiIG5nLWNsaWNrPVwiJGN0cmwubmV3QnJlZWRlckdlbmRlciA9IFxcJ01hbGVcXCdcIj5NYWxlPC9hPjwvbGk+PGxpPjxhIGRhdGEtdGFyZ2V0PVwiXCIgbmctY2xpY2s9XCIkY3RybC5uZXdCcmVlZGVyR2VuZGVyID0gXFwnRmVtYWxlXFwnXCI+RmVtYWxlPC9hPjwvbGk+PC91bD48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMiBjb2wtc20tNiBjb2wtbWQtNFwiIG5nLXJlcGVhdD1cInVuaXQgaW4gJGN0cmwudW5pdHNcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgbmctY2xpY2s9XCIkY3RybC5raWxsQnJlZWRlcih1bml0KVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGdlbm9tZS1lZGl0b3IgdW5pdD1cInVuaXRcIj48L2dlbm9tZS1lZGl0b3I+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9nZW5vbWVFZGl0b3IuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJibG9xaGVhZC1jb21wb25lbnRcIj48aDQ+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIgbmctY2xpY2s9XCIkY3RybC5yYW5kb21pemVOYW1lKCk7XCI+PGkgY2xhc3M9XCJmYSBmYS1hc3Rlcmlza1wiPjwvaT48L2J1dHRvbj4ge3skY3RybC51bml0Lm5hbWV9fSA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBuZy1yZXBlYXQ9XCJ0cmFpdCBpbiAkY3RybC51bml0LnRyYWl0c1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cInt7dHJhaXQubmFtZX19XCI+PC9pPjwvaDQ+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3skY3RybC51bml0LnJlZEdyZWVuSW1hZ2V9fVwiIG5nLWNsaWNrPVwiJGN0cmwuZXhwYW5kbyA9ICEkY3RybC5leHBhbmRvXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgcmVsPVwidG9vbHRpcFwiIHRpdGxlPVwiQ2xpY2sgdG8gZXhwYW5kL2NvbGxhcHNlXCI+PGRpdiBuZy1zaG93PVwiJGN0cmwuZXhwYW5kb1wiIHN0eWxlPVwiaGVpZ2h0OiA0MDBweDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBtYXJnaW4tdG9wOjVweFwiPjx0YWJsZSBjbGFzcz1cImdlbm9tZUVkaXRvciB0YWJsZSB0YWJsZS1jb25kZW5zZWRcIj48dGhlYWQ+PHRyPjx0aD4mbmJzcDs8L3RoPjx0aD5Eb21pbmFudDwvdGg+PHRoPlJlY2Vzc2l2ZTwvdGg+PHRoPlZhbHVlcyAoRC9SL00pPC90aD48dGg+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi13YXJuaW5nXCIgbmctY2xpY2s9XCIkY3RybC5yYW5kb21pemVBbGwoKTtcIj48aSBjbGFzcz1cImZhIGZhLWFzdGVyaXNrXCI+PC9pPjwvYnV0dG9uPjwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48dHIgbmctcmVwZWF0PVwiZ2VuZSBpbiAkY3RybC5nZW5lRGVmaW5pdGlvbnNcIj48dGQgbmctYmluZD1cIiRpbmRleFwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCJnZW5lLmRvbVwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCJnZW5lLnJlY1wiPjwvdGQ+PHRkPjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjI1NVwiIG5nLW1vZGVsPVwiJGN0cmwudW5pdC5nZW5lc1skaW5kZXhdWzFdXCIgbmctY2hhbmdlPVwiJGN0cmwudW5pdC51cGRhdGUoKVwiPiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyNTVcIiBuZy1tb2RlbD1cIiRjdHJsLnVuaXQuZ2VuZXNbJGluZGV4XVswXVwiIG5nLWNoYW5nZT1cIiRjdHJsLnVuaXQudXBkYXRlKClcIj4gPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMl1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+PC90ZD48dGQ+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIgbmctY2xpY2s9XCIkY3RybC5yYW5kb21pemUoJGluZGV4KTtcIj48aSBjbGFzcz1cImZhIGZhLWFzdGVyaXNrXCI+PC9pPjwvYnV0dG9uPjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS9tYXRpbmdUYWIuaHRtbCcsXG4gICAgJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTEyXCI+PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiIHJvbGU9XCJncm91cFwiPjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+TW90aGVyOiB7eyRjdHJsLm1vdGhlci5uYW1lfX0gPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PGxpPjxhIGRhdGEtdGFyZ2V0PVwiXCIgbmctY2xpY2s9XCIkY3RybC5tb3RoZXIgPSB1bml0XCIgbmctcmVwZWF0PVwidW5pdCBpbiAkY3RybC51bml0cyB8IGhhc1RyYWl0OlxcJ0ZlbWFsZVxcJ1wiIG5nLWJpbmQ9XCJ1bml0Lm5hbWVcIj48L2E+PC9saT48L3VsPjwvZGl2PjxkaXYgY2xhc3M9XCJkcm9wZG93biBidG4tZ3JvdXBcIj48ZGl2IHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCI+RmF0aGVyOiB7eyRjdHJsLmZhdGhlci5uYW1lfX0gPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PGxpPjxhIGRhdGEtdGFyZ2V0PVwiXCIgbmctY2xpY2s9XCIkY3RybC5mYXRoZXIgPSB1bml0XCIgbmctcmVwZWF0PVwidW5pdCBpbiAkY3RybC51bml0cyB8IGhhc1RyYWl0OlxcJ01hbGVcXCdcIiBuZy1iaW5kPVwidW5pdC5uYW1lXCI+PC9hPjwvbGk+PC91bD48L2Rpdj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4taW5mbyBidG4tZ3JvdXBcIiBuZy1jbGljaz1cIiRjdHJsLm1hdGUoKVwiIG5nLWRpc2FibGVkPVwiISRjdHJsLmZhdGhlciB8fCAhJGN0cmwubW90aGVyXCI+TWF0ZTwvYnV0dG9uPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjx1bCBjbGFzcz1cIm5hdiBuYXYtdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+PGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzcz1cImFjdGl2ZVwiPjxhIGRhdGEtdGFyZ2V0PVwiI2JyZWVkZXJzXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+QnJlZWRlcnM8L2E+PC9saT48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiPjxhIGRhdGEtdGFyZ2V0PVwiI21hdGluZ1wiIHJvbGU9XCJ0YWJcIiBkYXRhLXRvZ2dsZT1cInRhYlwiPk1hdGluZzwvYT48L2xpPjwvdWw+PGRpdiBjbGFzcz1cInRhYi1jb250ZW50XCI+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lIGFjdGl2ZVwiIGlkPVwiYnJlZWRlcnNcIj48YnJlZWRlci10YWIgdW5pdHM9XCIkY3RybC51bml0c1wiPjwvYnJlZWRlci10YWI+PC9kaXY+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lXCIgaWQ9XCJtYXRpbmdcIj48bWF0aW5nLXRhYiB1bml0cz1cIiRjdHJsLnVuaXRzXCI+PC9tYXRpbmctdGFiPjwvZGl2PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiJdfQ==
