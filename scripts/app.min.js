function randomIntFromInterval(e,t){return Math.floor(Math.random()*(t-e+1)+e)}!function(){function e(e,t){for(var n=[];t>0;t--)n.push(String.fromCharCode(255&e)),e>>=8;return n.join("")}function t(e,t){for(var n,r,a,i=e.length,o=i?e[0].length:0,s="",g=[];t>0;t--)s+="\0";for(n=0;n<i;n++){for(r=0;r<o;r++)a=e[n][r],g.push(String.fromCharCode(a[2])+String.fromCharCode(a[1])+String.fromCharCode(a[0]));g.push(s)}return g.join("")}function n(e,t){var n,r,a,i=e.length,o=parseInt(i*t),s=i?e[0].length:0,g=parseInt(s*t),l=[];for(a=0;a<o;a++)for(l.push(n=[]),r=0;r<g;r++)n.push(e[parseInt(a/t)][parseInt(r/t)]);return l}window.generateBitmapDataURL=function(r,a){if(!window.btoa)return alert("Oh no, your browser does not support base64 encoding - window.btoa()!!"),!1;a=a||1,1!=a&&(r=n(r,a));var i,o=r.length,s=o?r[0].length:0,g=(4-3*s%4)%4,l=(3*s+g)*o,d=54+l;return o=e(o,4),s=e(s,4),l=e(l,4),d=e(d,4),i="BM"+d+"\0\0\0\x006\0\0\0(\0\0\0"+s+o+"\0\0\0\0\0\0"+l+"\v\0\0\v\0\0\0\0\0\0\0\0\0\0"+t(r,g),"data:image/bmp;base64,"+btoa(i)}}(),function(e,t,n){function r(e){/^rgb\(\d+, \d+, \d+\)$/.test(e)?i=function(e){e=e.split(","),e[0]=e[0].substr(4);for(var t=0;t<3;t++)e[t]=parseInt(e[t]);return e}:"#"==e.substring(0,1)?i=function(e){e=e.substring(1);var t=0,n=e.length,r=[];if(3==n)for(;t<n;t++)r.push(parseInt("0x"+e.substring(t,t+1)+e.substring(t,t+1)));else for(;t<n;t+=2)r.push(parseInt("0x"+e.substring(t,t+2)));return r}:alert("Unparseable color: "+e)}function a(e){var a=t.getElementById(e).style.backgroundColor;return""===a?[255,255,255]:(i===n&&r(a),i(a))}var i;e.generateLowResBitmap=function(n){n=n||10;for(var r,i,o,s,g,l=50,d=49,c=[];d>=0;d--)for(c.push(i=[]),r=0;r<l;r++)i.push(a(r+"_"+d));return s=t.createElement("img"),g=e.generateBitmapDataURL(c,n),s.src=g,s.alt="If you can read this, your browser probably doesn't support the data URL scheme format! Oh no!",s.title="You generated an image, great job! To save it, drag it to your Desktop or right click and select save as.",o=t.getElementById("img"),null===o&&(o=t.createElement("div"),o.id="img",t.getElementById("wrap").appendChild(o)),o.innerHTML='<div class="img-header">Generated Image &nbsp;<a title="hide image" href="#">x</a></div>',o.getElementsByTagName("a")[0].onclick=function(){var e=t.getElementById("img");return e.parentNode.removeChild(e),!1},o.appendChild(s),!1},e.generateLowResBitmap.askToScale=function(){var t=prompt("Pick a scaling factor...\n1 = actual size, .5 = half, 2 = double\n(note: large numbers might crash your browser)");if(t){try{t=parseFloat(t)}catch(e){t=NaN}isNaN(t)?alert("That is not a number!"):(t=10*t,e.generateLowResBitmap(t))}return!1}}(this,this.document),function(e){e(function(){e("body").tooltip({selector:"[rel=tooltip]"})})}(jQuery),angular.module("bloqhead.genetixApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,n){t.otherwise("/");var r=[];r.push({name:"home",url:"/",templateUrl:"components/home.html"}),r.push({name:"home.main",url:"main",component:"bloqhead.components.mainGame"}),r.push({name:"home.test",url:"test",component:"bloqhead.components.testInterface"}),r.forEach(function(t){e.state(t)}),n.html5Mode(!0)}]).run(["gameService",function(e){e.init()}]);var game=angular.module("bloqhead.genetixApp");game.factory("Breeder",["$filter","TraitInspector",function(e,t){function n(e,t){for(var n=Math.random(),r=angular.copy(n<=l.crossoverrate?e:t),a=r[2]/255,i="",o="",s=0;s<8;s++)i+=Math.random()<a?"1":"0",o+=Math.random()<a?"1":"0";r[0],r[1];return r[0]^=parseInt(i,2),r[1]^=parseInt(o,2),r}function r(e,t){return generateBitmapDataURL(s(i(e),e.length),t)}function a(e,t){return generateBitmapDataURL(s(o(e),e.length),t)}function i(e){for(var t=[],n=0;n<e.length;n++){var r=e[n][0],a=e[n][1],i=Math.abs(r-a)/255;r>a?a=0:r=0,r*=i,a*=i,t.push([r,a,0])}return t}function o(e){for(var t=[],n=0;n<e.length;n++)t.push([0,0,e[n][2]]);return t}function s(e,t){for(var n=[],r=0;r<e.length/t;r++){for(var a=[],i=0;i<t;i++)a.push(e[i+r*t]);n.push(a)}return n}var g=function(e){this.traitInspector=new t,this.update(e),this.setRandomName()};g.prototype.update=function(e){"undefined"==typeof e&&(e={}),this.id=e.id||this.id||0,this.generation=e.generation||this.generation||0,this.scale=e.scale||this.scale||6,this.genes=e.genes||this.genes||[],this.redGreenImage=r(this.genes,this.scale),this.blueImage=a(this.genes,this.scale),this.traits=this.traitInspector.getTraits(this.genes)},g.prototype.breed=function(e,t){for(var r=this,a=e,i=new g({id:t,generation:r.generation+1,genes:[]}),o=0;o<r.genes.length;o++){var s=r.genes[o],l=a.genes[o];i.genes.push(n(s,l))}return i.update({scale:6}),i},g.prototype.getTraits=function(){return this.traits},g.prototype.hasTrait=function(e){var t=this.traits.filter(function(t){return t.name===e}).length;return t>0},g.prototype.setRandomName=function(){this.name=this.getRandomName()},g.prototype.getRandomName=function(){if(!this.genes||0==this.genes.length)return"Unknown Gender";var e=this.hasTrait("Male")?d[randomIntFromInterval(0,d.length-1)]:c[randomIntFromInterval(0,c.length-1)],t=u[randomIntFromInterval(0,u.length-1)]+m[randomIntFromInterval(0,m.length-1)]+p[randomIntFromInterval(0,p.length-1)];return e+t};var l={crossoverrate:.5},d=["Diggy ","Dean ","Duke ","Doyle ","Dirk ","Dag ","Dimitri ","Dru "],c=["Daggy ","Daisy ","Dinah ","Dharma ","Dee ","Daphne ","Dixie ","Darcy "],u=["","","","","","Van ","Von ","O'","Mc","Mc"],m=["Doog","Dibb","Dabb","Dig","Dang","Dugg"],p=["","","","ler","ler","er","er","er","wuerst","erwuerst","erton","erton","ski"];return g}]);var game=angular.module("bloqhead.genetixApp");game.constant("geneDefinitions",function(){var e=[];return e[0]={dom:"Broad Shoulders",rec:"Slender Shoulders",attr:["STR"]},e[1]={dom:"Thick Skull",rec:"Soft Skull",attr:["STR"]},e[2]={dom:"Large Arms",rec:"Small Arms",attr:["STR"]},e[3]={dom:"Large Legs",rec:"Small Legs",attr:["STR"]},e[4]={dom:"Big Chest",rec:"Weak Chest",attr:["STR"]},e[5]={dom:"Tough Jaw",rec:"Weak Jaw",attr:["STR"]},e[6]={dom:"Oafish",rec:"Mousey",attr:["STR"]},e[7]={dom:"",rec:"",attr:["STR"]},e[8]={dom:"",rec:"",attr:["STR"]},e[9]={dom:"",rec:"",attr:["STR"]},e[10]={dom:"",rec:"",attr:["STR"]},e[11]={dom:"",rec:"",attr:["STR"]},e[12]={dom:"",rec:"",attr:["STR"]},e[13]={dom:"",rec:"",attr:["STR"]},e[14]={dom:"Calculated Decisions",rec:"Reckless",attr:["INT"]},e[15]={dom:"Lateral Thinker",rec:"Single Minded",attr:["INT"]},e[16]={dom:"Quick Learner",rec:"Forgetful",attr:["INT"]},e[17]={dom:"",rec:"",attr:["INT"]},e[18]={dom:"",rec:"",attr:["INT"]},e[19]={dom:"",rec:"",attr:["INT"]},e[20]={dom:"",rec:"",attr:["INT"]},e[21]={dom:"",rec:"",attr:["INT"]},e[22]={dom:"",rec:"",attr:["INT"]},e[23]={dom:"",rec:"",attr:["INT"]},e[24]={dom:"",rec:"",attr:["INT"]},e[25]={dom:"",rec:"",attr:["INT"]},e[26]={dom:"",rec:"",attr:["INT"]},e[27]={dom:"",rec:"",attr:["INT"]},e[28]={dom:"Full Lips",rec:"Thin Lips",attr:["CHR"]},e[29]={dom:"Dark Skin",rec:"Fair Skin",attr:["CHR"]},e[30]={dom:"Eloquent",rec:"Catatonic",attr:["CHR"]},e[31]={dom:"Powerful Voice",rec:"Quiet Voice",attr:["CHR"]},e[32]={dom:"",rec:"",attr:["CHR"]},e[33]={dom:"",rec:"",attr:["CHR"]},e[34]={dom:"",rec:"",attr:["CHR"]},e[35]={dom:"",rec:"",attr:["CHR"]},e[36]={dom:"",rec:"",attr:["CHR"]},e[37]={dom:"",rec:"",attr:["CHR"]},e[38]={dom:"",rec:"",attr:["CHR"]},e[39]={dom:"",rec:"",attr:["CHR"]},e[40]={dom:"",rec:"",attr:["CHR"]},e[41]={dom:"",rec:"",attr:["CHR"]},e[42]={dom:"Female",rec:"Male",attr:["LCK"]},e[43]={dom:"",rec:"",attr:["LCK"]},e[44]={dom:"",rec:"",attr:["LCK"]},e[45]={dom:"",rec:"",attr:["LCK"]},e[46]={dom:"",rec:"",attr:["LCK"]},e[47]={dom:"",rec:"",attr:["LCK"]},e[48]={dom:"",rec:"",attr:["LCK"]},e[49]={dom:"",rec:"",attr:["LCK"]},e}()),game.constant("traitDefinitions",function(){var e=[{name:"Handsome",genes:[[0,-200,200],[5,50,255]],requiredTraits:["Male"]},{name:"Pretty",genes:[[0,-200,-100],[4,20,240]],requiredTraits:["Female"]},{name:"Aggressive",genes:[[0,200,255],[2,200,255],[4,200,255],[5,200,255],[14,-255,-150]]},{name:"Female",genes:[[42,0,255]]},{name:"Male",genes:[[42,-255,-1]]},{name:"Handsome Aggressive and something",genes:[[30,0,0]],requiredTraits:["Handsome","Aggressive"]}],t=[],n=function(t){return e.filter(function(e){return t===e.name})[0]},r=function(e){if(angular.isDefined(e.requiredTraits))for(var a=0;a<e.requiredTraits.length;a++){var i=e.requiredTraits[a],o=n(i);t.indexOf(o.name)===-1&&r(o);for(var s=0;s<o.genes.length;s++)e.genes.push(o.genes[s])}t.push(e.name)},a=function(){for(var t=0;t<e.length;t++){var n=e[t];r(n)}return e};return a()}()),game.factory("TraitInspector",["$filter","geneDefinitions","traitDefinitions",function(e,t,n){var r=function(e){this.update(e)};return r.prototype.update=function(e){"undefined"==typeof e&&(e={})},r.prototype.getTraits=function(e){var t=[];if(e.length)for(var r=0;r<n.length;r++){for(var a=n[r],i=!0,o=0;o<a.genes.length&&i===!0;o++){var s=a.genes[o],g=e[s[0]][1]-e[s[0]][0];(g<s[1]||g>s[2])&&(i=!1)}i&&t.push(a)}return t},r}]);var app=angular.module("bloqhead.genetixApp");app.component("gameControl",{template:'<div><button type="button" class="btn btn-xs btn-danger" ng-click="$ctrl.toggleState();"><i class="fa" ng-class="$ctrl.getIcon()"></i></button></div>',controller:["gameService","gameStates",function(e,t){var n=this;n.$onInit=function(){n.currentState=e.getState()},n.toggleState=function(){n.currentState=n.currentState===t.RUNNING?t.PAUSED:t.RUNNING,e.setState(n.currentState)},n.getIcon=function(){return n.currentState===t.RUNNING?"fa-pause":"fa-play"}}]});var game=angular.module("bloqhead.genetixApp");game.component("bloqhead.components.mainGame",{templateUrl:"components/mainGame/mainGame.html",controller:"bloqhead.controllers.mainGame"}),game.controller("bloqhead.controllers.mainGame",["$scope","$timeout","gameService",function(e,t,n){var r=this;r.$onInit=function(){r.helloText="Hello main game",r.diggers=n.diggers,r.diggerOffspring=[],r.diggerAncestors=[],n.SubscribeBreedEvent(e,function(t,n){e.$apply(function(){r.diggerOffspring=n})}),n.SubscribeNewGenerationEvent(e,function(t,n){e.$apply(function(){r.diggers=n.Diggers,r.diggerAncestors=n.Ancestors})})}}]);var game=angular.module("bloqhead.genetixApp");game.constant("gameStates",{PAUSED:0,RUNNING:1}),game.service("gameService",["$window","$rootScope","Breeder","geneDefinitions","gameStates","traitDefinitions",function(e,t,n,r,a,i){var o=this;o.init=function(e){angular.isDefined(e)||(e={}),o.stepTimeMs=e.stepTimeMs||5e3,o.lastTime=0,o.diggers=[],o.diggerOffspring=[],o.diggerAncestors=[],o.maxOffspring=e.maxOffspring||30,o.currentState=a.RUNNING;for(var t=0;t<2;t++){for(var i=new n({id:t,generation:0,scale:6}),s=0;s<r.length;s++)i.genes.push([0,0,5]);0===t&&(i.genes[42]=[255,0,0]),1==t&&(i.genes[42]=[0,255,0]),i.update(),o.diggers.push(i)}o.gameLoop(0)},o.SubscribeBreedEvent=function(e,n){var r=t.$on("breedEvent",n.bind(this));e.$on("$destroy",r)},o.SubscribeNewGenerationEvent=function(e,n){var r=t.$on("newGenerationEvent",n);e.$on("$destroy",r)},o.getState=function(){return o.currentState},o.setState=function(e){o.currentState=e},o.breed=function(e){for(var n=0;n<e;n++)if(o.diggerOffspring.length<o.maxOffspring){var r=o.diggers[0].breed(o.diggers[1],o.diggerOffspring.length);o.diggerOffspring.push(r),t.$emit("breedEvent",o.diggerOffspring)}else o.nextGeneration(),t.$emit("newGenerationEvent",{Ancestors:o.diggerAncestors,Diggers:o.diggers})},o.nextGeneration=function(){o.diggerAncestors.push(o.diggers),o.diggerAncestors.length>o.maxOffspring&&(o.diggerAncestors=o.diggerAncestors.slice(1)),o.diggers=[];var e=o.determineNextParents(o.aggressive);o.diggers.push(e[0]),o.diggers.push(e[1]),o.diggerOffspring=[]},o.determineNextParents=function(e){for(var t=o.diggerOffspring[0].genes.length,n={index:-1,value:-255*t},r={index:-1,value:-255*t},a=0;a<o.diggerOffspring.length;a++){var i=o.diggerOffspring[a],s=e(i);i.hasTrait("Male")&&n.value<s?(n.index=a,n.value=s):i.hasTrait("Female")&&r.value<s&&(r.index=a,r.value=s)}return o.diggerOffspring[n.index].update({scale:6}),o.diggerOffspring[r.index].update({scale:6}),[o.diggerOffspring[n.index],o.diggerOffspring[r.index]]},o.greenFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][1]-e.genes[r][0];return n},o.redFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][0]-e.genes[r][1];return n},o.blueFitness=function(e){for(var t=e.genes.length,n=0,r=0;r<t;r++)n+=e.genes[r][2];return n},o.aggressive=function(e){var t=i.filter(function(e){return"Aggressive"===e.name})[0];return o.traitFitness(e,t)},o.traitFitness=function(e,t){for(var n=t.genes.length,r=1,a=0;a<n;a++){var i=t.genes[a],o=e.genes[i[0]],s=o[1]-o[0],g=(i[2]+i[1])/2;if(0===o[0]&&0===o[1]&&0===o[2])return-1;s!=g&&(r*=Math.abs(s-g))}return 1/r},o.gameLoop=function(t){for(var n=this,r=0;n.lastTime+t>n.stepTimeMs*(r+1);)r++;n.lastTime=n.lastTime-n.stepTimeMs*r,n.currentState==a.RUNNING&&n.breed(r),e.requestAnimationFrame(this.gameLoop.bind(this))}}]);var app=angular.module("bloqhead.genetixApp");app.component("bloqhead.components.testInterface",{templateUrl:"components/testInterface/testInterface.html",controller:"bloqhead.controllers.testInterface"}),app.component("genomeEditor",{bindings:{unit:"<",updateGene:"&"},controller:["geneDefinitions",function(e){var t=this;t.$onInit=function(){t.geneDefinitions=e},t.randomize=function(e){var n=[];n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),n.push(randomIntFromInterval(0,255)),t.updateGene({$geneIndex:e,$values:n})},t.randomizeAll=function(){for(var e=0;e<t.unit.genes.length;e++)t.randomize(e);var n=0==randomIntFromInterval(0,1)?"Male":"Female",r="Male"==n?255:0,a="Male"==n?0:255;t.updateGene({$geneIndex:42,$values:[r,a,0]}),t.unit.setRandomName()}}],templateUrl:"components/testInterface/genomeEditor.html"}),app.controller("bloqhead.controllers.testInterface",["$scope","$timeout","gameService","Breeder","geneDefinitions","traitDefinitions",function(e,t,n,r,a,i){var o=this;o.lastBreederID=0,o.newBreederGender="Male",o.killBreeder=function(e){o.diggers.splice(o.diggers.indexOf(e),1)},o.addNewBreeder=function(){for(var e=[],t=0;t<a.length;t++)e.push([0,0,0]);var n="Male"==o.newBreederGender?255:0,t="Male"==o.newBreederGender?0:255;e[42][0]=n,e[42][1]=t;var i=new r({id:o.lastBreederID++,generation:0,scale:6,genes:e});i.update(),o.diggers.unshift(i)},o.$onInit=function(){o.geneDefinitions=a,o.traitDefinitions=i,o.diggers=[],o.updateGene=function(e,t,n){var r=o.diggers[e];r.genes[t]=n,r.update()}}}]),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/home.html",'<ul class="nav nav-pills"><li><a ui-sref="home.main">Main</a></li><li><a ui-sref="home.test">Test Interface</a></li></ul><game-control></game-control><div ui-view=""></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/mainGame/mainGame.html",'<i class="fa fa-leaf"></i><span ng-bind="$ctrl.helloText"></span><div class="row"><div class="col-xs-12"><fieldset><legend>Parents</legend><span class="col-xs-2" ng-repeat="digger in $ctrl.diggers"><img class="img-responsive" ng-src="{{digger.redGreenImage}}"><img class="img-responsive" ng-src="{{digger.blueImage}}"><ul class="list-group"><li class="list-group-item">Generation: <span ng-bind="digger.generation"></span></li><li ng-repeat="trait in digger.getTraits()" class="list-group-item" ng-bind="trait.name"></li><li ng-if="digger.getTraits().length == 0" class="list-group-item">No Traits</li></ul></span></fieldset></div></div><div class="row"><div class="col-xs-12"><fieldset><legend>Offspring</legend><span class="col-xs-4"><div ng-repeat="digger in $ctrl.diggerOffspring"><div class="col-xs-6"><img class="img-responsive" ng-src="{{digger.redGreenImage}}"></div><div class="col-xs-6"><img class="img-responsive" ng-src="{{digger.blueImage}}"></div></div></span></fieldset></div></div><div class="row">&nbsp;</div><div class="row"><div class="col-xs-12"><fieldset><legend>Ancestors</legend><div class="col-xs-4"><div ng-repeat="ancestors in $ctrl.diggerAncestors"><div class="col-xs-6"><img class="img-responsive" ng-src="{{ancestors[0].redGreenImage}}"></div><div class="col-xs-6"><img class="img-responsive" ng-src="{{ancestors[1].redGreenImage}}"></div></div></div></fieldset></div></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/genomeEditor.html",'<h4>{{$ctrl.unit.name}} <i class="fa fa-star" ng-repeat="trait in $ctrl.unit.traits" data-toggle="tooltip" rel="tooltip" title="{{trait.name}}"></i></h4><img class="img-responsive" ng-src="{{$ctrl.unit.redGreenImage}}"><div style="height: 400px; overflow-y: scroll; margin-top:5px"><table class="genomeEditor table table-condensed"><thead><tr><th>&nbsp;</th><th>Dominant</th><th>Recessive</th><th>Values</th><th><button type="button" class="btn btn-xs btn-warning" ng-click="$ctrl.randomizeAll();"><i class="fa fa-asterisk"></i></button></th></tr></thead><tbody><tr ng-repeat="gene in $ctrl.geneDefinitions"><td ng-bind="$index"></td><td ng-bind="gene.dom"></td><td ng-bind="gene.rec"></td><td>R <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][0]" ng-change="$ctrl.unit.update()"> G <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][1]" ng-change="$ctrl.unit.update()"> B <input type="number" min="0" max="255" ng-model="$ctrl.unit.genes[$index][2]" ng-change="$ctrl.unit.update()"></td><td><button type="button" class="btn btn-xs btn-success" ng-click="$ctrl.randomize($index);"><i class="fa fa-asterisk"></i></button></td></tr></tbody></table></div>')}])}(),function(e){try{e=angular.module("bloqhead.genetixApp")}catch(t){e=angular.module("bloqhead.genetixApp",[])}e.run(["$templateCache",function(e){e.put("components/testInterface/testInterface.html",'<div><ul class="nav nav-tabs" role="tablist"><li role="presentation" class="active"><a data-target="#breeders" role="tab" data-toggle="tab">Breeders</a></li><li role="presentation"><a data-target="#other" role="tab" data-toggle="tab">Other</a></li></ul><div class="tab-content"><div role="tabpanel" class="tab-pane active" id="breeders"><fieldset><div class="row"><div class="col-xs-6"><div class="btn-group" role="group"><button type="button" class="btn btn-info btn-group" ng-click="$ctrl.addNewBreeder()">Add new Breeder</button><div class="dropdown btn-group"><div type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown">Gender: {{$ctrl.newBreederGender}} <span class="caret"></span></div><ul class="dropdown-menu"><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Male\'">Male</a></li><li><a data-target="" ng-click="$ctrl.newBreederGender = \'Female\'">Female</a></li></ul></div></div></div></div><div class="row"><div class="col-xs-4" ng-repeat="digger in $ctrl.diggers"><div style="border: 1px solid grey"><button type="button" class="close" ng-click="$ctrl.killBreeder(digger)"><span>&times;</span></button><genome-editor unit="digger" update-gene="$ctrl.updateGene($index, $geneIndex, $values)"></genome-editor></div></div></div></fieldset></div><div role="tabpanel" class="tab-pane" id="other"><div class="well"><h3>Nothing to see here....</h3></div></div></div></div>')}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvc2VydmljZXMvZ2FtZVNlcnZpY2UuanMiLCJjb21wb25lbnRzL2JpdG1hcC5qcyIsImNvbXBvbmVudHMvZ2VuZXRpeEFwcC5qcyIsImNvbXBvbmVudHMvY2xhc3Nlcy9icmVlZGVyLmpzIiwiY29tcG9uZW50cy9jbGFzc2VzL3RyYWl0LmpzIiwiY29tcG9uZW50cy9nYW1lQ29udHJvbC9nYW1lQ29udHJvbC5jb21wb25lbnQuanMiLCJjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmNvbXBvbmVudC5qcyIsImNvbXBvbmVudHMvaG9tZS5qcyIsImNvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuanMiLCJjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmpzIiwiY29tcG9uZW50cy90ZXN0SW50ZXJmYWNlL3Rlc3RJbnRlcmZhY2UuanMiXSwibmFtZXMiOlsicmFuZG9tSW50RnJvbUludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2FzTGl0dGxlRW5kaWFuSGV4IiwidmFsdWUiLCJieXRlcyIsInJlc3VsdCIsInB1c2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJqb2luIiwiX2NvbGxhcHNlRGF0YSIsInJvd3MiLCJyb3dfcGFkZGluZyIsImkiLCJqIiwicGl4ZWwiLCJyb3dzX2xlbiIsImxlbmd0aCIsInBpeGVsc19sZW4iLCJwYWRkaW5nIiwiX3NjYWxlUm93cyIsInNjYWxlIiwibmV3X3JvdyIsIngiLCJ5IiwicmVhbF9oIiwic2NhbGVkX2giLCJwYXJzZUludCIsInJlYWxfdyIsInNjYWxlZF93IiwibmV3X3Jvd3MiLCJ3aW5kb3ciLCJnZW5lcmF0ZUJpdG1hcERhdGFVUkwiLCJidG9hIiwiYWxlcnQiLCJmaWxlIiwiaGVpZ2h0Iiwid2lkdGgiLCJudW1fZGF0YV9ieXRlcyIsIm51bV9maWxlX2J5dGVzIiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJfYXNzaWduX2JnX3RyYW5zZm9ybSIsImJnIiwidGVzdCIsIiRiZ190cmFuc2Zvcm0iLCJzcGxpdCIsInN1YnN0ciIsInN1YnN0cmluZyIsImxlbiIsIiRiZ0FzUkdCIiwiaWQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiZ2VuZXJhdGVMb3dSZXNCaXRtYXAiLCJyb3ciLCJpbWdfcGFyZW50IiwiaW1nIiwic3JjIiwieF9sZW4iLCJjcmVhdGVFbGVtZW50IiwiYWx0IiwidGl0bGUiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwib25jbGljayIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImFza1RvU2NhbGUiLCJwcm9tcHQiLCJwYXJzZUZsb2F0IiwiTmFOIiwiaXNOYU4iLCJ0aGlzIiwiJCIsInRvb2x0aXAiLCJzZWxlY3RvciIsImpRdWVyeSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGVzIiwibmFtZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29tcG9uZW50IiwiZm9yRWFjaCIsInN0YXRlIiwiaHRtbDVNb2RlIiwicnVuIiwiZ2FtZVNlcnZpY2UiLCJpbml0IiwiZ2FtZSIsImZhY3RvcnkiLCIkZmlsdGVyIiwiVHJhaXRJbnNwZWN0b3IiLCJjcm9zc292ZXIiLCJnMSIsImcyIiwiZyIsImNvcHkiLCJnZW5ldGljT3B0aW9ucyIsImNyb3Nzb3ZlcnJhdGUiLCJtdXRhdGlvblJhdGUiLCJiaXRTdHJpbmdSIiwiYml0U3RyaW5nRyIsImdldFJlZEdyZWVuSW1hZ2UiLCJnZW5lcyIsImFkZFJvd3MiLCJjb252ZXJ0UmVkR3JlZW5NYXAiLCJnZXRCbHVlSW1hZ2UiLCJjb252ZXJ0Qmx1ZU1hcCIsInIiLCJicmlnaHQiLCJhYnMiLCJjb2xzIiwiQnJlZWRlciIsInRyYWl0SW5zcGVjdG9yIiwidXBkYXRlIiwic2V0UmFuZG9tTmFtZSIsInByb3RvdHlwZSIsImdlbmVyYXRpb24iLCJyZWRHcmVlbkltYWdlIiwiYmx1ZUltYWdlIiwidHJhaXRzIiwiZ2V0VHJhaXRzIiwiYnJlZWQiLCJwYXJ0bmVyIiwibmV3SWQiLCJwMSIsInAyIiwiY2hpbGQiLCJwMWciLCJwMmciLCJoYXNUcmFpdCIsInRyYWl0IiwiZmlsdGVyIiwibXlUcmFpdCIsImdldFJhbmRvbU5hbWUiLCJmaXJzdE5hbWUiLCJuYW1lTGlzdDEiLCJuYW1lTGlzdDIiLCJsYXN0TmFtZSIsIm5hbWVMaXN0MyIsIm5hbWVMaXN0NCIsIm5hbWVMaXN0NSIsImNvbnN0YW50IiwiZ2VuZURlZmluaXRpb25zIiwiZG9tIiwicmVjIiwiYXR0ciIsInJlcXVpcmVkVHJhaXRzIiwiY2hlY2tlZCIsImdldFRyYWl0QnlOYW1lIiwidCIsImdldFJlcXVpcmVkR2VuZXNSZWN1cnNpdmUiLCJpc0RlZmluZWQiLCJyZXF1aXJlZFRyYWl0IiwicmVxIiwiaW5kZXhPZiIsImJ1aWxkVHJhaXRzIiwidHJhaXREZWZpbml0aW9ucyIsInJldCIsInRkIiwibWV0IiwiaCIsInRkZyIsInYiLCJhcHAiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCJnYW1lU3RhdGVzIiwic2VsZiIsIiRvbkluaXQiLCJjdXJyZW50U3RhdGUiLCJnZXRTdGF0ZSIsInRvZ2dsZVN0YXRlIiwiUlVOTklORyIsIlBBVVNFRCIsInNldFN0YXRlIiwiZ2V0SWNvbiIsIiRzY29wZSIsIiR0aW1lb3V0IiwiaGVsbG9UZXh0IiwiZGlnZ2VycyIsImRpZ2dlck9mZnNwcmluZyIsImRpZ2dlckFuY2VzdG9ycyIsIlN1YnNjcmliZUJyZWVkRXZlbnQiLCJldmVudCIsIm9mZnNwcmluZyIsIiRhcHBseSIsIlN1YnNjcmliZU5ld0dlbmVyYXRpb25FdmVudCIsImRhdGEiLCJEaWdnZXJzIiwiQW5jZXN0b3JzIiwic2VydmljZSIsIiR3aW5kb3ciLCIkcm9vdFNjb3BlIiwic3RlcFRpbWVNcyIsImxhc3RUaW1lIiwibWF4T2Zmc3ByaW5nIiwiZCIsImRpZ2dlciIsImdhbWVMb29wIiwic2NvcGUiLCJjYWxsYmFjayIsImhhbmRsZXIiLCIkb24iLCJiaW5kIiwibmV3U3RhdGUiLCJzdGVwcyIsImxvb3BzIiwiJGVtaXQiLCJuZXh0R2VuZXJhdGlvbiIsInNsaWNlIiwibmV3UGFyZW50cyIsImRldGVybWluZU5leHRQYXJlbnRzIiwiYWdncmVzc2l2ZSIsImZpdG5lc3NGdW5jIiwibnVtZ2VuZXMiLCJmaXRNYWxlIiwiaW5kZXgiLCJmaXRGZW1hbGUiLCJ2YWwiLCJncmVlbkZpdG5lc3MiLCJyZWRGaXRuZXNzIiwiYmx1ZUZpdG5lc3MiLCJ0cmFpdERlZmluaXRpb24iLCJ0cmFpdEZpdG5lc3MiLCJkZyIsImRndmFsIiwidGR2YWwiLCJzdGVwIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZGluZ3MiLCJ1bml0IiwidXBkYXRlR2VuZSIsInJhbmRvbWl6ZSIsIm5ld1ZhbHVlcyIsIiRnZW5lSW5kZXgiLCIkdmFsdWVzIiwicmFuZG9taXplQWxsIiwiZ2VuZGVyIiwibGFzdEJyZWVkZXJJRCIsIm5ld0JyZWVkZXJHZW5kZXIiLCJraWxsQnJlZWRlciIsInNwbGljZSIsImFkZE5ld0JyZWVkZXIiLCJ1bnNoaWZ0IiwiZGlnZ2VySW5kZXgiLCJnZW5lSW5kZXgiLCJ2YWx1ZXMiLCJlIiwiJHRlbXBsYXRlQ2FjaGUiLCJwdXQiXSwibWFwcGluZ3MiOiJBQUVBLFFBQUFBLHVCQUFBQyxFQUFBQyxHQUNBLE1BQUFDLE1BQUFDLE1BQUFELEtBQUFFLFVBQUFILEVBQUFELEVBQUEsR0FBQUEsSUM0QkEsV0FFQSxRQUFBSyxHQUFBQyxFQUFBQyxHQVdBLElBRkEsR0FBQUMsTUFFQUQsRUFBQSxFQUFBQSxJQUNBQyxFQUFBQyxLQUFBQyxPQUFBQyxhQUFBLElBQUFMLElBQ0FBLElBQUEsQ0FHQSxPQUFBRSxHQUFB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LEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxJQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBRUFILEVBQUEsS0FBQUMsSUFBQSx1QkFBQUMsSUFBQSxXQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxrQkFBQUMsSUFBQSxnQkFBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsZ0JBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFFQUgsRUFBQSxLQUFBQyxJQUFBLFlBQUFDLElBQUEsWUFBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsWUFBQUMsSUFBQSxZQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxXQUFBQyxJQUFBLFlBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLGlCQUFBQyxJQUFBLGNBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUVBSCxFQUFBLEtBQUFDLElBQUEsU0FBQUMsSUFBQSxPQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxHQUFBQyxJQUFBLEdBQUFDLE1BQUEsUUFDQUgsRUFBQSxLQUFBQyxJQUFBLEdBQUFDLElBQUEsR0FBQUMsTUFBQSxRQUNBSCxFQUFBLEtBQUFDLElBQUEsR0FBQUMsSUFBQSxHQUFBQyxNQUFBLFFBQ0FILEVBQUEsS0FBQUMsSUFBQSxH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RUFBQUQsUUFBQUMsT0FBQSx1QkFDQSxNQUFBaUwsR0FDQWpMLEVBQUFELFFBQUFDLE9BQUEsMEJBRUFBLEVBQUFjLEtBQUEsaUJBQUEsU0FBQW9LLEdBQ0FBLEVBQUFDLElBQUEsb0NBQ0EscTRDQ1JBLFNBQUFuTCxHQUNBLElBQ0FBLEVBQUFELFFBQUFDLE9BQUEsdUJBQ0EsTUFBQWlMLEdBQ0FqTCxFQUFBRCxRQUFBQyxPQUFBLDBCQUVBQSxFQUFBYyxLQUFBLGlCQUFBLFNBQUFvSyxHQUNBQSxFQUFBQyxJQUFBLDZDQUNBLDJyQ0NSQSxTQUFBbkwsR0FDQSxJQUNBQSxFQUFBRCxRQUFBQyxPQUFBLHVCQUNBLE1BQUFpTCxHQUNBakwsRUFBQUQsUUFBQUMsT0FBQSwwQkFFQUEsRUFBQWMsS0FBQSxpQkFBQSxTQUFBb0ssR0FDQUEsRUFBQUMsSUFBQSw4Q0FDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZnVuY3Rpb24gcmFuZG9tSW50RnJvbUludGVydmFsKG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcclxufVxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2FtZVN0YXRlcycsIHtcclxuICAgICAgICBQQVVTRUQ6IDAsXHJcbiAgICAgICAgUlVOTklORzogMVxyXG59KTtcclxuXHJcbmdhbWUuc2VydmljZSgnZ2FtZVNlcnZpY2UnLCBbXHJcbiAgICAnJHdpbmRvdycsICckcm9vdFNjb3BlJywgJ0JyZWVkZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ2dhbWVTdGF0ZXMnLCAndHJhaXREZWZpbml0aW9ucycsXHJcbiAgICBmdW5jdGlvbigkd2luZG93LCAkcm9vdFNjb3BlLCBCcmVlZGVyLCBnZW5lRGVmaW5pdGlvbnMsIGdhbWVTdGF0ZXMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoY29uZmlnKSkgY29uZmlnID0ge307XHJcbiAgICAgICAgc2VsZi5zdGVwVGltZU1zID0gY29uZmlnLnN0ZXBUaW1lTXMgfHwgNTAwMDtcclxuICAgICAgICBzZWxmLmxhc3RUaW1lID0gMDtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMgPSBbXTtcclxuICAgICAgICBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IFtdO1xyXG4gICAgICAgIHNlbGYuZGlnZ2VyQW5jZXN0b3JzID0gW107XHJcbiAgICAgICAgc2VsZi5tYXhPZmZzcHJpbmcgPSBjb25maWcubWF4T2Zmc3ByaW5nIHx8IDMwO1xyXG4gICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVN0YXRlcy5SVU5OSU5HO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IDI7IGQrKykge1xyXG4gICAgICAgICAgICB2YXIgZGlnZ2VyID0gbmV3IEJyZWVkZXIoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IGQsXHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICAgICAgc2NhbGU6IDYsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IGdlbmVEZWZpbml0aW9ucy5sZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgZGlnZ2VyLmdlbmVzLnB1c2goW1xyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAvKmRpZ2dlci5nZW5lc1swXSA9IFswLCAyMDAsIDEwXTtcclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1syXSA9IFswLCAyMDAsIDEwXTtcclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1s0XSA9IFswLCAyMDAsIDEwXTtcclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1s1XSA9IFswLCAyMDAsIDEwXTtcclxuZGlnZ2VyLmdlbmVzWzE0XSA9IFsxNTAsIDAsIDEwXTsqL1xyXG4gICAgICAgICAgICAgICAgZGlnZ2VyLmdlbmVzWzQyXSA9IFsyNTUsIDAsIDBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkID09IDEpIHtcclxuICAgICAgICAgICAgICAgLyogZGlnZ2VyLmdlbmVzWzBdID0gWzE1MCwgMCwgMTBdO1xyXG4gICAgICAgICAgICAgICAgZGlnZ2VyLmdlbmVzWzRdID0gWzAsIDIwMCwgMTBdO1xyXG5kaWdnZXIuZ2VuZXNbNV0gPSBbMCwgMjAwLCAxMF07Ki9cclxuICAgICAgICAgICAgICAgIGRpZ2dlci5nZW5lc1s0Ml0gPSBbMCwgMjU1LCAwXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaWdnZXIudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIHNlbGYuZGlnZ2Vycy5wdXNoKGRpZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBwYXVzZSB0aGlzLCBpdCBrZWVwc1xyXG4gICAgICAgIC8vIGxvY2tpbmcgdXAgbXkgYnJvd3NlciBpZiBpIGxlYXZlIGl0IG9wZW5cclxuICAgICAgICBzZWxmLmdhbWVMb29wKDApO1xyXG4gICAgfTtcclxuICAgIHNlbGYuU3Vic2NyaWJlQnJlZWRFdmVudCA9IGZ1bmN0aW9uKHNjb3BlLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gJHJvb3RTY29wZS4kb24oJ2JyZWVkRXZlbnQnLCBjYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgaGFuZGxlcik7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5TdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQgPSBmdW5jdGlvbihzY29wZSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9ICRyb290U2NvcGUuJG9uKCduZXdHZW5lcmF0aW9uRXZlbnQnLCBjYWxsYmFjayk7XHJcbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGhhbmRsZXIpO1xyXG4gICAgfTtcclxuICAgIHNlbGYuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gc2VsZi5jdXJyZW50U3RhdGU7XHJcbiAgICB9O1xyXG4gICAgc2VsZi5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcclxuICAgIH07XHJcbiAgICBzZWxmLmJyZWVkID0gZnVuY3Rpb24oc3RlcHMpIHtcclxuICAgICAgICBmb3IgKHZhciBsb29wcyA9IDA7IGxvb3BzIDwgc3RlcHM7IGxvb3BzKyspIHtcclxuICAgICAgICAgICAgaWYgKHNlbGYuZGlnZ2VyT2Zmc3ByaW5nLmxlbmd0aCA8IHNlbGYubWF4T2Zmc3ByaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBzZWxmLmRpZ2dlcnNbMF0uYnJlZWQoc2VsZi5kaWdnZXJzWzFdLCBzZWxmLmRpZ2dlck9mZnNwcmluZy5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5kaWdnZXJPZmZzcHJpbmcucHVzaChjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdicmVlZEV2ZW50Jywgc2VsZi5kaWdnZXJPZmZzcHJpbmcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5uZXh0R2VuZXJhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnbmV3R2VuZXJhdGlvbkV2ZW50JywgeyBBbmNlc3RvcnM6IHNlbGYuZGlnZ2VyQW5jZXN0b3JzLCBEaWdnZXJzOiBzZWxmLmRpZ2dlcnMgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYubmV4dEdlbmVyYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxmLmRpZ2dlckFuY2VzdG9ycy5wdXNoKHNlbGYuZGlnZ2Vycyk7XHJcbiAgICAgICAgaWYgKHNlbGYuZGlnZ2VyQW5jZXN0b3JzLmxlbmd0aCA+IHNlbGYubWF4T2Zmc3ByaW5nKSBzZWxmLmRpZ2dlckFuY2VzdG9ycyA9IHNlbGYuZGlnZ2VyQW5jZXN0b3JzLnNsaWNlKDEpO1xyXG4gICAgICAgIHNlbGYuZGlnZ2VycyA9IFtdO1xyXG4gICAgICAgIHZhciBuZXdQYXJlbnRzID0gc2VsZi5kZXRlcm1pbmVOZXh0UGFyZW50cyhzZWxmLmFnZ3Jlc3NpdmUpO1xyXG4gICAgICAgIHNlbGYuZGlnZ2Vycy5wdXNoKG5ld1BhcmVudHNbMF0pO1xyXG4gICAgICAgIHNlbGYuZGlnZ2Vycy5wdXNoKG5ld1BhcmVudHNbMV0pO1xyXG4gICAgICAgIHNlbGYuZGlnZ2VyT2Zmc3ByaW5nID0gW107XHJcbiAgICB9O1xyXG4gICAgc2VsZi5kZXRlcm1pbmVOZXh0UGFyZW50cyA9IGZ1bmN0aW9uKGZpdG5lc3NGdW5jKSB7XHJcbiAgICAgICAgdmFyIG51bWdlbmVzID0gc2VsZi5kaWdnZXJPZmZzcHJpbmdbMF0uZ2VuZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBmaXRNYWxlID0ge1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IC0xLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IC0yNTUgKiBudW1nZW5lc1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBmaXRGZW1hbGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleDogLTEsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogLTI1NSAqIG51bWdlbmVzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmRpZ2dlck9mZnNwcmluZy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZGlnZ2VyID0gc2VsZi5kaWdnZXJPZmZzcHJpbmdbaV07XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBmaXRuZXNzRnVuYyhkaWdnZXIpO1xyXG4gICAgICAgICAgICBpZiAoZGlnZ2VyLmhhc1RyYWl0KCdNYWxlJykgJiYgZml0TWFsZS52YWx1ZSA8IHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZml0TWFsZS5pbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBmaXRNYWxlLnZhbHVlID0gdmFsOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWdnZXIuaGFzVHJhaXQoJ0ZlbWFsZScpICYmIGZpdEZlbWFsZS52YWx1ZSA8IHZhbCkge1xyXG4gICAgICAgICAgICAgICAgZml0RmVtYWxlLmluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGZpdEZlbWFsZS52YWx1ZSA9IHZhbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmRpZ2dlck9mZnNwcmluZ1tmaXRNYWxlLmluZGV4XS51cGRhdGUoeyBzY2FsZTogNiB9KTtcclxuICAgICAgICBzZWxmLmRpZ2dlck9mZnNwcmluZ1tmaXRGZW1hbGUuaW5kZXhdLnVwZGF0ZSh7IHNjYWxlOiA2IH0pO1xyXG4gICAgICAgIHJldHVybiBbc2VsZi5kaWdnZXJPZmZzcHJpbmdbZml0TWFsZS5pbmRleF0sIHNlbGYuZGlnZ2VyT2Zmc3ByaW5nW2ZpdEZlbWFsZS5pbmRleF1dO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLmdyZWVuRml0bmVzcyA9IGZ1bmN0aW9uKGRpZ2dlcikge1xyXG4gICAgICAgIHZhciBudW1nZW5lcyA9IGRpZ2dlci5nZW5lcy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHZhbCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBudW1nZW5lczsgZysrKVxyXG4gICAgICAgICAgICB2YWwgKz0gZGlnZ2VyLmdlbmVzW2ddWzFdIC0gZGlnZ2VyLmdlbmVzW2ddWzBdO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYucmVkRml0bmVzcyA9IGZ1bmN0aW9uKGRpZ2dlcikge1xyXG4gICAgICAgIHZhciBudW1nZW5lcyA9IGRpZ2dlci5nZW5lcy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHZhbCA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBudW1nZW5lczsgZysrKVxyXG4gICAgICAgICAgICB2YWwgKz0gZGlnZ2VyLmdlbmVzW2ddWzBdIC0gZGlnZ2VyLmdlbmVzW2ddWzFdO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYuYmx1ZUZpdG5lc3MgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICB2YXIgbnVtZ2VuZXMgPSBkaWdnZXIuZ2VuZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciB2YWwgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgbnVtZ2VuZXM7IGcrKylcclxuICAgICAgICAgICAgdmFsICs9IGRpZ2dlci5nZW5lc1tnXVsyXTtcclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfTtcclxuICAgIHNlbGYuYWdncmVzc2l2ZSA9IGZ1bmN0aW9uKGRpZ2dlcikge1xyXG4gICAgICAgIHZhciB0cmFpdERlZmluaXRpb24gPSB0cmFpdERlZmluaXRpb25zLmZpbHRlcihmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJhaXQubmFtZSA9PT0nQWdncmVzc2l2ZSc7XHJcbiAgICAgICAgfSlbMF07XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmLnRyYWl0Rml0bmVzcyhkaWdnZXIsIHRyYWl0RGVmaW5pdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLCB0aGUgaGlnaGVyIHRoZSBiZXR0ZXIuIElmIGl0cyBub3QgcG9zc2libGVcclxuICAgIC8vIGZvciB0aGUgZGlnZ2VyIHRvIGV2ZXIgaGF2ZSB0aGlzIHRyYWl0LCBpdCB3aWxsIHJldHVybiAtMS5cclxuICAgIHNlbGYudHJhaXRGaXRuZXNzID0gZnVuY3Rpb24oZGlnZ2VyLCB0cmFpdERlZmluaXRpb24pIHtcclxuICAgICAgICB2YXIgbnVtZ2VuZXMgPSB0cmFpdERlZmluaXRpb24uZ2VuZXMubGVuZ3RoO1xyXG4gICAgICAgIHZhciB2YWwgPSAxOyAvLyB0aGUgaW52ZXJzZSBvZiB0aGlzIHdpbGwgYmUgcmV0dXJuZWRcclxuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IG51bWdlbmVzOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHRkZyA9IHRyYWl0RGVmaW5pdGlvbi5nZW5lc1tnXTtcclxuICAgICAgICAgICAgdmFyIGRnID0gZGlnZ2VyLmdlbmVzW3RkZ1swXV07XHJcbiAgICAgICAgICAgIHZhciBkZ3ZhbCA9IGRnWzFdIC0gZGdbMF07XHJcbiAgICAgICAgICAgIHZhciB0ZHZhbCA9ICh0ZGdbMl0gKyB0ZGdbMV0pLzI7XHJcbiAgICAgICAgICAgIGlmIChkZ1swXSA9PT0gMCAmJiBkZ1sxXSA9PT0gMCAmJiBkZ1syXSA9PT0gMClcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTsgLy8gc2hvb3RpbiBibGFua3MgZm9yIG9uZSBvZiB0aGUgZ2VuZXMgbmVjZXNzYXJ5IGZvciB0aGUgdHJhaXRcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGJlc3QgY2FzdCBzY2VuYXJpbyBpcyB3aGVuIHRoZSBkaWdnZXJzIGdlbmUgaXMgYXQgdGhlIGV4YWN0IG1lZGlhbiBvZiB0aGUgcmFuZ2VcclxuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSB0cmFpdCwgc2luY2UgdmFsIHdvdWxkIHJlbWFpbiB0aGUgc2FtZSwgbWFraW5nIHRoZW0gbW9yZSBmaXRcclxuICAgICAgICAgICAgaWYgKGRndmFsICE9IHRkdmFsKVxyXG4gICAgICAgICAgICAgICAgdmFsICo9IE1hdGguYWJzKGRndmFsIC0gdGR2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIDEgLyB2YWw7XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBzZWxmLmdhbWVMb29wID0gZnVuY3Rpb24oc3RlcCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICB2YXIgc3RlcHMgPSAwOyAgICAgICAgXHJcbiAgICAgICAgd2hpbGUgKHNlbGYubGFzdFRpbWUgKyBzdGVwID4gKHNlbGYuc3RlcFRpbWVNcyAqIChzdGVwcyArIDEpKSkge1xyXG4gICAgICAgICAgICBzdGVwcysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmxhc3RUaW1lID0gKHNlbGYubGFzdFRpbWUgLSAoc2VsZi5zdGVwVGltZU1zICogc3RlcHMpKTtcclxuICAgICAgICBpZihzZWxmLmN1cnJlbnRTdGF0ZSA9PSBnYW1lU3RhdGVzLlJVTk5JTkcpIHsgICAgICAgICAgICBcclxuICAgICAgICAgICAgc2VsZi5icmVlZChzdGVwcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZ2FtZUxvb3AuYmluZCh0aGlzKSk7XHJcbiAgICB9O1xyXG5cclxufV0pOyIsIi8qIVxyXG4gKiBHZW5lcmF0ZSBCaXRtYXAgRGF0YSBVUkxcclxuICogaHR0cDovL21yY29sZXMuY29tL2xvdy1yZXMtcGFpbnQvXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEwLCBQZXRlciBDb2xlc1xyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VzLlxyXG4gKiBodHRwOi8vbXJjb2xlcy5jb20vbWVkaWEvbWl0LWxpY2Vuc2UudHh0XHJcbiAqXHJcbiAqIERhdGU6IFR1ZSBPY3QgMjYgMDA6MDA6MDAgMjAxMCAtMDUwMFxyXG4gKi9cclxuXHJcbi8qXHJcbiAqIENvZGUgdG8gZ2VuZXJhdGUgQml0bWFwIGltYWdlcyAodXNpbmcgZGF0YSB1cmxzKSBmcm9tIHJvd3Mgb2YgUkdCIGFycmF5cy5cclxuICogU3BlY2lmaWNhbGx5IGZvciB1c2Ugd2l0aCBodHRwOi8vbXJjb2xlcy5jb20vbG93LXJlc3QtcGFpbnQvXHJcbiAqXHJcbiAqIFJlc2VhcmNoOlxyXG4gKlxyXG4gKiBSRkMgMjM5NyBkYXRhIFVSTFxyXG4gKiBodHRwOi8vd3d3LnhzNGFsbC5ubC9+d3JiL0FydGljbGVzL0FydGljbGVfSU1HX1JGQzIzOTdfUDFfMDEuaHRtXHJcbiAqXHJcbiAqIEJNUCBmaWxlIEZvcm1hdFxyXG4gKiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JNUF9maWxlX2Zvcm1hdCNFeGFtcGxlX29mX2FfMi5DMy45NzJfUGl4ZWwuMkNfMjQtQml0X0JpdG1hcF8uMjhXaW5kb3dzX1YzX0RJQi4yOVxyXG4gKlxyXG4gKiBCTVAgTm90ZXNcclxuICpcclxuICogLSBJbnRlZ2VyIHZhbHVlcyBhcmUgbGl0dGxlLWVuZGlhbiwgaW5jbHVkaW5nIFJHQiBwaXhlbHMsIGUuZy4sICgyNTUsIDAsIDApIC0+IFxceDAwXFx4MDBcXHhGRlxyXG4gKiAtIEJpdG1hcCBkYXRhIHN0YXJ0cyBhdCBsb3dlciBsZWZ0IChhbmQgcmVhZHMgYWNyb3NzIHJvd3MpXHJcbiAqIC0gSW4gdGhlIEJNUCBkYXRhLCBwYWRkaW5nIGJ5dGVzIGFyZSBpbnNlcnRlZCBpbiBvcmRlciB0byBrZWVwIHRoZSBsaW5lcyBvZiBkYXRhIGluIG11bHRpcGxlcyBvZiBmb3VyLFxyXG4gKiAgIGUuZy4sIGEgMjQtYml0IGJpdG1hcCB3aXRoIHdpZHRoIDEgd291bGQgaGF2ZSAzIGJ5dGVzIG9mIGRhdGEgcGVyIHJvdyAoUiwgRywgQikgKyAxIGJ5dGUgb2YgcGFkZGluZ1xyXG4gKi9cclxuXHJcbihmdW5jdGlvbigpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBfYXNMaXR0bGVFbmRpYW5IZXgodmFsdWUsIGJ5dGVzKSB7XHJcbiAgICAgICAgLy8gQ29udmVydCB2YWx1ZSBpbnRvIGxpdHRsZSBlbmRpYW4gaGV4IGJ5dGVzXHJcbiAgICAgICAgLy8gdmFsdWUgLSB0aGUgbnVtYmVyIGFzIGEgZGVjaW1hbCBpbnRlZ2VyIChyZXByZXNlbnRpbmcgYnl0ZXMpXHJcbiAgICAgICAgLy8gYnl0ZXMgLSB0aGUgbnVtYmVyIG9mIGJ5dGVzIHRoYXQgdGhpcyB2YWx1ZSB0YWtlcyB1cCBpbiBhIHN0cmluZ1xyXG5cclxuICAgICAgICAvLyBFeGFtcGxlOlxyXG4gICAgICAgIC8vIF9hc0xpdHRsZUVuZGlhbkhleCgyODM1LCA0KVxyXG4gICAgICAgIC8vID4gJ1xceDEzXFx4MGJcXHgwMFxceDAwJ1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICAgIGZvciAoOyBieXRlcyA+IDA7IGJ5dGVzLS0pIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSAmIDI1NSkpO1xyXG4gICAgICAgICAgICB2YWx1ZSA+Pj0gODtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2NvbGxhcHNlRGF0YShyb3dzLCByb3dfcGFkZGluZykge1xyXG4gICAgICAgIC8vIENvbnZlcnQgcm93cyBvZiBSR0IgYXJyYXlzIGludG8gQk1QIGRhdGFcclxuICAgICAgICB2YXIgaSxcclxuICAgICAgICAgICAgcm93c19sZW4gPSByb3dzLmxlbmd0aCxcclxuICAgICAgICAgICAgaixcclxuICAgICAgICAgICAgcGl4ZWxzX2xlbiA9IHJvd3NfbGVuID8gcm93c1swXS5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICBwaXhlbCxcclxuICAgICAgICAgICAgcGFkZGluZyA9ICcnLFxyXG4gICAgICAgICAgICByZXN1bHQgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICg7IHJvd19wYWRkaW5nID4gMDsgcm93X3BhZGRpbmctLSkge1xyXG4gICAgICAgICAgICBwYWRkaW5nICs9ICdcXHgwMCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm93c19sZW47IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGl4ZWxzX2xlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbCA9IHJvd3NbaV1bal07XHJcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHBpeGVsWzJdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyaW5nLmZyb21DaGFyQ29kZShwaXhlbFsxXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocGl4ZWxbMF0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXN1bHQucHVzaChwYWRkaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX3NjYWxlUm93cyhyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIFNpbXBsZXN0IHNjYWxpbmcgcG9zc2libGVcclxuICAgICAgICB2YXIgcmVhbF9oID0gcm93cy5sZW5ndGgsXHJcbiAgICAgICAgICAgIHNjYWxlZF9oID0gcGFyc2VJbnQocmVhbF9oICogc2NhbGUpLFxyXG4gICAgICAgICAgICByZWFsX3cgPSByZWFsX2ggPyByb3dzWzBdLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgIHNjYWxlZF93ID0gcGFyc2VJbnQocmVhbF93ICogc2NhbGUpLFxyXG4gICAgICAgICAgICBuZXdfcm93cyA9IFtdLFxyXG4gICAgICAgICAgICBuZXdfcm93LCB4LCB5O1xyXG5cclxuICAgICAgICBmb3IgKHkgPSAwOyB5IDwgc2NhbGVkX2g7IHkrKykge1xyXG4gICAgICAgICAgICBuZXdfcm93cy5wdXNoKG5ld19yb3cgPSBbXSk7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCBzY2FsZWRfdzsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdfcm93LnB1c2gocm93c1twYXJzZUludCh5IC8gc2NhbGUpXVtwYXJzZUludCh4IC8gc2NhbGUpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld19yb3dzO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUJpdG1hcERhdGFVUkwgPSBmdW5jdGlvbihyb3dzLCBzY2FsZSkge1xyXG4gICAgICAgIC8vIEV4cGVjdHMgcm93cyBzdGFydGluZyBpbiBib3R0b20gbGVmdFxyXG4gICAgICAgIC8vIGZvcm1hdHRlZCBsaWtlIHRoaXM6IFtbWzI1NSwgMCwgMF0sIFsyNTUsIDI1NSwgMF0sIC4uLl0sIC4uLl1cclxuICAgICAgICAvLyB3aGljaCByZXByZXNlbnRzOiBbW3JlZCwgeWVsbG93LCAuLi5dLCAuLi5dXHJcblxyXG4gICAgICAgIGlmICghd2luZG93LmJ0b2EpIHtcclxuICAgICAgICAgICAgYWxlcnQoJ09oIG5vLCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBiYXNlNjQgZW5jb2RpbmcgLSB3aW5kb3cuYnRvYSgpISEnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxO1xyXG4gICAgICAgIGlmIChzY2FsZSAhPSAxKSB7XHJcbiAgICAgICAgICAgIHJvd3MgPSBfc2NhbGVSb3dzKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBoZWlnaHQgPSByb3dzLmxlbmd0aCwgLy8gdGhlIG51bWJlciBvZiByb3dzXHJcbiAgICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ID8gcm93c1swXS5sZW5ndGggOiAwLCAvLyB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgcGVyIHJvd1xyXG4gICAgICAgICAgICByb3dfcGFkZGluZyA9ICg0IC0gKHdpZHRoICogMykgJSA0KSAlIDQsIC8vIHBhZCBlYWNoIHJvdyB0byBhIG11bHRpcGxlIG9mIDQgYnl0ZXNcclxuICAgICAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSAod2lkdGggKiAzICsgcm93X3BhZGRpbmcpICogaGVpZ2h0LCAvLyBzaXplIGluIGJ5dGVzIG9mIEJNUCBkYXRhXHJcbiAgICAgICAgICAgIG51bV9maWxlX2J5dGVzID0gNTQgKyBudW1fZGF0YV9ieXRlcywgLy8gZnVsbCBoZWFkZXIgc2l6ZSAob2Zmc2V0KSArIHNpemUgb2YgZGF0YVxyXG4gICAgICAgICAgICBmaWxlO1xyXG5cclxuICAgICAgICBoZWlnaHQgPSBfYXNMaXR0bGVFbmRpYW5IZXgoaGVpZ2h0LCA0KTtcclxuICAgICAgICB3aWR0aCA9IF9hc0xpdHRsZUVuZGlhbkhleCh3aWR0aCwgNCk7XHJcbiAgICAgICAgbnVtX2RhdGFfYnl0ZXMgPSBfYXNMaXR0bGVFbmRpYW5IZXgobnVtX2RhdGFfYnl0ZXMsIDQpO1xyXG4gICAgICAgIG51bV9maWxlX2J5dGVzID0gX2FzTGl0dGxlRW5kaWFuSGV4KG51bV9maWxlX2J5dGVzLCA0KTtcclxuXHJcbiAgICAgICAgLy8gdGhlc2UgYXJlIHRoZSBhY3R1YWwgYnl0ZXMgb2YgdGhlIGZpbGUuLi5cclxuXHJcbiAgICAgICAgZmlsZSA9ICgnQk0nICsgLy8gXCJNYWdpYyBOdW1iZXJcIlxyXG4gICAgICAgICAgICBudW1fZmlsZV9ieXRlcyArIC8vIHNpemUgb2YgdGhlIGZpbGUgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDAnICsgLy8gcmVzZXJ2ZWRcclxuICAgICAgICAgICAgJ1xceDM2XFx4MDBcXHgwMFxceDAwJyArIC8vIG9mZnNldCBvZiB3aGVyZSBCTVAgZGF0YSBsaXZlcyAoNTQgYnl0ZXMpXHJcbiAgICAgICAgICAgICdcXHgyOFxceDAwXFx4MDBcXHgwMCcgKyAvLyBudW1iZXIgb2YgcmVtYWluaW5nIGJ5dGVzIGluIGhlYWRlciBmcm9tIGhlcmUgKDQwIGJ5dGVzKVxyXG4gICAgICAgICAgICB3aWR0aCArIC8vIHRoZSB3aWR0aCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgaGVpZ2h0ICsgLy8gdGhlIGhlaWdodCBvZiB0aGUgYml0bWFwIGluIHBpeGVscypcclxuICAgICAgICAgICAgJ1xceDAxXFx4MDAnICsgLy8gdGhlIG51bWJlciBvZiBjb2xvciBwbGFuZXMgKDEpXHJcbiAgICAgICAgICAgICdcXHgxOFxceDAwJyArIC8vIDI0IGJpdHMgLyBwaXhlbFxyXG4gICAgICAgICAgICAnXFx4MDBcXHgwMFxceDAwXFx4MDAnICsgLy8gTm8gY29tcHJlc3Npb24gKDApXHJcbiAgICAgICAgICAgIG51bV9kYXRhX2J5dGVzICsgLy8gc2l6ZSBvZiB0aGUgQk1QIGRhdGEgKGJ5dGVzKSpcclxuICAgICAgICAgICAgJ1xceDEzXFx4MEJcXHgwMFxceDAwJyArIC8vIDI4MzUgcGl4ZWxzL21ldGVyIC0gaG9yaXpvbnRhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgxM1xceDBCXFx4MDBcXHgwMCcgKyAvLyAyODM1IHBpeGVscy9tZXRlciAtIHRoZSB2ZXJ0aWNhbCByZXNvbHV0aW9uXHJcbiAgICAgICAgICAgICdcXHgwMFxceDAwXFx4MDBcXHgwMCcgKyAvLyBOdW1iZXIgb2YgY29sb3JzIGluIHRoZSBwYWxldHRlIChrZWVwIDAgZm9yIDI0LWJpdClcclxuICAgICAgICAgICAgJ1xceDAwXFx4MDBcXHgwMFxceDAwJyArIC8vIDAgaW1wb3J0YW50IGNvbG9ycyAobWVhbnMgYWxsIGNvbG9ycyBhcmUgaW1wb3J0YW50KVxyXG4gICAgICAgICAgICBfY29sbGFwc2VEYXRhKHJvd3MsIHJvd19wYWRkaW5nKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiAnZGF0YTppbWFnZS9ibXA7YmFzZTY0LCcgKyBidG9hKGZpbGUpO1xyXG4gICAgfTtcclxuXHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbi8vXHJcbi8vIENvZGUgc3BlY2lmaWMgdG8gbG93IHJlcyBwYWludFxyXG4vL1xyXG5cclxuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIHZhciAkYmdfdHJhbnNmb3JtO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKSB7XHJcbiAgICAgICAgLy8gZGlmZmVyZW50IGJyb3dzZXJzIHJldHVybiB0aGUgY29sb3IgZGlmZmVyZW50bHlcclxuICAgICAgICAvLyBsZXQncyBzdXBwb3J0IFwicmdiKDEyMywgMCwgNSlcIiwgXCIjZmZmXCIsIGFuZCBcIiNmZjAwOTlcIlxyXG4gICAgICAgIGlmICgvXnJnYlxcKFxcZCssIFxcZCssIFxcZCtcXCkkLy50ZXN0KGJnKSkge1xyXG4gICAgICAgICAgICAkYmdfdHJhbnNmb3JtID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICAgICAgeCA9IHguc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIHhbMF0gPSB4WzBdLnN1YnN0cig0KTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCB0OyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFtpXSA9IHBhcnNlSW50KHhbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChiZy5zdWJzdHJpbmcoMCwgMSkgPT0gJyMnKSB7XHJcbiAgICAgICAgICAgICRiZ190cmFuc2Zvcm0gPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICB4ID0geC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0geC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KCcweCcgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkgKyB4LnN1YnN0cmluZyhpLCBpICsgMSkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoJzB4JyArIHguc3Vic3RyaW5nKGksIGkgKyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYWxlcnQoJ1VucGFyc2VhYmxlIGNvbG9yOiAnICsgYmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiAkYmdBc1JHQihpZCkge1xyXG4gICAgICAgIHZhciBiZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgaWYgKGJnID09PSAnJykgcmV0dXJuIFsyNTUsIDI1NSwgMjU1XTtcclxuICAgICAgICBpZiAoJGJnX3RyYW5zZm9ybSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIF9hc3NpZ25fYmdfdHJhbnNmb3JtKGJnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICRiZ190cmFuc2Zvcm0oYmcpO1xyXG4gICAgfVxyXG5cclxuICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcCA9IGZ1bmN0aW9uKHNjYWxlKSB7XHJcbiAgICAgICAgLy8gcGl4ZWxzIGFyZSB4X3kgc3RhcnRpbmcgaW4gdG9wIGxlZnQsIHdlIG5lZWQgdG8gaXRlcmF0ZSBmcm9tIGJvdHRvbSBsZWZ0XHJcbiAgICAgICAgLy8gZGltZW5zaW9ucyBhcmUgYSA1MHg1MCBzcXVhcmUgKDAsIDAsIDQ5LCA0OSlcclxuXHJcbiAgICAgICAgc2NhbGUgPSBzY2FsZSB8fCAxMDtcclxuXHJcbiAgICAgICAgdmFyIHgsXHJcbiAgICAgICAgICAgIHhfbGVuID0gNTAsXHJcbiAgICAgICAgICAgIHkgPSA0OSxcclxuICAgICAgICAgICAgcm93cyA9IFtdLFxyXG4gICAgICAgICAgICByb3csXHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQsXHJcbiAgICAgICAgICAgIGltZyxcclxuICAgICAgICAgICAgc3JjO1xyXG5cclxuICAgICAgICBmb3IgKDsgeSA+PSAwOyB5LS0pIHtcclxuICAgICAgICAgICAgcm93cy5wdXNoKHJvdyA9IFtdKTtcclxuICAgICAgICAgICAgZm9yICh4ID0gMDsgeCA8IHhfbGVuOyB4KyspIHtcclxuICAgICAgICAgICAgICAgIHJvdy5wdXNoKCRiZ0FzUkdCKHggKyAnXycgKyB5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIHRlc3QgaW1hZ2UgKiAvXHJcbiAgICAgICAgcm93cyA9IFtcclxuICAgICAgICAgICAgW1syNTUsIDAsIDBdLCBbMjU1LCAyNTUsIDI1NV1dLFxyXG4gICAgICAgICAgICBbWzAsIDAsIDI1NV0sIFswLCAyNTUsMF1dXHJcbiAgICAgICAgXTtcclxuICAgICAgICAvKiAqL1xyXG5cclxuICAgICAgICBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICBzcmMgPSB3aW5kb3cuZ2VuZXJhdGVCaXRtYXBEYXRhVVJMKHJvd3MsIHNjYWxlKTtcclxuICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgIGltZy5hbHQgPSAnSWYgeW91IGNhbiByZWFkIHRoaXMsIHlvdXIgYnJvd3NlciBwcm9iYWJseSBkb2VzblxcJ3Qgc3VwcG9ydCB0aGUgZGF0YSBVUkwgc2NoZW1lIGZvcm1hdCEgT2ggbm8hJztcclxuICAgICAgICBpbWcudGl0bGUgPSAnWW91IGdlbmVyYXRlZCBhbiBpbWFnZSwgZ3JlYXQgam9iISBUbyBzYXZlIGl0LCBkcmFnIGl0IHRvIHlvdXIgRGVza3RvcCBvciByaWdodCBjbGljayBhbmQgc2VsZWN0IHNhdmUgYXMuJztcclxuICAgICAgICBpbWdfcGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltZycpO1xyXG4gICAgICAgIGlmIChpbWdfcGFyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGltZ19wYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5pZCA9ICdpbWcnO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd3JhcCcpLmFwcGVuZENoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWdfcGFyZW50LmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiaW1nLWhlYWRlclwiPkdlbmVyYXRlZCBJbWFnZSAmbmJzcDs8YSB0aXRsZT1cImhpZGUgaW1hZ2VcIiBocmVmPVwiI1wiPng8L2E+PC9kaXY+JztcclxuICAgICAgICBpbWdfcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0ub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nX3BhcmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nX3BhcmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZ19wYXJlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpbWdfcGFyZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuZ2VuZXJhdGVMb3dSZXNCaXRtYXAuYXNrVG9TY2FsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzY2FsZSA9IHByb21wdCgnUGljayBhIHNjYWxpbmcgZmFjdG9yLi4uXFxuMSA9IGFjdHVhbCBzaXplLCAuNSA9IGhhbGYsIDIgPSBkb3VibGVcXG4obm90ZTogbGFyZ2UgbnVtYmVycyBtaWdodCBjcmFzaCB5b3VyIGJyb3dzZXIpJyk7XHJcbiAgICAgICAgaWYgKHNjYWxlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoc2NhbGUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IE5hTjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYU4oc2NhbGUpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgnVGhhdCBpcyBub3QgYSBudW1iZXIhJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHNjYWxlICogMTA7IC8vIHNpbmNlIGFjdHVhbCBzaXplIGlzIGFjdHVhbGx5IDEweCFcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5nZW5lcmF0ZUxvd1Jlc0JpdG1hcChzY2FsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxufSkodGhpcywgdGhpcy5kb2N1bWVudCk7IiwiKGZ1bmN0aW9uKCQpIHtcclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnYm9keScpLnRvb2x0aXAoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcjogJ1tyZWw9dG9vbHRpcF0nXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcsIFsndWkucm91dGVyJ10pXHJcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZXMgPSBbXTtcclxuICAgICAgICAgICAgc3RhdGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ2hvbWUnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvaG9tZS5odG1sJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLm1haW4nLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnbWFpbicsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdibG9xaGVhZC5jb21wb25lbnRzLm1haW5HYW1lJ1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0YXRlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6ICdob21lLnRlc3QnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAndGVzdCcsXHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICdibG9xaGVhZC5jb21wb25lbnRzLnRlc3RJbnRlcmZhY2UnXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIF0pLnJ1bihbJ2dhbWVTZXJ2aWNlJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UpIHtcclxuICAgICAgICBnYW1lU2VydmljZS5pbml0KCk7XHJcbiAgICB9XSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnQnJlZWRlcicsIFsnJGZpbHRlcicsICdUcmFpdEluc3BlY3RvcicsIGZ1bmN0aW9uKCRmaWx0ZXIsIFRyYWl0SW5zcGVjdG9yKSB7XHJcblxyXG5cclxuXHJcbiAgICAvKiBjb25zdHJ1Y3RvciAqL1xyXG4gICAgdmFyIEJyZWVkZXIgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnRyYWl0SW5zcGVjdG9yID0gbmV3IFRyYWl0SW5zcGVjdG9yKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUoY29uZmlnKTtcclxuICAgICAgICB0aGlzLnNldFJhbmRvbU5hbWUoKTtcclxuICAgIH07XHJcbiAgICAvKiBwdWJsaWMgZnVuY3Rpb25zICovXHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaWQgPSBjb25maWcuaWQgfHwgdGhpcy5pZCB8fCAwO1xyXG4gICAgICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGNvbmZpZy5nZW5lcmF0aW9uIHx8IHRoaXMuZ2VuZXJhdGlvbiB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBjb25maWcuc2NhbGUgfHwgdGhpcy5zY2FsZSB8fCA2O1xyXG4gICAgICAgIHRoaXMuZ2VuZXMgPSBjb25maWcuZ2VuZXMgfHwgdGhpcy5nZW5lcyB8fCBbXTtcclxuICAgICAgICB0aGlzLnJlZEdyZWVuSW1hZ2UgPSBnZXRSZWRHcmVlbkltYWdlKHRoaXMuZ2VuZXMsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHRoaXMuYmx1ZUltYWdlID0gZ2V0Qmx1ZUltYWdlKHRoaXMuZ2VuZXMsIHRoaXMuc2NhbGUpO1xyXG4gICAgICAgIHRoaXMudHJhaXRzID0gdGhpcy50cmFpdEluc3BlY3Rvci5nZXRUcmFpdHModGhpcy5nZW5lcyk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuYnJlZWQgPSBmdW5jdGlvbihwYXJ0bmVyLCBuZXdJZCkge1xyXG4gICAgICAgIHZhciBwMSA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHAyID0gcGFydG5lcjtcclxuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgQnJlZWRlcih7XHJcbiAgICAgICAgICAgIGlkOiBuZXdJZCxcclxuICAgICAgICAgICAgZ2VuZXJhdGlvbjogcDEuZ2VuZXJhdGlvbiArIDEsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgcDEuZ2VuZXMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgdmFyIHAxZyA9IHAxLmdlbmVzW2ddO1xyXG4gICAgICAgICAgICB2YXIgcDJnID0gcDIuZ2VuZXNbZ107XHJcbiAgICAgICAgICAgIGNoaWxkLmdlbmVzLnB1c2goY3Jvc3NvdmVyKHAxZywgcDJnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoaWxkLnVwZGF0ZSh7IHNjYWxlOiA2IH0pO1xyXG4gICAgICAgIHJldHVybiBjaGlsZDtcclxuICAgIH07XHJcbiAgICBCcmVlZGVyLnByb3RvdHlwZS5nZXRUcmFpdHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuaGFzVHJhaXQgPSBmdW5jdGlvbih0cmFpdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLnRyYWl0cy5maWx0ZXIoZnVuY3Rpb24obXlUcmFpdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbXlUcmFpdC5uYW1lID09PSB0cmFpdDtcclxuICAgICAgICB9KS5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuc2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5nZXRSYW5kb21OYW1lKCk7XHJcbiAgICB9O1xyXG4gICAgQnJlZWRlci5wcm90b3R5cGUuZ2V0UmFuZG9tTmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdlbmVzIHx8IHRoaXMuZ2VuZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdVbmtub3duIEdlbmRlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBmaXJzdE5hbWUgPSAodGhpcy5oYXNUcmFpdCgnTWFsZScpKVxyXG4gICAgICAgICAgICA/IG5hbWVMaXN0MVtyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCxuYW1lTGlzdDEubGVuZ3RoLTEpXVxyXG4gICAgICAgICAgICA6IG5hbWVMaXN0MltyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCxuYW1lTGlzdDIubGVuZ3RoLTEpXTtcclxuXHJcbiAgICAgICAgdmFyIGxhc3ROYW1lID0gbmFtZUxpc3QzW3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0My5sZW5ndGgtMSldXHJcbiAgICAgICAgICAgICsgbmFtZUxpc3Q0W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0NC5sZW5ndGgtMSldXHJcbiAgICAgICAgICAgICsgbmFtZUxpc3Q1W3JhbmRvbUludEZyb21JbnRlcnZhbCgwLG5hbWVMaXN0NS5sZW5ndGgtMSldO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBmaXJzdE5hbWUgKyBsYXN0TmFtZTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuICAgIHZhciBnZW5ldGljT3B0aW9ucyA9IHtcclxuICAgICAgICBjcm9zc292ZXJyYXRlOiAwLjVcclxuICAgIH07XHJcbiAgICBcclxuXHJcblxyXG5cclxuICAgIC8vIG1hbGUgZmlyc3QgbmFtZXNcclxuICAgIHZhciBuYW1lTGlzdDEgPSBbJ0RpZ2d5ICcsJ0RlYW4gJywnRHVrZSAnLCdEb3lsZSAnLCdEaXJrICcsJ0RhZyAnLCdEaW1pdHJpICcsJ0RydSAnXTtcclxuICAgIC8vIGZlbWFsZSBmaXJzdCBuYW1lc1xyXG4gICAgdmFyIG5hbWVMaXN0MiA9IFsnRGFnZ3kgJywnRGFpc3kgJywnRGluYWggJywnRGhhcm1hICcsJ0RlZSAnLCdEYXBobmUgJywnRGl4aWUgJywnRGFyY3kgJ107XHJcbiAgICAvLyBsYXN0IG5hbWUgcHJlZml4ZXMgKGVtcHR5IHN0cmluZ3MgYW5kIGR1cGVzIGFyZSBmb3IgY29udHJvbGxpbmcgdGhlIG9kZHMpXHJcbiAgICB2YXIgbmFtZUxpc3QzID0gWycnLCcnLCcnLCcnLCcnLCdWYW4gJywnVm9uICcsJ09cXCcnLCdNYycsJ01jJ107XHJcbiAgICAvLyBsYXN0IG5hbWVzXHJcbiAgICB2YXIgbmFtZUxpc3Q0ID0gWydEb29nJywnRGliYicsJ0RhYmInLCdEaWcnLCdEYW5nJywnRHVnZyddO1xyXG4gICAgLy8gbGFzdCBuYW1lIHN1ZmZpeGVzIChlbXB0eSBzdHJpbmdzIGFuZCBkdXBlcyBhcmUgZm9yIGNvbnRyb2xsaW5nIHRoZSBvZGRzKVxyXG4gICAgdmFyIG5hbWVMaXN0NSA9IFsnJywnJywnJywnbGVyJywnbGVyJywnZXInLCdlcicsJ2VyJywnd3VlcnN0JywnZXJ3dWVyc3QnLCdlcnRvbicsICdlcnRvbicsJ3NraSddO1xyXG4gICAgXHJcbiAgICBcclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgLyogcHJpdmF0ZSBmdW5jdGlvbnMgKi9cclxuICAgIGZ1bmN0aW9uIGNyb3Nzb3ZlcihnMSwgZzIpIHtcclxuICAgICAgICB2YXIgY3Jvc3NvdmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAvL3ZhciBtdXRhdGlvbiA9IHJhbmRvbUludEZyb21JbnRlcnZhbCgwLCAyNTUpO1xyXG4gICAgICAgIHZhciBnID0gYW5ndWxhci5jb3B5KGNyb3Nzb3ZlciA8PSBnZW5ldGljT3B0aW9ucy5jcm9zc292ZXJyYXRlID8gZzEgOiBnMik7XHJcbiAgICAgICAgdmFyIG11dGF0aW9uUmF0ZSA9IGdbMl0gLyAyNTUuMDtcclxuICAgICAgICAvL3ZhciBtciA9IG11dGF0aW9uIDwgZ1syXSA/IHJhbmRvbUludEZyb21JbnRlcnZhbCgtMjUsIDI1KSA6IDA7XHJcbiAgICAgICAgLy92YXIgbWcgPSBtdXRhdGlvbiA8IGdbMl0gPyByYW5kb21JbnRGcm9tSW50ZXJ2YWwoLTI1LCAyNSkgOiAwO1xyXG4gICAgICAgIC8vdmFyIG1iID0gbXV0YXRpb24gPCBnWzJdID8gcmFuZG9tSW50RnJvbUludGVydmFsKC0yNSwgMjUpIDogMDtcclxuICAgICAgICB2YXIgYml0U3RyaW5nUiA9ICcnO1xyXG4gICAgICAgIHZhciBiaXRTdHJpbmdHID0gJyc7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTw4O2krKykgeyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihNYXRoLnJhbmRvbSgpIDwgbXV0YXRpb25SYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBiaXRTdHJpbmdSICs9ICcxJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ1IgKz0gJzAnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKE1hdGgucmFuZG9tKCkgPCBtdXRhdGlvblJhdGUpIHtcclxuICAgICAgICAgICAgICAgIGJpdFN0cmluZ0cgKz0gJzEnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYml0U3RyaW5nRyArPSAnMCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG9sZFIgPSBnWzBdO1xyXG4gICAgICAgIHZhciBvbGRHID0gZ1sxXTtcclxuICAgICAgICBnWzBdIF49IHBhcnNlSW50KGJpdFN0cmluZ1IsIDIpO1xyXG4gICAgICAgIGdbMV0gXj0gcGFyc2VJbnQoYml0U3RyaW5nRywgMik7XHJcbiAgICAgICAgLy9pZihvbGRSICE9PSBnWzBdKSBjb25zb2xlLmxvZygnTXV0YXRpb24hIFI6ICcrb2xkUisnIHRvICcrZ1swXSk7XHJcbiAgICAgICAgLy9pZihvbGRHICE9PSBnWzFdKSBjb25zb2xlLmxvZygnTXV0YXRpb24hIEc6ICcrb2xkRysnIHRvICcrZ1sxXSk7XHJcbi8qXHJcbiAgICAgICAgaWYgKGdbMF0gKyBtciA8IDApIGdbMF0gPSAwO1xyXG4gICAgICAgIGVsc2UgaWYgKGdbMF0gKyBtciA+IDI1NSkgZ1swXSA9IDI1NTtcclxuICAgICAgICBlbHNlIGdbMF0gKz0gbXI7XHJcblxyXG4gICAgICAgIGlmIChnWzFdICsgbWcgPCAwKSBnWzFdID0gMDtcclxuICAgICAgICBlbHNlIGlmIChnWzFdICsgbWcgPiAyNTUpIGdbMV0gPSAyNTU7XHJcbiAgICAgICAgZWxzZSBnWzFdICs9IG1nO1xyXG5cclxuICAgICAgICBpZiAoZ1syXSArIG1iIDwgMCkgZ1syXSA9IDA7XHJcbiAgICAgICAgZWxzZSBpZiAoZ1syXSArIG1iID4gMjU1KSBnWzJdID0gMjU1O1xyXG4gICAgICAgIGVsc2UgZ1syXSArPSBtYjtcclxuKi9cclxuICAgICAgICByZXR1cm4gZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWRHcmVlbkltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpLCBnZW5lcy5sZW5ndGgpLCBzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Qmx1ZUltYWdlKGdlbmVzLCBzY2FsZSkge1xyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZUJpdG1hcERhdGFVUkwoYWRkUm93cyhjb252ZXJ0Qmx1ZU1hcChnZW5lcyksIGdlbmVzLmxlbmd0aCksIHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0UmVkR3JlZW5NYXAoZ2VuZXMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgciA9IGdlbmVzW2ldWzBdO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGdlbmVzW2ldWzFdO1xyXG4gICAgICAgICAgICB2YXIgYnJpZ2h0ID0gKE1hdGguYWJzKHIgLSBnKSAvIDI1NS4wKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyID4gZykgZyA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgciA9IDA7XHJcbiAgICAgICAgICAgIHIgKj0gYnJpZ2h0O1xyXG4gICAgICAgICAgICBnICo9IGJyaWdodDtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3IsIGcsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Qmx1ZU1hcChnZW5lcykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFswLCAwLCBnZW5lc1tpXVsyXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJvd3MoZ2VuZXMsIGNvbHMpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAoZ2VuZXMubGVuZ3RoIC8gY29scyk7IGorKykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByb3cucHVzaChnZW5lc1tpICsgKGogKiBjb2xzKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEJyZWVkZXI7XHJcbn1dKTsiLCJ2YXIgZ2FtZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XHJcblxyXG5cclxuZ2FtZS5jb25zdGFudCgnZ2VuZURlZmluaXRpb25zJywgKGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGdlbmVEZWZpbml0aW9ucyA9IFtdO1xyXG4gICAgLy9nZW5lIDpyLGcsYiByOnJlY2Vzc2l2ZSwgZzpkb21pbmFudCwgYjptdXRhdGlvbnJhdGVcclxuICAgIGdlbmVEZWZpbml0aW9uc1swXSA9IHsgZG9tOiAnQnJvYWQgU2hvdWxkZXJzJywgcmVjOiAnU2xlbmRlciBTaG91bGRlcnMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMV0gPSB7IGRvbTogJ1RoaWNrIFNrdWxsJywgcmVjOiAnU29mdCBTa3VsbCcsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syXSA9IHsgZG9tOiAnTGFyZ2UgQXJtcycsIHJlYzogJ1NtYWxsIEFybXMnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbM10gPSB7IGRvbTogJ0xhcmdlIExlZ3MnLCByZWM6ICdTbWFsbCBMZWdzJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzRdID0geyBkb206ICdCaWcgQ2hlc3QnLCByZWM6ICdXZWFrIENoZXN0JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzVdID0geyBkb206ICdUb3VnaCBKYXcnLCByZWM6ICdXZWFrIEphdycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s2XSA9IHsgZG9tOiAnT2FmaXNoJywgcmVjOiAnTW91c2V5JywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ1NUUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnU1RSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1s5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEwXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzExXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEyXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzEzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydTVFInXSB9O1xyXG5cclxuICAgIGdlbmVEZWZpbml0aW9uc1sxNF0gPSB7IGRvbTogJ0NhbGN1bGF0ZWQgRGVjaXNpb25zJywgcmVjOiAnUmVja2xlc3MnLCBhdHRyOiBbJ0lOVCddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMTVdID0geyBkb206ICdMYXRlcmFsIFRoaW5rZXInLCByZWM6ICdTaW5nbGUgTWluZGVkJywgYXR0cjogWydJTlQnXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzE2XSA9IHsgZG9tOiAnUXVpY2sgTGVhcm5lcicsIHJlYzogJ0ZvcmdldGZ1bCcsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1sxOV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syMl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syM10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNF0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNV0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syNl0gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1syN10gPSB7IGRvbTogJycsIHJlYzogJycsIGF0dHI6IFsnSU5UJ10gfTtcclxuXHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjhdID0geyBkb206ICdGdWxsIExpcHMnLCByZWM6ICdUaGluIExpcHMnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMjldID0geyBkb206ICdEYXJrIFNraW4nLCByZWM6ICdGYWlyIFNraW4nLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzBdID0geyBkb206ICdFbG9xdWVudCcsIHJlYzogJ0NhdGF0b25pYycsIGF0dHI6IFsnQ0hSJ10gfTtcclxuICAgIGdlbmVEZWZpbml0aW9uc1szMV0gPSB7IGRvbTogJ1Bvd2VyZnVsIFZvaWNlJywgcmVjOiAnUXVpZXQgVm9pY2UnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzJdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzNdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzRdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzVdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzZdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzddID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzhdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbMzldID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDBdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcbiAgICBnZW5lRGVmaW5pdGlvbnNbNDFdID0geyBkb206ICcnLCByZWM6ICcnLCBhdHRyOiBbJ0NIUiddIH07XHJcblxyXG4gICAgZ2VuZURlZmluaXRpb25zWzQyXSA9IHsgZG9tOiAnRmVtYWxlJywgcmVjOiAnTWFsZScsIGF0dHI6IFsnTENLJ119O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQzXSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ0XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ1XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ2XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ3XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ4XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG4gICAgZ2VuZURlZmluaXRpb25zWzQ5XSA9IHsgZG9tOiAnJywgcmVjOiAnJywgYXR0cjogWydMQ0snXSB9O1xyXG5cclxuICAgIHJldHVybiBnZW5lRGVmaW5pdGlvbnM7XHJcbn0pKCkpO1xyXG5cclxuZ2FtZS5jb25zdGFudCgndHJhaXREZWZpbml0aW9ucycsIChmdW5jdGlvbigpIHtcclxuICAgIHZhciB0cmFpdHMgPSBbe1xyXG4gICAgICAgICAgICBuYW1lOiAnSGFuZHNvbWUnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIDIwMF0sXHJcbiAgICAgICAgICAgICAgICBbNSwgNTAsIDI1NV1cclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcmVxdWlyZWRUcmFpdHM6IFsnTWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdQcmV0dHknLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzAsIC0yMDAsIC0xMDBdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwLCAyNDBdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkVHJhaXRzOiBbJ0ZlbWFsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdBZ2dyZXNzaXZlJyxcclxuICAgICAgICAgICAgZ2VuZXM6IFtcclxuICAgICAgICAgICAgICAgIFswLCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMiwgMjAwLCAyNTVdLFxyXG4gICAgICAgICAgICAgICAgWzQsIDIwMCwgMjU1XSxcclxuICAgICAgICAgICAgICAgIFs1LCAyMDAsIDI1NV0sXHJcbiAgICAgICAgICAgICAgICBbMTQsIC0yNTUsIC0xNTBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ0ZlbWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIDAsIDI1NV1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnTWFsZScsXHJcbiAgICAgICAgICAgIGdlbmVzOiBbXHJcbiAgICAgICAgICAgICAgICBbNDIsIC0yNTUsIC0xXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdIYW5kc29tZSBBZ2dyZXNzaXZlIGFuZCBzb21ldGhpbmcnLFxyXG4gICAgICAgICAgICBnZW5lczogW1xyXG4gICAgICAgICAgICAgICAgWzMwLCAwLCAwXVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICByZXF1aXJlZFRyYWl0czogWydIYW5kc29tZScsICdBZ2dyZXNzaXZlJ11cclxuICAgICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBjaGVja2VkID0gW107XHJcbiAgICB2YXIgZ2V0VHJhaXRCeU5hbWUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyYWl0cy5maWx0ZXIoZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gdC5uYW1lO1xyXG4gICAgICAgIH0pWzBdO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlID0gZnVuY3Rpb24odHJhaXQpIHtcclxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodHJhaXQucmVxdWlyZWRUcmFpdHMpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJhaXQucmVxdWlyZWRUcmFpdHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXF1aXJlZFRyYWl0ID0gdHJhaXQucmVxdWlyZWRUcmFpdHNbal07XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxID0gZ2V0VHJhaXRCeU5hbWUocmVxdWlyZWRUcmFpdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZC5pbmRleE9mKHJlcS5uYW1lKSA9PT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVxdWlyZWRHZW5lc1JlY3Vyc2l2ZShyZXEpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCByZXEuZ2VuZXMubGVuZ3RoOyBnKyspXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhaXQuZ2VuZXMucHVzaChyZXEuZ2VuZXNbZ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoZWNrZWQucHVzaCh0cmFpdC5uYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJ1aWxkVHJhaXRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRyYWl0ID0gdHJhaXRzW2ldO1xyXG4gICAgICAgICAgICBnZXRSZXF1aXJlZEdlbmVzUmVjdXJzaXZlKHRyYWl0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyh0cmFpdHMpO1xyXG4gICAgICAgIHJldHVybiB0cmFpdHM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGJ1aWxkVHJhaXRzKCk7XHJcbn0pKCkpO1xyXG5cclxuXHJcbmdhbWUuZmFjdG9yeSgnVHJhaXRJbnNwZWN0b3InLCBbJyRmaWx0ZXInLCAnZ2VuZURlZmluaXRpb25zJywgJ3RyYWl0RGVmaW5pdGlvbnMnLCBmdW5jdGlvbigkZmlsdGVyLCBnZW5lRGVmaW5pdGlvbnMsIHRyYWl0RGVmaW5pdGlvbnMpIHtcclxuICAgIC8qIGNvbnN0cnVjdG9yICovXHJcbiAgICB2YXIgVHJhaXRJbnNwZWN0b3IgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICB0aGlzLnVwZGF0ZShjb25maWcpO1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8qIHB1YmxpYyBmdW5jdGlvbnMgKi9cclxuICAgIFRyYWl0SW5zcGVjdG9yLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICBpZiAodHlwZW9mKGNvbmZpZykgPT0gJ3VuZGVmaW5lZCcpIGNvbmZpZyA9IHt9O1xyXG4gICAgICAgIC8vdGhpcy5pZCA9IGNvbmZpZy5pZCB8fCB0aGlzLmlkIHx8IDA7ICAgICAgICBcclxuICAgIH07XHJcblxyXG4gICAgVHJhaXRJbnNwZWN0b3IucHJvdG90eXBlLmdldFRyYWl0cyA9IGZ1bmN0aW9uKGdlbmVzKSB7XHJcbiAgICAgICAgdmFyIHJldCA9IFtdO1xyXG4gICAgICAgIGlmIChnZW5lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFpdERlZmluaXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGQgPSB0cmFpdERlZmluaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IHRkLmdlbmVzLmxlbmd0aCAmJiBtZXQgPT09IHRydWU7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZGcgPSB0ZC5nZW5lc1toXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGdlbmVzW3RkZ1swXV1bMV0gLSBnZW5lc1t0ZGdbMF1dWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2IDwgdGRnWzFdIHx8IHYgPiB0ZGdbMl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChtZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh0ZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiBwcml2YXRlIG1lbWJlcnMgKi9cclxuXHJcbiAgICByZXR1cm4gVHJhaXRJbnNwZWN0b3I7XHJcbn1dKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2dhbWVDb250cm9sJywge1xyXG4gICAgdGVtcGxhdGU6ICc8ZGl2PjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyXCIgbmctY2xpY2s9XCIkY3RybC50b2dnbGVTdGF0ZSgpO1wiPjxpIGNsYXNzPVwiZmFcIiBuZy1jbGFzcz1cIiRjdHJsLmdldEljb24oKVwiPjwvaT48L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgY29udHJvbGxlcjogWydnYW1lU2VydmljZScsICdnYW1lU3RhdGVzJywgZnVuY3Rpb24oZ2FtZVNlcnZpY2UsIGdhbWVTdGF0ZXMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFN0YXRlID0gZ2FtZVNlcnZpY2UuZ2V0U3RhdGUoKTsgICAgICAgICAgICBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNlbGYudG9nZ2xlU3RhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc2VsZi5jdXJyZW50U3RhdGUgPSAoc2VsZi5jdXJyZW50U3RhdGUgPT09IGdhbWVTdGF0ZXMuUlVOTklORyA/IGdhbWVTdGF0ZXMuUEFVU0VEIDogZ2FtZVN0YXRlcy5SVU5OSU5HKTtcclxuICAgICAgICAgICAgZ2FtZVNlcnZpY2Uuc2V0U3RhdGUoc2VsZi5jdXJyZW50U3RhdGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5nZXRJY29uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmN1cnJlbnRTdGF0ZSA9PT0gZ2FtZVN0YXRlcy5SVU5OSU5HID8gJ2ZhLXBhdXNlJyA6ICdmYS1wbGF5JztcclxuICAgICAgICB9O1xyXG4gICAgfV1cclxufSk7IiwidmFyIGdhbWUgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuZ2FtZS5jb21wb25lbnQoJ2Jsb3FoZWFkLmNvbXBvbmVudHMubWFpbkdhbWUnLCB7XHJcbiAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudHMvbWFpbkdhbWUvbWFpbkdhbWUuaHRtbCcsXHJcbiAgICBjb250cm9sbGVyOiAnYmxvcWhlYWQuY29udHJvbGxlcnMubWFpbkdhbWUnXHJcbn0pO1xyXG5cclxuXHJcblxyXG5nYW1lLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLm1haW5HYW1lJywgWyckc2NvcGUnLCAnJHRpbWVvdXQnLCAnZ2FtZVNlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCBnYW1lU2VydmljZSkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5oZWxsb1RleHQgPSBcIkhlbGxvIG1haW4gZ2FtZVwiO1xyXG4gICAgICAgIHNlbGYuZGlnZ2VycyA9IGdhbWVTZXJ2aWNlLmRpZ2dlcnM7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBbXTtcclxuICAgICAgICBzZWxmLmRpZ2dlckFuY2VzdG9ycyA9IFtdO1xyXG5cclxuICAgICAgICBnYW1lU2VydmljZS5TdWJzY3JpYmVCcmVlZEV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIG9mZnNwcmluZykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkgeyBzZWxmLmRpZ2dlck9mZnNwcmluZyA9IG9mZnNwcmluZzsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZ2FtZVNlcnZpY2UuU3Vic2NyaWJlTmV3R2VuZXJhdGlvbkV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGYuZGlnZ2VycyA9IGRhdGEuRGlnZ2VycztcclxuICAgICAgICAgICAgICAgIHNlbGYuZGlnZ2VyQW5jZXN0b3JzID0gZGF0YS5BbmNlc3RvcnM7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxufV0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYmxvcWhlYWQuZ2VuZXRpeEFwcCcpO1xyXG5cclxuYXBwLmNvbXBvbmVudCgnYmxvcWhlYWQuY29tcG9uZW50cy50ZXN0SW50ZXJmYWNlJywge1xyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvdGVzdEludGVyZmFjZS5odG1sJyxcclxuICAgIGNvbnRyb2xsZXI6ICdibG9xaGVhZC5jb250cm9sbGVycy50ZXN0SW50ZXJmYWNlJ1xyXG59KTtcclxuXHJcbmFwcC5jb21wb25lbnQoJ2dlbm9tZUVkaXRvcicse1xyXG4gICAgYmluZGluZ3M6IHtcclxuICAgICAgICB1bml0OiAnPCcsXHJcbiAgICAgICAgdXBkYXRlR2VuZTogJyYnXHJcbiAgICB9LFxyXG4gICAgY29udHJvbGxlcjogWydnZW5lRGVmaW5pdGlvbnMnLCBmdW5jdGlvbihnZW5lRGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuZ2VuZURlZmluaXRpb25zID0gZ2VuZURlZmluaXRpb25zO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlcy5wdXNoKHJhbmRvbUludEZyb21JbnRlcnZhbCgwLDI1NSkpO1xyXG4gICAgICAgICAgICBuZXdWYWx1ZXMucHVzaChyYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwyNTUpKTtcclxuICAgICAgICAgICAgbmV3VmFsdWVzLnB1c2gocmFuZG9tSW50RnJvbUludGVydmFsKDAsMjU1KSk7XHJcbiAgICAgICAgICAgIHNlbGYudXBkYXRlR2VuZSh7JGdlbmVJbmRleDogaW5kZXgsICR2YWx1ZXM6IG5ld1ZhbHVlc30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2VsZi5yYW5kb21pemVBbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLnVuaXQuZ2VuZXMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgICAgICAgICBzZWxmLnJhbmRvbWl6ZShpKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBnZW5kZXIgPSByYW5kb21JbnRGcm9tSW50ZXJ2YWwoMCwxKSA9PSAwID8gJ01hbGUnIDogJ0ZlbWFsZSc7XHJcbiAgICAgICAgICAgIHZhciByID0gKGdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICAgICAgdmFyIGcgPSAoZ2VuZGVyID09ICdNYWxlJykgPyAwIDogMjU1O1xyXG4gICAgICAgICAgICBzZWxmLnVwZGF0ZUdlbmUoeyRnZW5lSW5kZXg6IDQyLCAkdmFsdWVzOiBbcixnLDBdfSk7XHJcbiAgICAgICAgICAgIHNlbGYudW5pdC5zZXRSYW5kb21OYW1lKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgIH1dLFxyXG4gICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnXHJcbiAgXHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ2Jsb3FoZWFkLmNvbnRyb2xsZXJzLnRlc3RJbnRlcmZhY2UnLCBbJyRzY29wZScsICckdGltZW91dCcsICdnYW1lU2VydmljZScsICdCcmVlZGVyJywgJ2dlbmVEZWZpbml0aW9ucycsICd0cmFpdERlZmluaXRpb25zJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgZ2FtZVNlcnZpY2UsIEJyZWVkZXIsIGdlbmVEZWZpbml0aW9ucywgdHJhaXREZWZpbml0aW9ucykge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIHNlbGYubGFzdEJyZWVkZXJJRCA9IDA7XHJcbiAgICBzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPSAnTWFsZSc7XHJcbiAgICBcclxuICAgIHNlbGYua2lsbEJyZWVkZXIgPSBmdW5jdGlvbihkaWdnZXIpIHtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMuc3BsaWNlKHNlbGYuZGlnZ2Vycy5pbmRleE9mKGRpZ2dlciksIDEpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgc2VsZi5hZGROZXdCcmVlZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGdlbmVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCBnZW5lRGVmaW5pdGlvbnMubGVuZ3RoOyBnKyspIHtcclxuICAgICAgICAgICAgZ2VuZXMucHVzaChbMCwwLDBdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciByID0gKHNlbGYubmV3QnJlZWRlckdlbmRlciA9PSAnTWFsZScpID8gMjU1IDogMDtcclxuICAgICAgICB2YXIgZyA9IChzZWxmLm5ld0JyZWVkZXJHZW5kZXIgPT0gJ01hbGUnKSA/IDAgOiAyNTU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2VuZXNbNDJdWzBdID0gcjtcclxuICAgICAgICBnZW5lc1s0Ml1bMV0gPSBnO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGRpZ2dlciA9IG5ldyBCcmVlZGVyKHtcclxuICAgICAgICAgICAgaWQ6IHNlbGYubGFzdEJyZWVkZXJJRCsrLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uOiAwLFxyXG4gICAgICAgICAgICBzY2FsZTogNixcclxuICAgICAgICAgICAgZ2VuZXM6IGdlbmVzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICBzZWxmLmRpZ2dlcnMudW5zaGlmdChkaWdnZXIpO1xyXG4gICAgICAgIFxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgc2VsZi4kb25Jbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZi5nZW5lRGVmaW5pdGlvbnMgPSBnZW5lRGVmaW5pdGlvbnM7XHJcbiAgICAgICAgc2VsZi50cmFpdERlZmluaXRpb25zID0gdHJhaXREZWZpbml0aW9ucztcclxuICAgICAgICAvL3NlbGYuZGlnZ2VycyA9IGdhbWVTZXJ2aWNlLmRpZ2dlcnM7XHJcbiAgICAgICAgc2VsZi5kaWdnZXJzID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVCcmVlZEV2ZW50KCRzY29wZSwgZnVuY3Rpb24oZXZlbnQsIG9mZnNwcmluZykge1xyXG4gICAgICAgIC8vICAgIC8vJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHsgc2VsZi5kaWdnZXJPZmZzcHJpbmcgPSBvZmZzcHJpbmc7IH0pO1xyXG4gICAgICAgIC8vfSk7XHJcbiAgICAgICAgLy9nYW1lU2VydmljZS5TdWJzY3JpYmVOZXdHZW5lcmF0aW9uRXZlbnQoJHNjb3BlLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xyXG4gICAgICAgIC8vICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gICAgICAgIHNlbGYuZGlnZ2VycyA9IGRhdGEuRGlnZ2VycztcclxuICAgICAgICAvLyAgICAgICAgLy9zZWxmLmRpZ2dlckFuY2VzdG9ycyA9IGRhdGEuQW5jZXN0b3JzO1xyXG4gICAgICAgIC8vICAgIH0pO1xyXG4gICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgIHNlbGYudXBkYXRlR2VuZSA9IGZ1bmN0aW9uKGRpZ2dlckluZGV4LCBnZW5lSW5kZXgsIHZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgZGlnZ2VyID0gc2VsZi5kaWdnZXJzW2RpZ2dlckluZGV4XTtcclxuICAgICAgICAgICAgZGlnZ2VyLmdlbmVzW2dlbmVJbmRleF0gPSB2YWx1ZXM7XHJcbiAgICAgICAgICAgIGRpZ2dlci51cGRhdGUoKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxufV0pOyIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL2hvbWUuaHRtbCcsXG4gICAgJzx1bCBjbGFzcz1cIm5hdiBuYXYtcGlsbHNcIj48bGk+PGEgdWktc3JlZj1cImhvbWUubWFpblwiPk1haW48L2E+PC9saT48bGk+PGEgdWktc3JlZj1cImhvbWUudGVzdFwiPlRlc3QgSW50ZXJmYWNlPC9hPjwvbGk+PC91bD48Z2FtZS1jb250cm9sPjwvZ2FtZS1jb250cm9sPjxkaXYgdWktdmlldz1cIlwiPjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL21haW5HYW1lL21haW5HYW1lLmh0bWwnLFxuICAgICc8aSBjbGFzcz1cImZhIGZhLWxlYWZcIj48L2k+PHNwYW4gbmctYmluZD1cIiRjdHJsLmhlbGxvVGV4dFwiPjwvc3Bhbj48ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC14cy0xMlwiPjxmaWVsZHNldD48bGVnZW5kPlBhcmVudHM8L2xlZ2VuZD48c3BhbiBjbGFzcz1cImNvbC14cy0yXCIgbmctcmVwZWF0PVwiZGlnZ2VyIGluICRjdHJsLmRpZ2dlcnNcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2RpZ2dlci5yZWRHcmVlbkltYWdlfX1cIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2RpZ2dlci5ibHVlSW1hZ2V9fVwiPjx1bCBjbGFzcz1cImxpc3QtZ3JvdXBcIj48bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5HZW5lcmF0aW9uOiA8c3BhbiBuZy1iaW5kPVwiZGlnZ2VyLmdlbmVyYXRpb25cIj48L3NwYW4+PC9saT48bGkgbmctcmVwZWF0PVwidHJhaXQgaW4gZGlnZ2VyLmdldFRyYWl0cygpXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBuZy1iaW5kPVwidHJhaXQubmFtZVwiPjwvbGk+PGxpIG5nLWlmPVwiZGlnZ2VyLmdldFRyYWl0cygpLmxlbmd0aCA9PSAwXCIgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj5ObyBUcmFpdHM8L2xpPjwvdWw+PC9zcGFuPjwvZmllbGRzZXQ+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZmllbGRzZXQ+PGxlZ2VuZD5PZmZzcHJpbmc8L2xlZ2VuZD48c3BhbiBjbGFzcz1cImNvbC14cy00XCI+PGRpdiBuZy1yZXBlYXQ9XCJkaWdnZXIgaW4gJGN0cmwuZGlnZ2VyT2Zmc3ByaW5nXCI+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3tkaWdnZXIucmVkR3JlZW5JbWFnZX19XCI+PC9kaXY+PGRpdiBjbGFzcz1cImNvbC14cy02XCI+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3tkaWdnZXIuYmx1ZUltYWdlfX1cIj48L2Rpdj48L2Rpdj48L3NwYW4+PC9maWVsZHNldD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93XCI+Jm5ic3A7PC9kaXY+PGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj48ZmllbGRzZXQ+PGxlZ2VuZD5BbmNlc3RvcnM8L2xlZ2VuZD48ZGl2IGNsYXNzPVwiY29sLXhzLTRcIj48ZGl2IG5nLXJlcGVhdD1cImFuY2VzdG9ycyBpbiAkY3RybC5kaWdnZXJBbmNlc3RvcnNcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2FuY2VzdG9yc1swXS5yZWRHcmVlbkltYWdlfX1cIj48L2Rpdj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmVcIiBuZy1zcmM9XCJ7e2FuY2VzdG9yc1sxXS5yZWRHcmVlbkltYWdlfX1cIj48L2Rpdj48L2Rpdj48L2Rpdj48L2ZpZWxkc2V0PjwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdibG9xaGVhZC5nZW5ldGl4QXBwJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdjb21wb25lbnRzL3Rlc3RJbnRlcmZhY2UvZ2Vub21lRWRpdG9yLmh0bWwnLFxuICAgICc8aDQ+e3skY3RybC51bml0Lm5hbWV9fSA8aSBjbGFzcz1cImZhIGZhLXN0YXJcIiBuZy1yZXBlYXQ9XCJ0cmFpdCBpbiAkY3RybC51bml0LnRyYWl0c1wiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIHJlbD1cInRvb2x0aXBcIiB0aXRsZT1cInt7dHJhaXQubmFtZX19XCI+PC9pPjwvaDQ+PGltZyBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgbmctc3JjPVwie3skY3RybC51bml0LnJlZEdyZWVuSW1hZ2V9fVwiPjxkaXYgc3R5bGU9XCJoZWlnaHQ6IDQwMHB4OyBvdmVyZmxvdy15OiBzY3JvbGw7IG1hcmdpbi10b3A6NXB4XCI+PHRhYmxlIGNsYXNzPVwiZ2Vub21lRWRpdG9yIHRhYmxlIHRhYmxlLWNvbmRlbnNlZFwiPjx0aGVhZD48dHI+PHRoPiZuYnNwOzwvdGg+PHRoPkRvbWluYW50PC90aD48dGg+UmVjZXNzaXZlPC90aD48dGg+VmFsdWVzPC90aD48dGg+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi13YXJuaW5nXCIgbmctY2xpY2s9XCIkY3RybC5yYW5kb21pemVBbGwoKTtcIj48aSBjbGFzcz1cImZhIGZhLWFzdGVyaXNrXCI+PC9pPjwvYnV0dG9uPjwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT48dHIgbmctcmVwZWF0PVwiZ2VuZSBpbiAkY3RybC5nZW5lRGVmaW5pdGlvbnNcIj48dGQgbmctYmluZD1cIiRpbmRleFwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCJnZW5lLmRvbVwiPjwvdGQ+PHRkIG5nLWJpbmQ9XCJnZW5lLnJlY1wiPjwvdGQ+PHRkPlIgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMF1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IEcgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMV1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+IEIgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMjU1XCIgbmctbW9kZWw9XCIkY3RybC51bml0LmdlbmVzWyRpbmRleF1bMl1cIiBuZy1jaGFuZ2U9XCIkY3RybC51bml0LnVwZGF0ZSgpXCI+PC90ZD48dGQ+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1zdWNjZXNzXCIgbmctY2xpY2s9XCIkY3RybC5yYW5kb21pemUoJGluZGV4KTtcIj48aSBjbGFzcz1cImZhIGZhLWFzdGVyaXNrXCI+PC9pPjwvYnV0dG9uPjwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2Jsb3FoZWFkLmdlbmV0aXhBcHAnLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2NvbXBvbmVudHMvdGVzdEludGVyZmFjZS90ZXN0SW50ZXJmYWNlLmh0bWwnLFxuICAgICc8ZGl2Pjx1bCBjbGFzcz1cIm5hdiBuYXYtdGFic1wiIHJvbGU9XCJ0YWJsaXN0XCI+PGxpIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjbGFzcz1cImFjdGl2ZVwiPjxhIGRhdGEtdGFyZ2V0PVwiI2JyZWVkZXJzXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+QnJlZWRlcnM8L2E+PC9saT48bGkgcm9sZT1cInByZXNlbnRhdGlvblwiPjxhIGRhdGEtdGFyZ2V0PVwiI290aGVyXCIgcm9sZT1cInRhYlwiIGRhdGEtdG9nZ2xlPVwidGFiXCI+T3RoZXI8L2E+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJ0YWItY29udGVudFwiPjxkaXYgcm9sZT1cInRhYnBhbmVsXCIgY2xhc3M9XCJ0YWItcGFuZSBhY3RpdmVcIiBpZD1cImJyZWVkZXJzXCI+PGZpZWxkc2V0PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTZcIj48ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCIgcm9sZT1cImdyb3VwXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLWdyb3VwXCIgbmctY2xpY2s9XCIkY3RybC5hZGROZXdCcmVlZGVyKClcIj5BZGQgbmV3IEJyZWVkZXI8L2J1dHRvbj48ZGl2IGNsYXNzPVwiZHJvcGRvd24gYnRuLWdyb3VwXCI+PGRpdiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXCIgZGF0YS10b2dnbGU9XCJkcm9wZG93blwiPkdlbmRlcjoge3skY3RybC5uZXdCcmVlZGVyR2VuZGVyfX0gPHNwYW4gY2xhc3M9XCJjYXJldFwiPjwvc3Bhbj48L2Rpdj48dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PGxpPjxhIGRhdGEtdGFyZ2V0PVwiXCIgbmctY2xpY2s9XCIkY3RybC5uZXdCcmVlZGVyR2VuZGVyID0gXFwnTWFsZVxcJ1wiPk1hbGU8L2E+PC9saT48bGk+PGEgZGF0YS10YXJnZXQ9XCJcIiBuZy1jbGljaz1cIiRjdHJsLm5ld0JyZWVkZXJHZW5kZXIgPSBcXCdGZW1hbGVcXCdcIj5GZW1hbGU8L2E+PC9saT48L3VsPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXhzLTRcIiBuZy1yZXBlYXQ9XCJkaWdnZXIgaW4gJGN0cmwuZGlnZ2Vyc1wiPjxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBncmV5XCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIG5nLWNsaWNrPVwiJGN0cmwua2lsbEJyZWVkZXIoZGlnZ2VyKVwiPjxzcGFuPiZ0aW1lczs8L3NwYW4+PC9idXR0b24+PGdlbm9tZS1lZGl0b3IgdW5pdD1cImRpZ2dlclwiIHVwZGF0ZS1nZW5lPVwiJGN0cmwudXBkYXRlR2VuZSgkaW5kZXgsICRnZW5lSW5kZXgsICR2YWx1ZXMpXCI+PC9nZW5vbWUtZWRpdG9yPjwvZGl2PjwvZGl2PjwvZGl2PjwvZmllbGRzZXQ+PC9kaXY+PGRpdiByb2xlPVwidGFicGFuZWxcIiBjbGFzcz1cInRhYi1wYW5lXCIgaWQ9XCJvdGhlclwiPjxkaXYgY2xhc3M9XCJ3ZWxsXCI+PGgzPk5vdGhpbmcgdG8gc2VlIGhlcmUuLi4uPC9oMz48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG4iXX0=
